{"version":3,"sources":["images/Logo3.svg","components/Basic/LoadingData.js","components/Basic/AddToListCircle.jsx","components/Basic/PersonTiny.js","images/Cadillac.jpg","images/Shape-of-you.jpg","images/da-da-da.jpg","images/ayo.jpg","images/movie.jpg","images/coming-home.jpg","images/boulevard-of-broken-dreams.png","images/Гипноз.jpg","images/hitmyphone.jpg","images/Clout-cobain.png","images/Mood.jpg","images/Ты_горишь_как_огонь.jpg","images/лбтд.jpg","images/On-my-own.png","images/Buster-Keaton.jpeg","images/loyal.png","images/freaky-friday.jpg","images/Dont-check-on-me.jpg","images/changes.jpg","images/im-the-one.jpg","images/authors/justin-bieber.png","images/Rich-love.jpg","images/No-vacancy.jpg","images/Main-chick.jpg","images/revolver.jpg","images/Yamakasi.jpeg","images/roxanne.png","images/I-can-fucking-tell.png","images/Leck.jpg","images/tasm2Ost.jpg","images/Earth.png","images/Новая-волна.jpg","images/Can-we-kiss-forever.jpg","images/Drinking-problem.jpeg","images/Drunk-in-love.jpg","music/Da da da.mp3","music/Shape of You.mp3","music/Cadillac.mp3","music/Ayo.mp3","music/Movie.mp3","music/Coming Home.mp3","music/Boulevard of broken dreams.mp3","music/Гипноз.mp3","music/Hit My Phone.mp3","music/CLOUT COBAIN  CLOUT CO13A1N.mp3","music/Mood.mp3","music/ТЫ ГОРИШЬ КАК ОГОНЬ.mp3","music/лбтд.mp3","music/On My Own.mp3","music/Angel.mp3","music/Loyal.mp3","music/Freaky Friday.mp3","music/Don't check on me.mp3","music/Intentions.mp3","music/I'm the one.mp3","music/Yummy.mp3","music/Hold On.mp3","music/Rich Love.mp3","music/No Vacancy.mp3","music/Main Chick.mp3","music/Best Love Song.mp3","music/Tantra.mp3","music/Drunk In Love.mp3","music/Roxanne.mp3","music/Drinking Problem.mp3","music/I Can Fvcking Tell.mp3","music/Can we kiss forever.mp3","music/Leck.mp3","music/Need Somebody.mp3","music/I Chose You.mp3","music/I'm Moving To England.mp3","music/Earth.mp3","firebase.js","functions/checkNumber.js","functionality/AuthContext.js","functionality/SongPlay/SongContext.js","functions/shuffleSongs.js","functions/displayDate.js","functionality/ScreenContext.js","components/Basic/Hint.jsx","components/Basic/BackBtn.js","images/authors/Denzel-Curry.jpg","images/authors/Morgenshtern.jpg","images/authors/Tyomcha.jpg","images/authors/yvng-swag.jpg","images/authors/chris-brown.jpg","images/authors/tyga.jpg","images/authors/diddy.jpg","images/authors/greenday.jpg","images/authors/johny-koch.jpg","images/authors/andro.jpg","images/authors/qontrast.jpg","images/authors/jaden.jpg","images/authors/kid-cudi.png","images/authors/dirty-money.jpg","images/authors/OneRepublic.jpg","images/authors/t-pain.jpg","images/authors/Kid-ink.jpg","images/authors/Chance-the-rapper.jpg","images/authors/Bob.jpg","images/authors/Lil-dicky.png","images/authors/Arizona-zervas.jpg","images/authors/Andy-panda.jpg","images/authors/Adriana-proenza.jpg","data/authors.js","images/authors/bluelake.jpg","images/authors/quavo.jpg","images/authors/Fetty-wap.png","components/AuthorPage/SmallImages.js","functions/rightFormatForBigNumber.js","functionality/ModalClass.js","hooks/useOutsideClick.js","functions/getUID.js","functions/createChat.js","functions/findChatURL.js","components/AuthorPage/ChatWithFriendButton.js","components/Basic/LoadingCircle.js","functions/sendMessage.js","components/Basic/SearchBar.js","components/Basic/FriendsListToShareWith.js","functions/shareWithManyFriends.js","components/SignIn-Up/RadioBtn.js","components/FullScreenPlayer/colorCircles.js","data/friends.js","data/chat.js","functions/createRandomId.js","functions/shareWithOneFriend.js","components/Basic/SongItemChoice.js","functions/shortWord.js","functions/displayAuthorsStr.js","functions/addSongToLibrary.js","functions/filterArrayWithArray.js","functions/deleteSongFromLibrary.js","components/FullScreenPlayer/AddOrDeleteSongButton.jsx","components/AuthorPage/PersonTinyVerticalItem.js","components/AuthorPage/PersonTinyList.js","components/Basic/SongInfo.js","components/FullScreenPlayer/AddToPlaylists.jsx","functions/addOrDeleteSongToPlaylist.js","components/FullScreenPlayer/SongItem.js","components/Basic/MoreBtn.js","components/Basic/TitleWithMoreBtn.js","components/Basic/SongList.js","components/AlbumPage/CustomizeAlbum.js","functions/addAuthorToLibrary.js","functions/addFriend.js","components/Basic/LastSeen.jsx","functions/addPlaylistToLibrary.js","functions/removePlaylistFromLibrary.js","components/Settings/GeneralSettings.jsx","components/Settings/SettingsList.jsx","components/AuthorPage/Header.js","pages/AlbumPage.js","components/AddWindow/AddPlaylist.js","components/Basic/DownloadPhotoButton.jsx","components/Basic/ErrorPlate.jsx","components/AddWindow/AddSong.js","components/Tools/Slider.js","components/AuthorPage/AddWindow.js","components/AuthorPage/FriendRequestItem.js","components/AuthorPage/FriendRequest.js","functions/findAuthorsAlbums.js","functions/normalizeString.js","components/AuthorPage/PlaylistItem.js","components/Basic/AlbumList.js","components/AuthorPage/Playlists.js","functions/findSimilarArtists.js","components/AuthorPage/AuthorItemBig.js","components/Basic/AuthorsList.js","components/AuthorPage/SimilarArtists.js","functions/findIfSongIsNew.js","components/AuthorPage/TopSongs.js","pages/AuthorPage.js","components/ChatPage/AttachmentList.jsx","hooks/fetchFirebaseData.js","components/ChatPage/ChatInfo.jsx","hooks/useFetchDocs.js","components/ChatPage/WallpaperItem.jsx","components/ChatPage/Wallpapers.jsx","components/ChatPage/ChatMoreBtn.js","components/ChatPage/ChatHeader.js","functions/findWhatToWriteInResponseItem.js","hooks/useOnScreen.js","components/Basic/SongItemLoading.jsx","components/ChatPage/SeenByCircle.jsx","components/ChatPage/MessageItem.js","components/ChatPage/MessageField.jsx","components/ChatPage/DisplayChatMessages.jsx","components/ChatPage/AttachedItemsInChatInput.jsx","components/AuthorPage/ChatInput.js","components/ChatPage/DateOnTop.jsx","components/ChatPage/TypingAnimation.jsx","pages/DialoguePage.js","utils/consts.js","components/Basic/FullScreenLoading.jsx","components/SignIn-Up/BlurredBg.js","components/SignIn-Up/TitleAndLogo.js","components/HomePage/MainBanner.js","components/HomePage/RecentSongs.js","components/HomePage/RecommendedAuthors.js","components/Basic/ImportantMessage.jsx","components/HomePage/RecommendedSongs.js","components/HomePage/Top15Songs.jsx","images/wave2.svg","components/LibraryPage/LibraryPlaylistItem.js","components/LibraryPage/SongsPage.js","components/LibraryPage/CreatePlaylistPage.js","components/LibraryPage/PlaylistsPage.js","components/LibraryPage/AuthorsPage.js","components/Basic/IsUserOnlineCircle.jsx","components/ChatPage/AmountOfUnseenMessages.jsx","components/ChatPage/LastSentMessage.js","components/ChatPage/ChatItem.js","functions/findAmountOfUnseenMessages.js","components/Basic/ModalWindow.js","components/ChatPage/CreateChat.jsx","components/Basic/SwitchToggle.jsx","routes.js","pages/LogInPage.js","pages/SignUpPage.js","pages/Home.js","pages/LibraryPage.js","pages/SearchPage.js","pages/ChatPage.js","routers/ContentRouter.js","functions/correctTimeDisplay.js","components/FullScreenPlayer/Player.js","data/leftSideBar.js","components/BottomControlBar/MobileControlBarItem.js","components/Mobile/BottomControlBar.js","components/Mobile/FullBottomSide.js","components/FullScreenPlayer/Loading.js","components/FullScreenPlayer/LyricsParagraph.jsx","data/playerRightSide.js","components/FullScreenPlayer/Share.js","components/FullScreenPlayer/Options.js","components/FullScreenPlayer/Lyrics.js","components/FullScreenPlayer/Queue.js","components/FullScreenPlayer/AuthorsList.jsx","components/Basic/FullScreenPlayer.js","components/LeftsideBar/NavigationItem.js","components/LeftsideBar/Person.js","components/LeftsideBar/TinyPlaylist.js","components/Basic/NotificationCircle.js","components/Basic/LeftsideBar.js","components/Basic/ContentWrapper.js","routers/AppRouter.js","App.js","index.js"],"names":["LoadingData","className","src","Logo","alt","AddToListCircle","listOfChosenItems","setListOfChosenItems","itemId","undefined","onClick","e","preventDefault","includes","type","filteredList","filter","el","style","color","prev","PersonTiny","data","chosenArray","setChosenArray","restProps","uid","photoURL","displayName","_","console","log","process","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","storage","firestore","checkNumber","number","max","min","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","a","user","collection","doc","get","then","snapshot","fullUserInfo","value","login","email","password","setError","signInWithEmailAndPassword","catch","err","message","signup","name","role","imageColors","createUserWithEmailAndPassword","result","set","isAuthor","parseInt","isVerified","numberOfListenersPerMonth","ownSongs","ownPlaylists","addedSongs","addedPlaylists","addedAuthors","lastSongPlayed","chats","friends","subscribers","regDate","FieldValue","serverTimestamp","logout","signOut","Provider","SongContext","useSong","SongProvider","yourSongs","setYourSongs","yourPlaylists","setYourPlaylists","yourAuthors","setYourAuthors","yourFriends","setYourFriends","currentSongQueue","setCurrentSongQueue","currentSong","setCurrentSong","currentSongInQueue","setCurrentSongInQueue","currentSongPlaylistSource","setCurrentSongPlaylistSource","currentSongData","setCurrentSongData","imgColors","setImgColors","play","setPlay","currentTime","setCurrentTime","songDuration","setSongDuration","repeatMode","setRepeatMode","shuffleMode","setShuffleMode","currentParagraph","setCurrentParagraph","isThereKaraoke","setIsThereKaraoke","openFullScreenPlayer","setOpenFullScreenPlayer","songRef","useRef","currentParagraphRef","inputRef","leftSideBarInputRef","rightSideCurrentPage","setRightSideCurrentPage","openMenu","setOpenMenu","checkKaraoke","lyrics","length","startTime","tempSongObject","id","songSrc","authors","cover","listens","releaseDate","curSong","curQueue","lastQueue","source","image","songsList","docRef","exists","songData","error","fetchYourSongs","map","song","i","fetchCurrentSongInitial","playlistId","forEach","friendObj","friend","status","songId","findIndex","authorId","fetchCurrentSong","shuffledSongsArray","songsArray","randomIndexesArray","newSongsNumbersArray","Array","counter","randNum","Math","floor","random","push","shuffleSongs","listenCountTimeOut","defineCurrentParagraph","first","last","roundedTime","parseFloat","current","toFixed","midPoint","blockStartTime","nextBlockStartTime","nextSong","stopPropagation","correctSongNumber","currentSongId","update","prevSong","clearTimeout","setTimeout","substr","sourceId","res","listedData","document","title","playSong","pause","playing","event","target","defineCurrentParagraphLight","documentElement","setProperty","changeCurrentTime","localName","displayAuthors","authorsList","separatingSign","to","displayAuthorsFull","loadSongData","duration","window","innerWidth","findLen","str","amountOfZeros","toDateTime","secs","t","Date","setSeconds","displayDate","stringDate","displayMode","Months","newDate","isNaN","seconds","getMonth","getDate","getFullYear","getHours","getMinutes","ScreenContext","useScreen","ScreenProvider","screenWidth","setScreenWidth","innerHeight","screenHeight","setScreenHeight","isMobile","setIsMobile","handleResize","addEventListener","removeEventListener","Hint","text","direction","bottom","left","transform","top","right","BackBtn","history","useHistory","goBack","morgen","songs","eldjey","johnykoch","greenday","andro","qontrast","yvngswag","jaden","kidcudi","miyagi","crhisbrown","tyga","tyomcha","diddy","dirtymoney","denzel","LilDicky","justinBieber","oneRepublic","tPain","andyPanda","chanceTheRapper","kidInk","Bob","arizonaZervas","adrianaProezna","SmallImages","imagesList","borderColor","marginRight","index","border","rightFormanForBigNumber","ModalContext","useModal","ModalClassProvider","openModal","setOpenModal","content","setContent","toggleModal","useOutsideClick","ref","setFunc","handleClickOutside","contains","getUID","replace","c","piece","toString","createChat","participants","chatUID","chatName","chatImage","admins","messages","wallpaper","typing","personId","chatInfo","findChatURL","allParticipants","setShouldCreate","setFriendChatId","foundChat","chatId","where","docs","chat","count","every","ChatWithFriendButton","shouldCreate","friendChatId","display","width","textDecoration","background","LoadingCircle","sendMessage","chatData","sender","messageText","attachedSongs","attachedAlbums","attachedAuthors","inResponseToMessage","tempMessages","sentTime","seenBy","SearchBar","typingTimeout","setValue","setAllFoundSongs","setResultPlaylists","setResultAuthorList","focus","defaultSearchMode","inputText","defaultSongsListValue","setMessage","foundAnything","setFoundAnything","searchMode","setSearchMode","findSongs","foundItemTempArray","response","item","author","authorData","findAuthors","songsIdsArray","albumsIdsArray","albumId","albumData","findPlaylists","playlist","findSomething","placeholder","onChange","onKeyUp","func","onKeyDown","position","height","marginTop","FriendsListToShareWith","whatToShare","chosenFriends","setChosenFriends","setMessageText","shared","setShared","searchValue","setSearchValue","foundPeople","setFoundPeople","showChoose","margin","maxWidth","opacity","shareList","userId","shareWithFriends","RadioBtn","currentActive","label","fontWeight","ColorCircles","createRandomId","len","randId","shareWithOneFriend","isThereChat","Object","keys","SongItemChoice","listOfSongs","setListOfSongs","showListens","isNewSong","openMoreWindow","setOpenMoreWindow","moreWindowPosRelativeToViewport","setMoreWindowPosRelativeToViewport","currentItemRef","addOrDeleteSongToLibrary","newList","songNum","addOrDeleteSongToPlaylist","visibility","alignItems","marginLeft","fontSize","getBoundingClientRect","key","isAlbum","friendId","shortWord","word","displayAuthorsStr","authorslist","separator","lenLimit","authorsString","join","addSongToLibrary","songAuthorsUIDS","finalAuthorsUIDS","filterArrayWithArray","whatToFilter","withWhatToFilter","this","indexOf","deleteSongFromLibrary","songObj","find","filtered","finalFilteredAuthors","AddOrDeleteButtonFull","PersonTinyVerticalItem","person","PersonTinyList","listOfPeople","setListOfPeople","scrollLeft","setScrollLeft","wrapperRef","shouldRenderRightArrow","setShouldRenderRightArrow","scrollWidth","offsetWidth","personObj","personData","onScroll","SongInfo","setSongData","friendsThatHaveThisSong","setFriendsThatHaveThisSong","findFriendsThatHaveThisSong","minHeight","AddToPlaylists","flexDirection","newSongsList","unshift","SongItem","localIndex","listOfChosenSongs","MoreBtn","lenOfList","maxLen","boolVal","TitleWithMoreBtn","marginBottom","SongList","showCount","showSearch","displayIfEmpty","showMoreSongs","setShowMoreSongs","displaySongs","setDisplaySongs","listSongsIds","allFoundSongs","CustomizeAlbum","playlistName","setPlaylistName","playlistCover","setPlaylistCover","authorsInputValue","setAuthorsInputValue","allAuthors","setAllAuthors","chosenAuthors","setChosenAuthors","creationDate","setReleaseDate","songsSearch","setSongsSearch","allSongs","setAllSongs","chosenSongs","setChosenSongs","playlistStatus","setPlaylistStatus","isPrivate","isPlaylistPrivate","setIsPlaylistPrivate","loadingAuthors","setLoadingAuthors","loadingSongs","setLoadingSongs","imageLocalPath","setImageLocalPath","setImageColors","friendsIds","isAdmin","removeAuthorFromList","people","place","file","files","URL","createObjectURL","storageRef","fileRef","child","put","getDownloadURL","authorRef","authorPlaylists","filteredPlaylists","timerUpFunc","getColors","colors","required","some","addAuthor","removeSongFromList","justifyContent","onFileChange","addAuthorToLibrary","addFriend","friendData","updatedDataForFriend","updatedDataForCurrentUser","LastSeen","userUID","lastSeen","setLastSeen","isOnline","setIsOnline","unsubscribe","onSnapshot","fiveMinutesAgo","getTime","online","addPlaylistToLibrary","playlistData","removePlaylistFromLibrary","GeneralSettings","SettingsList","settingsList","icon","settingItem","Header","headerColors","albumAuthors","setAlbumAuthors","authorsImages","setAuthorsImages","isFriend","moreWindowRef","ids","deleteFriend","fetchAuthorsData","animation","AlbumPage","match","useRouteMatch","playlistSongs","setPlaylistSongs","setHeaderColors","params","setAlbumData","fetchAlbumsData","albumSong","AddPlaylist","onSubmit","DownloadPhotoButton","setErrorMessage","downloadedPhoto","setDownloadedPhoto","btnText","isValid","validExtensions","ext","ex","ErrorPlate","errorMessage","AddSong","songName","setSongName","songCover","setSongCover","setSongSrc","setLyrics","lyricsObject","setLyricsObject","showSuccessMessage","setShowSuccessMessage","authorSongs","padding","borderRadius","manuallyChangeColor","arrayOfParagraphs","startSubstr","Slider","pages","currentPage","setCurrentPage","pageName","AddWindow","openAddSongWindow","setOpenAddSongWindow","currentSliderPage","setCurrentSliderPage","sliderPages","FriendRequestItem","rejectFriend","FriendRequest","friendRequests","setFriendRequests","friendsList","otherUserFriendList","obj","findAuthorsAlbums","authorsData","setAuthorsPlaylists","currentUserUID","tempArray","sort","b","normalizeString","toLowerCase","PlaylistItem","listOfChosenAlbums","setListOfChosenAlbums","playlistDate","split","AlbumList","listOfAlbums","Playlists","authorsPlaylists","findSimilarArtistsNames","authorsSongsArr","setSimilarAuthors","peopleArray","newAuthors","flat","uniqueAuthorsSet","Set","uniqueAuthorsIdsArray","from","uniqueAuthorsDataArray","j","findSimilarArtists","authorsSongsArray","AuthorItemBig","listOfChosenAuthors","setListOfChosenAuthors","AuthorsList","listOfAuthors","SimilarArtists","similarArtists","setSimilarArtists","findIfSongIsNew","songReleaseDate","TopSongs","popularSongs","setPopularSongs","newSongs","setNewSongs","prevSongs","findAuthorsSongs","AuthorPage","setAuthorsData","AttachmentList","attachmentList","setAttachmentList","sliderCurrentPage","setSliderCurrentPage","attachmentContent","fetchAttachedData","attachedType","firebaseCollection","page","useFetchFirebaseData","list","setState","sortCondition","whereCondFP","whereCondSP","whereCondTP","deps","fetchData","itemData","ChatInfo","setParticipants","chatNameValue","setChatNameValue","newChatPhoto","setNewChatPhoto","newImageLocalPath","setNewImageLocalPath","newImageColors","setNewImageColors","participantsPage","setParticipantsPage","showUpdateBtn","setShowUpdateBtn","listOfItems","setList","fetchItem","useFetchDocs","trim","WallpaperItem","currentWallpaper","Wallpapers","wallpaperList","setWallpaperList","ChatMoreBtn","chatMoreBtnRef","ChatHeader","otherPerson","setOtherPerson","otherPersonId","fetchOtherPerson","findWhatToWriteInResponseToItem","referedMessage","useOnScreen","isIntersecting","setIntersecting","observer","IntersectionObserver","entry","observe","disconnect","SongItemLoading","SeenByCircle","listOfSeen","MessageItem","messageData","scrollToMessageRef","setScrollToMessageId","scrollToMessageId","showPhoto","otherMessages","inResponseToMessageArr","setInResponseToMessageArr","userThatSentMessage","setUserThatSentMessage","messageSentTime","attachedSongsData","setAttachedSongsData","attachedAuthorsData","setAttachedAuthorsData","attachedPlaylistsData","setAttachedPlaylistsData","inResponseToMessagesData","setInResponseToMessagesData","inResponseNames","setInResponseNames","messageRef","isVisible","swipeDeltaX","setSwipeDeltaX","transormTransition","setTransformTransition","handlers","useSwipeable","onSwiping","deltaX","addMessageToResponseList","returnToInitial","dropDelta","fetchSentMessageUser","messageId","paddingBottom","transition","onTouchEnd","album","MessageField","messageList","setInResponseToMessage","setDateRefsArray","setShowPhoto","showDate","setShowDate","dateRef","DisplayChatMessages","messagesWindowRef","scrollTo","offsetTop","AttachedItemsInChatInput","attachedItems","setAttachedItems","setItems","removeItemFromAttached","ChatInput","openAttachWindow","setOpenAttachWindow","setAttachedSongs","setAttachedAlbums","setAttachedAuthors","resultPlaylists","resultAuthorList","attachedSongsNames","setAttachedSongsNames","attachWindowRef","sendMessageFull","maxHeight","overflowY","outline","DateOnTop","date","TypingAnimation","typingPeople","typingPeopleData","setTypingPeopleData","DialoguePage","setChatData","scrollToBottomElementRef","setMessageList","currentDateOnTop","setCurrentDateOnTop","dateRefsArray","scroll","scrollHeight","clientHeight","scrollToMyRef","scrollTop","innerHTML","LOGIN_ROUTE","SIGNUP_ROUTE","HOME_ROUTE","LIBRARY_ROUTE","SEARCH_ROUTE","CHAT_ROUTE","FullScreenLoading","BlurredBg","TitleAndLogo","MainBanner","bannerColors","setBannerColors","setcurrentSliderPage","topAuthor","setTopAuthor","topSong","setTopSong","topAlbum","setTopAlbum","findTop","criterion","orderBy","boxShadow","RecentSongs","recentSongs","setRecentSongs","tempSongsIds","findRecentSongs","RecommendedAuthors","recommendationAuthors","setRecommendationAuthors","uniqueAuthors","setUniqueAuthors","uniqueAuthorsUIDSArray","ImportantMessage","button","RecommendedSongs","recommendedSongs","setRecommendedSongs","fetchRecommendedSongs","Top15Songs","topSongs","setTopSongs","limit","LibraryPlaylistItem","SongsPage","p","wave","CreatePlaylistPage","PlaylistsPage","AuthorsPage","IsUserOnlineCircle","AmountOfUnseenMessages","amountOfUnseen","LastSentMessage","lastAttachedItem","setLastAttachedItem","shouldPutDot","setShouldPutDot","lastMessage","setLastMessage","messageIcons","lastIcon","setLastIcon","authorName","findWhatToWriteUnderName","ChatItem","setAmountOfUnseen","reduce","accum","findAmountOfUnseenMessages","now","ModalWindow","modalRef","CreateChat","foundFriends","setFoundFriends","chatCover","setChatCover","setChatName","setRrrorMessage","SwitchToggle","boolValue","setBoolValue","publicRoutes","path","Component","setEmail","setPassword","disabled","currentRoleChoice","setCurrentRoleChoice","setName","setPhotoURL","privateRoutes","libraryPages","resultSongList","setResultSongList","resultAlbumList","setResultAlbumList","shadowColor","setShadowColor","yourChats","setYourChats","switchValue","setSwitchValue","ContentRouter","component","exact","correctTimeDisplay","Player","textLimit","linkToAuthors","overflow","whiteSpace","step","leftSideBar","link","MobileControlBarItem","element","BottomControlBar","userElement","location","hash","FullBottomSide","Loading","timeSpan","pointerEvents","LyricsParagraph","lyricsModeratorMode","karaokeModeratorTimes","setKaraokeModeratorTimes","setInputKaraokeTime","inputKaraokeTime","paragraphRef","paragraphStyle","abs","addLyricsBlock","indexOfRelativeElement","tempTimes","splice","convertedToNumber","inputKaraoke","rightSide","socialMedia","social","setLyricsModeratorMode","canUpdateLyrics","setCanUpdateLyrics","scrollIntoView","paragraph","tempSongData","FullScreenPlayer","lyricsRef","transformTransition","mobileMenuTransition","setMobileMenuTransition","deltaY","setDeltaY","deltaYMobileMenu","setDeltaYMobileMenu","mobileContentScroll","mobileMenuRef","bgRef","handlersForMobileMenu","onSwipedLeft","onSwipedRight","returnToInitialMobileMenu","rightSideContent","RightSidePage","noLyrics","changeRightSidePage","zIndex","NavigationItem","Person","TinyPlaylist","NotificationCircle","LeftsideBar","currentFriendToPlaylistPage","setCurrentFriendToPlaylistPage","alignSelf","constructor","ContentWrapper","intervalExciter","setIntervalExciter","interval","setInterval","clearInterval","onLoadedData","onTimeUpdate","AppRouter","App","basename","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ba60692.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo3.fc53f4ac.svg\";","import React from 'react'\r\nimport Logo from '../../images/Logo3.svg'\r\nexport const LoadingData = () => {\r\n\treturn (\r\n\t\t<div className = \"LoadingData\">\r\n\t\t\t<img src={Logo} alt=\"\" />\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport {IoIosCheckmarkCircle, IoIosRadioButtonOff} from 'react-icons/io'\r\n\r\nexport const AddToListCircle = ({listOfChosenItems, setListOfChosenItems, itemId}) => {\r\n\treturn listOfChosenItems !== undefined ? (\r\n\t\t<div onClick = {e=>e.preventDefault()}>\r\n\t\t\t{\r\n\t\t\t\tlistOfChosenItems.includes(itemId) ?\r\n\t\t\t\t\t<button type=\"button\" onClick={(e) => { let filteredList = listOfChosenItems.filter(el => el !== itemId); setListOfChosenItems(filteredList) }} className=\"addToListBtn\">\r\n\t\t\t\t\t\t<IoIosCheckmarkCircle style={{ color: 'var(--lightBlue)' }} />\r\n\t\t\t\t\t</button> :\r\n\t\t\t\t\t<button type=\"button\" onClick={() => setListOfChosenItems(prev => [...prev, itemId])} className=\"addToListBtn\">\r\n\t\t\t\t\t\t<IoIosRadioButtonOff />\r\n\t\t\t\t\t</button>\r\n\t\t\t}\r\n\t\t</div>\r\n\t) : null\r\n}\r\n","import React from 'react'\r\nimport { AddToListCircle } from './AddToListCircle'\r\nexport const PersonTiny = ({data, chosenArray, setChosenArray, ...restProps}) => {\r\n\treturn (\r\n\t\t<div className=\"person\" {...restProps}>\r\n\t\t\t<AddToListCircle listOfChosenItems = {chosenArray} setListOfChosenItems = {setChosenArray} itemId = {data.uid}/>\r\n\t\t\t<div className=\"pesronImg\">\r\n\t\t\t\t<img src={data.photoURL} alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"personName\">\r\n\t\t\t\t{data.displayName}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Cadillac.70f03a2c.jpg\";","export default __webpack_public_path__ + \"static/media/Shape-of-you.a9a52651.jpg\";","export default __webpack_public_path__ + \"static/media/da-da-da.6ec71e46.jpg\";","export default __webpack_public_path__ + \"static/media/ayo.2964bde9.jpg\";","export default __webpack_public_path__ + \"static/media/movie.51e02da0.jpg\";","export default __webpack_public_path__ + \"static/media/coming-home.849a02e0.jpg\";","export default __webpack_public_path__ + \"static/media/boulevard-of-broken-dreams.026872d7.png\";","export default __webpack_public_path__ + \"static/media/Гипноз.c34c3a56.jpg\";","export default __webpack_public_path__ + \"static/media/hitmyphone.ee7a3893.jpg\";","export default __webpack_public_path__ + \"static/media/Clout-cobain.f0f828dc.png\";","export default __webpack_public_path__ + \"static/media/Mood.076fb483.jpg\";","export default __webpack_public_path__ + \"static/media/Ты_горишь_как_огонь.f4a80a70.jpg\";","export default __webpack_public_path__ + \"static/media/лбтд.5172f440.jpg\";","export default __webpack_public_path__ + \"static/media/On-my-own.a68b20c0.png\";","export default __webpack_public_path__ + \"static/media/Buster-Keaton.7efbdcda.jpeg\";","export default __webpack_public_path__ + \"static/media/loyal.92e2953d.png\";","export default __webpack_public_path__ + \"static/media/freaky-friday.144e27db.jpg\";","export default __webpack_public_path__ + \"static/media/Dont-check-on-me.eab9cb77.jpg\";","export default __webpack_public_path__ + \"static/media/changes.0625d65a.jpg\";","export default __webpack_public_path__ + \"static/media/im-the-one.51c78f3d.jpg\";","export default __webpack_public_path__ + \"static/media/justin-bieber.a64412fc.png\";","export default __webpack_public_path__ + \"static/media/Rich-love.1ee38a35.jpg\";","export default __webpack_public_path__ + \"static/media/No-vacancy.51f83469.jpg\";","export default __webpack_public_path__ + \"static/media/Main-chick.edb4134a.jpg\";","export default __webpack_public_path__ + \"static/media/revolver.0f049b67.jpg\";","export default __webpack_public_path__ + \"static/media/Yamakasi.42ff7e12.jpeg\";","export default __webpack_public_path__ + \"static/media/roxanne.2420c14f.png\";","export default __webpack_public_path__ + \"static/media/I-can-fucking-tell.e8584039.png\";","export default __webpack_public_path__ + \"static/media/Leck.71d82d26.jpg\";","export default __webpack_public_path__ + \"static/media/tasm2Ost.a62e9888.jpg\";","export default __webpack_public_path__ + \"static/media/Earth.5a524f61.png\";","export default __webpack_public_path__ + \"static/media/Новая-волна.44af3a15.jpg\";","export default __webpack_public_path__ + \"static/media/Can-we-kiss-forever.163e90ed.jpg\";","export default __webpack_public_path__ + \"static/media/Drinking-problem.2a6a8f72.jpeg\";","export default __webpack_public_path__ + \"static/media/Drunk-in-love.1e3f9eb5.jpg\";","export default __webpack_public_path__ + \"static/media/Da da da.6fe02252.mp3\";","export default __webpack_public_path__ + \"static/media/Shape of You.5b915f48.mp3\";","export default __webpack_public_path__ + \"static/media/Cadillac.704f0c05.mp3\";","export default __webpack_public_path__ + \"static/media/Ayo.ed690ad5.mp3\";","export default __webpack_public_path__ + \"static/media/Movie.2b583995.mp3\";","export default __webpack_public_path__ + \"static/media/Coming Home.c063172e.mp3\";","export default __webpack_public_path__ + \"static/media/Boulevard of broken dreams.30184a4c.mp3\";","export default __webpack_public_path__ + \"static/media/Гипноз.a2a6b5b8.mp3\";","export default __webpack_public_path__ + \"static/media/Hit My Phone.468aae34.mp3\";","export default __webpack_public_path__ + \"static/media/CLOUT COBAIN  CLOUT CO13A1N.5b1f1720.mp3\";","export default __webpack_public_path__ + \"static/media/Mood.85484109.mp3\";","export default __webpack_public_path__ + \"static/media/ТЫ ГОРИШЬ КАК ОГОНЬ.e5c27654.mp3\";","export default __webpack_public_path__ + \"static/media/лбтд.ca049aa1.mp3\";","export default __webpack_public_path__ + \"static/media/On My Own.7d96c332.mp3\";","export default __webpack_public_path__ + \"static/media/Angel.3bda6e1f.mp3\";","export default __webpack_public_path__ + \"static/media/Loyal.c5aaabae.mp3\";","export default __webpack_public_path__ + \"static/media/Freaky Friday.0036b7a4.mp3\";","export default __webpack_public_path__ + \"static/media/Don't check on me.10b27dbf.mp3\";","export default __webpack_public_path__ + \"static/media/Intentions.d7f98e4b.mp3\";","export default __webpack_public_path__ + \"static/media/I'm the one.9fef9dce.mp3\";","export default __webpack_public_path__ + \"static/media/Yummy.dac00ec9.mp3\";","export default __webpack_public_path__ + \"static/media/Hold On.264abaa7.mp3\";","export default __webpack_public_path__ + \"static/media/Rich Love.cd0ab1c2.mp3\";","export default __webpack_public_path__ + \"static/media/No Vacancy.7298c78e.mp3\";","export default __webpack_public_path__ + \"static/media/Main Chick.1938e956.mp3\";","export default __webpack_public_path__ + \"static/media/Best Love Song.ba132a5c.mp3\";","export default __webpack_public_path__ + \"static/media/Tantra.a9e921b2.mp3\";","export default __webpack_public_path__ + \"static/media/Drunk In Love.261db7ba.mp3\";","export default __webpack_public_path__ + \"static/media/Roxanne.e09cd702.mp3\";","export default __webpack_public_path__ + \"static/media/Drinking Problem.242a7c1a.mp3\";","export default __webpack_public_path__ + \"static/media/I Can Fvcking Tell.831c76d1.mp3\";","export default __webpack_public_path__ + \"static/media/Can we kiss forever.a3ee0569.mp3\";","export default __webpack_public_path__ + \"static/media/Leck.60200232.mp3\";","export default __webpack_public_path__ + \"static/media/Need Somebody.b53be172.mp3\";","export default __webpack_public_path__ + \"static/media/I Chose You.c9a00b79.mp3\";","export default __webpack_public_path__ + \"static/media/I'm Moving To England.2a420fd3.mp3\";","export default __webpack_public_path__ + \"static/media/Earth.ffc7df51.mp3\";","import firebase from 'firebase/app'\r\nimport 'firebase/storage'\r\nimport 'firebase/auth'\r\nimport 'firebase/firestore'\r\nimport seedDatabase from './seedDatabase';\r\n\r\nconsole.log(process.env.REACT_APP_FIREBASE_API_KEY)\r\nconst app = firebase.initializeApp({\r\n\tapiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n\tauthDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n\tprojectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n\tstorageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n\tmessagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n\tappId:process.env.REACT_APP_FIREBASE_APP_ID,\r\n\tmeasurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n});\r\nexport const auth = app.auth()\r\nexport const storage = app.storage()\r\nexport const firestore = app.firestore()\r\n// seedDatabase(firestore)\r\nexport default app","export default function checkNumber(number, max, min = 0){\r\n\tif(number > max) return min\r\n\tif(number < min) return max\r\n\r\n\treturn number\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { auth, firestore } from '../firebase'\r\nimport firebase from 'firebase'\r\nimport { LoadingData } from '../components/Basic/LoadingData'\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport const useAuth = () => {\r\n\treturn useContext(AuthContext)\r\n}\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n\tconst [currentUser, setCurrentUser] = useState({})\r\n\tconst [loading, setLoading] = useState(true)\r\n\tfunction login(email, password, setError, setLoading) {\r\n\t\tsetLoading(true)\r\n\t\treturn auth.signInWithEmailAndPassword(email, password).then().catch(err=>{\r\n\t\t\tsetError(err.message)\r\n\t\t\tsetLoading(false)\r\n\t\t})\r\n\t}\r\n\r\n\tfunction logout() {\r\n\t\treturn auth.signOut()\r\n\t}\r\n\r\n\tfunction signup(email, name, password, role, photoURL, imageColors, setError, setLoading) {\r\n\t\tsetLoading(true)\r\n\t\treturn auth.createUserWithEmailAndPassword(email, password)\r\n\t\t\t.then((result) => {\r\n\t\t\t\tfirestore.collection('users')\r\n\t\t\t\t\t.doc(result.user.uid)\r\n\t\t\t\t\t.set({\r\n\t\t\t\t\t\tuid: result.user.uid,\r\n\t\t\t\t\t\tdisplayName: name,\r\n\t\t\t\t\t\tphotoURL: photoURL || \"https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/music-icon-mohammed-jabir-ap.jpg\",\r\n\t\t\t\t\t\tisAuthor: parseInt(role) === 1,\r\n\t\t\t\t\t\tisVerified: parseInt(role) === 1,\r\n\t\t\t\t\t\tnumberOfListenersPerMonth: 0,\r\n\t\t\t\t\t\townSongs: [],\r\n\t\t\t\t\t\townPlaylists: [],\r\n\t\t\t\t\t\taddedSongs: [],\r\n\t\t\t\t\t\taddedPlaylists: [],\r\n\t\t\t\t\t\taddedAuthors: [],\r\n\t\t\t\t\t\tlastSongPlayed:\"\",\r\n\t\t\t\t\t\tchats: [],\r\n\t\t\t\t\t\tfriends: [],\r\n\t\t\t\t\t\tsubscribers: 0,\r\n\t\t\t\t\t\tregDate: firebase.firestore.FieldValue.serverTimestamp(),\r\n\t\t\t\t\t\timageColors: imageColors\r\n\t\t\t\t\t})\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t}).catch(err=>{\r\n\t\t\t\tsetError(err.message)\r\n\t\t\t})\r\n\t}\r\n\r\n\tasync function fetchUserInfo(userId) {\r\n\t\tlet dataObject = {}\r\n\r\n\t\treturn dataObject\r\n\t}\r\n\r\n\t// useEffect(() => {\r\n\t// \tconst unsubscribe = auth.onAuthStateChanged(async user => {\r\n\t// \t\tif (user) {\r\n\t// \t\t\tconst response = await firestore.collection('users').doc(user.uid).onSnapshot(snapshot => {\r\n\t// \t\t\t\tconst fullUserInfo = { ...user, ...snapshot.data() }\r\n\t// \t\t\t\tconsole.log(\"worked!\")\r\n\t// \t\t\t\tsetCurrentUser(fullUserInfo)\r\n\t// \t\t\t})\r\n\t// \t\t}\r\n\t// \t})\r\n\t// \treturn unsubscribe\r\n\t// }, [firestore])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst unsubscribe = auth.onAuthStateChanged(async user => {\r\n\t\t\tif (user) {\r\n\t\t\t\tconst response = await firestore.collection('users').doc(user.uid).get().then(snapshot => {\r\n\t\t\t\t\tconst fullUserInfo = { ...user, ...snapshot.data() }\r\n\t\t\t\t\tsetCurrentUser(fullUserInfo)\r\n\t\t\t\t\tsetLoading(false)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tsetCurrentUser(user)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn unsubscribe\r\n\t}, [])\r\n\t\r\n\r\n\tconst value = {\r\n\t\tcurrentUser,\r\n\t\tsetCurrentUser,\r\n\t\tlogin,\r\n\t\tsignup,\r\n\t\tlogout,\r\n\t\tloading,\r\n\t\tsetLoading\r\n\t}\r\n\treturn (\r\n\t\t<AuthContext.Provider value={value}>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t)\r\n}\r\n","import React, { createContext, useContext, useEffect, useRef, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { LoadingData } from '../../components/Basic/LoadingData'\r\nimport { PersonTiny } from '../../components/Basic/PersonTiny'\r\nimport { firestore } from '../../firebase'\r\nimport checkNumber from '../../functions/checkNumber'\r\nimport shuffleSongs from '../../functions/shuffleSongs'\r\nimport { useAuth } from '../AuthContext'\r\n\r\nconst SongContext = createContext(null)\r\n\r\nexport const useSong = () => {\r\n\treturn useContext(SongContext)\r\n}\r\n\r\nexport const SongProvider = ({ children }) => {\r\n\tconst { currentUser, loading, setLoading } = useAuth()\r\n\tconst [yourSongs, setYourSongs] = useState([])\r\n\tconst [yourPlaylists, setYourPlaylists] = useState([])\r\n\tconst [yourAuthors, setYourAuthors] = useState([])\r\n\tconst [yourFriends, setYourFriends] = useState([])\r\n\tconst [currentSongQueue, setCurrentSongQueue] = useState()\r\n\tconst [currentSong, setCurrentSong] = useState('')\r\n\tconst [currentSongInQueue, setCurrentSongInQueue] = useState(0)\r\n\tconst [currentSongPlaylistSource, setCurrentSongPlaylistSource] = useState({})\r\n\r\n\tconst [currentSongData, setCurrentSongData] = useState({})\r\n\r\n\tconst [imgColors, setImgColors] = useState([])\r\n\tconst [play, setPlay] = useState(false)\r\n\tconst [currentTime, setCurrentTime] = useState(0)\r\n\tconst [songDuration, setSongDuration] = useState(0)\r\n\tconst [repeatMode, setRepeatMode] = useState(1)\r\n\tconst [shuffleMode, setShuffleMode] = useState(0)\r\n\tconst [currentParagraph, setCurrentParagraph] = useState(0)\r\n\tconst [isThereKaraoke, setIsThereKaraoke] = useState(true)\r\n\tconst [openFullScreenPlayer, setOpenFullScreenPlayer] = useState(false)\r\n\tconst songRef = useRef(null)\r\n\tconst currentParagraphRef = useRef(null)\r\n\tconst inputRef = useRef(null)\r\n\tconst leftSideBarInputRef = useRef(null)\r\n\tconst [rightSideCurrentPage, setRightSideCurrentPage] = useState(0)\r\n\tconst [openMenu, setOpenMenu] = useState(false)\r\n\tfunction checkKaraoke() {\r\n\t\tif (currentSongData.lyrics !== undefined && currentSongData.lyrics.length === 0) return false\r\n\r\n\t\tif (currentSongData.lyrics !== undefined) {\r\n\t\t\tconsole.log(currentSongData.lyrics.length)\r\n\t\t\tif (currentSongData.lyrics[0].startTime === 'undefined') return false\r\n\t\t}\r\n\r\n\t\treturn true\r\n\t}\r\n\r\n\tfunction fetchYourFriends() {\r\n\t\tsetYourFriends([])\r\n\t\tif (currentUser.friends !== undefined) {\r\n\t\t\tconsole.log(currentUser.friends)\r\n\t\t\tcurrentUser.friends.forEach(async friendObj => {\r\n\t\t\t\tconst friend = (await firestore.collection('users').doc(friendObj.uid).get()).data()\r\n\t\t\t\tconsole.log(friend)\r\n\t\t\t\tif (friendObj.status === 'added') {\r\n\t\t\t\t\tsetYourFriends(prev => [...prev, friend])\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// async function fetchLastPlayedSong() {\r\n\t// \tconsole.log('ewqeqw')\r\n\t// \tlet songId = 0\r\n\t// \tconst userRef = firestore.collection('users').doc(currentUser.uid)\r\n\t// \tconst lastSong = userRef.get()\r\n\r\n\t// }\r\n\r\n\tfunction fetchQueue() {\r\n\t\tsetCurrentSongQueue([])\r\n\t\tif(currentUser.lastQueue){\r\n\t\t\tcurrentUser.lastQueue.songsList.forEach(async songId=>{\r\n\t\t\t\tconst songData = (await firestore.collection('songs').doc(songId).get()).data()\r\n\t\t\t\tsetCurrentSongQueue(prev=>[songData, ...prev])\r\n\t\t\t})\r\n\t\t\tsetCurrentSongInQueue(currentUser.lastQueue.songsList.findIndex(songId => songId === currentSong))\r\n\t\t}\r\n\t}\r\n\r\n\tasync function fetchCurrentSongInitial() {\r\n\t\tconsole.log(currentUser)\r\n\t\tif (currentUser.uid !== undefined) {\r\n\t\t\tconst tempSongObject = {\r\n\t\t\t\tid: -1,\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tsongSrc: \"\",\r\n\t\t\t\tauthors: [],\r\n\t\t\t\tcover: \"\",\r\n\t\t\t\tlistens: 0,\r\n\t\t\t\treleaseDate: \"\",\r\n\t\t\t\tlyrics: [],\r\n\t\t\t\timageColors: []\r\n\t\t\t}\r\n\t\t\tconst curSong = currentUser.lastSongPlayed || currentUser.addedSongs[0] || tempSongObject.id\r\n\t\t\tconst curQueue = currentUser.lastQueue || { source: '/library', name: 'Your Library', image: currentUser.photoURL, songsList: yourSongs } || []\r\n\t\t\tsetCurrentSong(curSong)\r\n\t\t\tsetCurrentSongPlaylistSource(curQueue)\r\n\r\n\t\t\tif (curSong !== -1) {\r\n\t\t\t\tconst docRef = firestore.collection('songs').doc(curSong)\r\n\t\t\t\tconst docData = docRef.get()\r\n\t\t\t\t\t.then(doc => {\r\n\t\t\t\t\t\tif (doc.exists) {\r\n\t\t\t\t\t\t\tconst songData = doc.data()\r\n\t\t\t\t\t\t\tsetCurrentSongData(songData)\r\n\t\t\t\t\t\t\tsetImgColors(songData.imageColors || [])\r\n\t\t\t\t\t\t\tsetLoading(false)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\t\tconsole.log(\"Error getting document:\", error);\r\n\t\t\t\t\t\tsetLoading(false)\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tsetCurrentSongData(tempSongObject)\r\n\t\t\t\tsetImgColors([])\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function fetchCurrentSong() {\r\n\t\tif (currentSong !== -1) {\r\n\t\t\tconst docRef = firestore.collection('songs').doc(currentSong)\r\n\t\t\tconst docData = docRef.get()\r\n\t\t\t\t.then(doc => {\r\n\t\t\t\t\tif (doc.exists) {\r\n\t\t\t\t\t\tconst songData = doc.data()\r\n\t\t\t\t\t\tsetImgColors(songData.imageColors || [])\r\n\t\t\t\t\t\tsetCurrentSongData(songData)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\tconsole.log(\"Error getting document:\", error);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction fetchYourSongs() {\r\n\t\tsetYourSongs([])\r\n\t\tif (currentUser.addedSongs) {\r\n\t\t\tcurrentUser.addedSongs.map((song, i) => {\r\n\t\t\t\tconst response = firestore.collection(\"songs\").doc(song)\r\n\t\t\t\tresponse.get().then((doc) => {\r\n\t\t\t\t\tif (doc.exists) {\r\n\t\t\t\t\t\tsetYourSongs(prev => [doc.data(), ...prev])\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\tconsole.log(\"Error getting document:\", error);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction fetchYourPlaylists() {\r\n\t\tsetYourPlaylists([])\r\n\t\tif (currentUser.ownPlaylists) {\r\n\t\t\tcurrentUser.ownPlaylists.map((playlistId, i) => {\r\n\t\t\t\tconst response = firestore.collection(\"playlists\").doc(playlistId)\r\n\t\t\t\tresponse.get().then((doc) => {\r\n\t\t\t\t\tif (doc.exists) {\r\n\t\t\t\t\t\tsetYourPlaylists(prev => [doc.data(), ...prev])\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\tconsole.log(\"Error getting document:\", error);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (currentUser.addedPlaylists) {\r\n\t\t\tcurrentUser.addedPlaylists.map((playlistId, i) => {\r\n\t\t\t\tconst response = firestore.collection(\"playlists\").doc(playlistId)\r\n\t\t\t\tresponse.get().then((doc) => {\r\n\t\t\t\t\tif (doc.exists) {\r\n\t\t\t\t\t\tsetYourPlaylists(prev => [...prev, doc.data()])\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\tconsole.log(\"Error getting document:\", error);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfunction fetchYourAuthors() {\r\n\t\tsetYourAuthors([])\r\n\t\tif (currentUser.addedAuthors) {\r\n\t\t\tcurrentUser.addedAuthors.map((authorId, i) => {\r\n\t\t\t\tconst response = firestore.collection(\"users\").doc(authorId)\r\n\t\t\t\tresponse.get().then((doc) => {\r\n\t\t\t\t\tif (doc.exists) {\r\n\t\t\t\t\t\tsetYourAuthors(prev => [doc.data(), ...prev])\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"No such document!\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\tconsole.log(\"Error getting document:\", error);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (currentUser) {\r\n\t\t\tsetLoading(true)\r\n\t\t\tfetchYourSongs()\r\n\t\t\tfetchCurrentSongInitial()\r\n\t\t\tfetchYourPlaylists()\r\n\t\t\tfetchYourFriends()\r\n\t\t\tfetchQueue()\r\n\t\t\tfetchYourAuthors()\r\n\t\t}\r\n\t}, [currentUser])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (currentUser && currentSong) {\r\n\t\t\tfetchCurrentSong()\r\n\t\t}\r\n\t}, [currentSong])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetIsThereKaraoke(checkKaraoke())\r\n\t}, [currentSongData.lyrics])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!loading) {\r\n\t\t\tif (shuffleMode) {\r\n\t\t\t\tlet shuffledSongsArray = shuffleSongs(currentSongQueue)\r\n\t\t\t\tsetCurrentSongQueue(shuffledSongsArray)\r\n\t\t\t\tsetCurrentSongInQueue(shuffledSongsArray.findIndex(song => song.id === currentSong))\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tsetCurrentSongQueue(currentSongPlaylistSource.songsList)\r\n\t\t\t\tsetCurrentSongInQueue(currentSongPlaylistSource.songsList.findIndex(song => song.id === currentSong))\r\n\t\t\t}\r\n\t\t}\r\n\t}, [shuffleMode])\r\n\tlet listenCountTimeOut = useRef()\r\n\tfunction playSong(e) {\r\n\t\tif (e) e.stopPropagation()\r\n\t\tif (play) {\r\n\t\t\tsongRef.current.pause()\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsongRef.current.play()\r\n\t\t}\r\n\r\n\t\tsetPlay(!play)\r\n\t}\r\n\r\n\tfunction updateListenCount() {\r\n\t\tlistenCountTimeOut.current = setTimeout(() => {\r\n\t\t\tconsole.log('count added')\r\n\t\t\tlet listens = currentSongData.listens\r\n\t\t\tlistens++\r\n\t\t\tfirestore.collection('songs').doc(currentSongData.id).update({\r\n\t\t\t\tlistens: listens\r\n\t\t\t})\r\n\t\t\tif(currentSongPlaylistSource.source.substr(1, 6) === 'albums'){\r\n\t\t\t\tconsole.log('I Updated album listen count')\r\n\t\t\t\tconst sourceId = currentSongPlaylistSource.source.substr(8, currentSongPlaylistSource.source.length - 8)\r\n\t\t\t\tfirestore.collection('playlists').doc(sourceId).get().then((res)=>{\r\n\t\t\t\t\tlet listedData = res.data().listens\r\n\t\t\t\t\tlistedData++\r\n\t\t\t\t\tfirestore.collection('playlists').doc(sourceId).update({\r\n\t\t\t\t\t\tlistens:listedData\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}, songDuration * 1000 * 0.5)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tclearTimeout(listenCountTimeOut.current)\r\n\t\tif (play) {\r\n\t\t\tupdateListenCount()\r\n\t\t}\r\n\t}, [play, currentSongData.id])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCurrentParagraph(0)\r\n\t}, [currentSongData.id])\r\n\r\n\tfunction loadSongData(e) {\r\n\t\tsetCurrentTime(e.target.currentTime)\r\n\t\tsetSongDuration(e.target.duration)\r\n\t\tinputRef.current.max = e.target.duration\r\n\t\tif (window.innerWidth > 1000) leftSideBarInputRef.current.max = e.target.duration\r\n\t\tdocument.documentElement.style.setProperty('--inputRange', 0 + '%')\r\n\t\tif (play) { e.target.play() }\r\n\t\telse e.target.pause()\r\n\t}\r\n\r\n\tfunction defineCurrentParagraph() {\r\n\t\t//Well, I'm maybe not a great mathematician or smth, but I want to make this not linear, but binary, hence O(logN)\r\n\t\t// currentSongData.lyrics.find((el, i) => {\r\n\t\t// \tif (el.startTime <= songRef.current.currentTime) {\r\n\t\t// \t\tsetCurrentParagraph(i)\r\n\t\t// \t\treturn false\r\n\t\t// \t}\r\n\t\t// \t// currentParagraphRef.current.scrollIntoView()\r\n\t\t// \treturn true\r\n\t\t// })\r\n\r\n\t\tlet first = 0, last = currentSongData.lyrics.length - 1\r\n\t\tlet roundedTime = parseFloat(parseFloat(songRef.current.currentTime).toFixed(1))\r\n\t\twhile (first <= last) {\r\n\t\t\tlet midPoint = Math.floor((first + last) / 2)\r\n\t\t\tlet blockStartTime = parseFloat(parseFloat(currentSongData.lyrics[midPoint].startTime).toFixed(1))\r\n\t\t\tlet nextBlockStartTime = midPoint !== currentSongData.lyrics.length - 1 ? parseFloat(parseFloat(currentSongData.lyrics[midPoint + 1].startTime).toFixed(1)) : last\r\n\t\t\tif (currentSongData.lyrics[midPoint].startTime !== 'undefined') {\r\n\t\t\t\tif (roundedTime >= blockStartTime && roundedTime <= nextBlockStartTime) {\r\n\t\t\t\t\tsetCurrentParagraph(midPoint)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\telse if (blockStartTime < roundedTime) first = midPoint + 1\r\n\t\t\t\telse last = midPoint - 1\r\n\r\n\t\t\t}\r\n\t\t\telse return\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(rightSideCurrentPage === 2) defineCurrentParagraph()\r\n\t}, [rightSideCurrentPage])\r\n\r\n\tfunction defineCurrentParagraphLight() {\r\n\t\tif (currentParagraph !== (currentSongData.lyrics.length - 1) && parseFloat(currentSongData.lyrics[currentParagraph + 1].startTime) <= songRef.current.currentTime) {\r\n\t\t\t// console.log(parseFloat(currentSongData.lyrics[currentParagraph+1].startTime), songRef.current.currentTime)\r\n\t\t\treturn setCurrentParagraph(currentParagraph + 1)\r\n\t\t}\r\n\t}\r\n\tfunction playing(event) {\r\n\r\n\t\tif (event.target.currentTime === songDuration) {\r\n\t\t\tif (repeatMode === 0) {\r\n\t\t\t\tsongRef.current.pause()\r\n\t\t\t\tsetPlay(false)\r\n\t\t\t\treturn prevSong()\r\n\t\t\t}\r\n\t\t\telse if (repeatMode === 1) {\r\n\t\t\t\tif (currentSongQueue.length === 1) {\r\n\t\t\t\t\tprevSong()\r\n\t\t\t\t\treturn songRef.current.play()\r\n\t\t\t\t}\r\n\t\t\t\treturn nextSong()\r\n\t\t\t}\r\n\t\t\tprevSong()\r\n\t\t\tsongRef.current.play()\r\n\t\t}\r\n\t\tsetCurrentTime(event.target.currentTime)\r\n\t\tif (isThereKaraoke && rightSideCurrentPage === 2 && openFullScreenPlayer && openMenu) defineCurrentParagraphLight()\r\n\t\tdocument.documentElement.style\r\n\t\t\t.setProperty('--inputRange', (event.target.currentTime / songDuration) * 100 + '%');\r\n\t}\r\n\r\n\tasync function nextSong(e) {\r\n\t\tif (e) e.stopPropagation()\r\n\t\tlet correctSongNumber = checkNumber(currentSongInQueue + 1, currentSongQueue.length - 1)\r\n\t\tlet currentSongId = await (await firestore.collection('songs').doc(currentSongQueue[correctSongNumber].id).get()).data().id\r\n\t\tsetCurrentParagraph(0)\r\n\t\tsetCurrentSong(currentSongId)\r\n\t\tsetCurrentSongInQueue(checkNumber(correctSongNumber, currentSongQueue.length - 1))\r\n\t\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\t\tlastSongPlayed: currentSongId\r\n\t\t})\r\n\t}\r\n\r\n\tasync function prevSong(e) {\r\n\t\tif (e) e.stopPropagation()\r\n\t\tif (currentTime > 5) {\r\n\t\t\tsongRef.current.currentTime = 0\r\n\t\t\tsetCurrentTime(0)\r\n\t\t\tsetCurrentParagraph(0)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tlet correctSongNumber = checkNumber(currentSongInQueue - 1, currentSongQueue.length - 1)\r\n\t\tlet currentSongId = await (await firestore.collection('songs').doc(currentSongQueue[correctSongNumber].id).get()).data().id\r\n\t\tsetCurrentParagraph(0)\r\n\t\tsetCurrentSong(currentSongId)\r\n\t\tsetCurrentSongInQueue(checkNumber(correctSongNumber, currentSongQueue.length - 1))\r\n\t\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\t\tlastSongPlayed: currentSongId\r\n\t\t})\r\n\t}\r\n\r\n\tfunction changeCurrentTime(event, startTime = 0) {\r\n\t\tif (event.target.localName === 'div' || event.target.localName === \"p\") {\r\n\t\t\tsetCurrentTime(startTime)\r\n\t\t\tsongRef.current.currentTime = startTime\r\n\t\t\tdocument.documentElement.style\r\n\t\t\t\t.setProperty('--inputRange', (startTime / songDuration) * 100 + '%');\r\n\t\t\tif (isThereKaraoke && rightSideCurrentPage === 2 && openFullScreenPlayer) setCurrentParagraph(parseInt(event.target.id))\r\n\t\t\tsongRef.current.play()\r\n\t\t\tsetPlay(true)\r\n\t\t\treturn\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetCurrentTime(event.target.value)\r\n\t\t\tsongRef.current.currentTime = event.target.value\r\n\t\t\tdocument.documentElement.style\r\n\t\t\t\t.setProperty('--inputRange', (event.target.value / songDuration) * 100 + '%');\r\n\t\t\tif (isThereKaraoke && rightSideCurrentPage === 2 && openFullScreenPlayer) defineCurrentParagraph()\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction displayAuthors(authorsList = currentSongData.authors, separatingSign = \" & \") {\r\n\t\treturn (\r\n\t\t\tauthorsList.map((el, i) => {\r\n\t\t\t\treturn <>\r\n\t\t\t\t\t<Link to={`/authors/${el.uid}`} key={el.uid} onClick={(e) => { e.stopPropagation(); setOpenFullScreenPlayer(false) }}>{el.displayName}</Link>{(i === authorsList.length - 1 ? \"\" : separatingSign)}\r\n\t\t\t\t</>\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tfunction displayAuthorsFull(authorsList = currentSongData.authors, separatingSign = \" & \") {\r\n\t\treturn (\r\n\t\t\tauthorsList.map((el, i) => {\r\n\t\t\t\treturn <>\r\n\t\t\t\t\t<Link to={`/authors/${el.uid}`} key={el.uid} onClick={(e) => { e.stopPropagation(); setOpenFullScreenPlayer(false) }}>\r\n\t\t\t\t\t\t<PersonTiny data = {el}/>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</>\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tfunction findLen() {\r\n\t\tlet str = \"\"\r\n\t\tcurrentSongData.authors.forEach(el => {\r\n\t\t\tstr += el.displayName\r\n\t\t})\r\n\t\treturn str.length\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = currentSongData.name || 'Soundbubble'\r\n\t}, [currentSongData.name])\r\n\treturn (\r\n\t\t<SongContext.Provider value={\r\n\t\t\t{\r\n\t\t\t\tyourSongs,\r\n\t\t\t\tsetYourSongs,\r\n\t\t\t\tyourPlaylists,\r\n\t\t\t\tyourFriends,\r\n\t\t\t\tcurrentSongQueue,\r\n\t\t\t\tcurrentSongPlaylistSource,\r\n\t\t\t\tsetCurrentSongPlaylistSource,\r\n\t\t\t\tsetCurrentSongQueue,\r\n\t\t\t\tsetCurrentSongInQueue,\r\n\t\t\t\tplay,\r\n\t\t\t\tsetPlay,\r\n\t\t\t\tsongSrc: currentSongData.songSrc,\r\n\t\t\t\tcurrentTime,\r\n\t\t\t\tsetCurrentTime,\r\n\t\t\t\tsongDuration,\r\n\t\t\t\tsongRef,\r\n\t\t\t\tname: currentSongData.name,\r\n\t\t\t\tauthors: currentSongData.authors,\r\n\t\t\t\tlyrics: currentSongData.lyrics,\r\n\t\t\t\tcover: currentSongData.cover,\r\n\t\t\t\timgColors,\r\n\t\t\t\tsetImgColors,\r\n\t\t\t\tcurrentSong,\r\n\t\t\t\tsetCurrentSong,\r\n\t\t\t\trepeatMode,\r\n\t\t\t\tsetRepeatMode,\r\n\t\t\t\tshuffleMode,\r\n\t\t\t\tsetShuffleMode,\r\n\t\t\t\tinputRef,\r\n\t\t\t\tleftSideBarInputRef,\r\n\t\t\t\tisThereKaraoke,\r\n\t\t\t\trightSideCurrentPage,\r\n\t\t\t\tcurrentParagraph,\r\n\t\t\t\tcurrentParagraphRef,\r\n\t\t\t\tnextSong,\r\n\t\t\t\tprevSong,\r\n\t\t\t\tplaySong,\r\n\t\t\t\tplaying,\r\n\t\t\t\tdefineCurrentParagraph,\r\n\t\t\t\tsetRightSideCurrentPage,\r\n\t\t\t\tchangeCurrentTime,\r\n\t\t\t\tdisplayAuthors,\r\n\t\t\t\tdisplayAuthorsFull,\r\n\t\t\t\topenFullScreenPlayer,\r\n\t\t\t\tsetOpenFullScreenPlayer,\r\n\t\t\t\tloadSongData,\r\n\t\t\t\tfindLen,\r\n\t\t\t\tfetchYourSongs,\r\n\t\t\t\tsetOpenMenu,\r\n\t\t\t\topenMenu,\r\n\t\t\t\tcurrentSongData,\r\n\t\t\t\tsetCurrentSongData,\r\n\t\t\t\tsetIsThereKaraoke,\r\n\t\t\t\tcheckKaraoke,\r\n\t\t\t\tsetYourPlaylists,\r\n\t\t\t\tyourAuthors,\r\n\t\t\t\tsetYourAuthors\r\n\t\t\t}\r\n\t\t}>\r\n\t\t\t{!loading ?\r\n\t\t\t\tchildren :\r\n\t\t\t\t<LoadingData />\r\n\t\t\t}\r\n\t\t</SongContext.Provider>\r\n\t)\r\n}\r\n","export default function shuffleSongs(songsArray){\r\n\tconst randomIndexesArray = []\r\n\tconst newSongsNumbersArray = new Array(songsArray.length)\r\n\tlet counter = 0\r\n\twhile(counter < songsArray.length){\r\n\t\tconst randNum = Math.floor(Math.random()*(songsArray.length))\r\n\t\tif(!randomIndexesArray.includes(randNum)){\r\n\t\t\trandomIndexesArray.push(randNum)\r\n\t\t\tnewSongsNumbersArray[randNum] = songsArray[counter]\r\n\t\t\tcounter++\r\n\t\t}\r\n\t}\r\n\treturn newSongsNumbersArray\r\n}","\r\nfunction amountOfZeros(number) {\r\n\treturn number % 10 === number ? \"0\" + number : number\r\n}\r\n\r\nfunction toDateTime(secs) {\r\n\t// console.log(\"ewqeqw\")\r\n\tvar t = new Date(1970, 0, 1); // Epoch\r\n\tt.setSeconds(secs);\r\n\treturn t;\r\n}\r\n\r\nexport default function displayDate(stringDate, displayMode = 0){\r\n\tconst Months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\r\n\tlet newDate = !isNaN(stringDate)?stringDate.seconds?toDateTime(stringDate.seconds + 10800):toDateTime((stringDate/1000) + 10800):new Date(stringDate)\r\n\tif(displayMode === 0){\r\n\t\treturn Months[newDate.getMonth()] + \" \" + newDate.getDate() + \", \" + newDate.getFullYear() \r\n\t}\r\n\r\n\tif(displayMode === 1){\r\n\t\treturn Months[newDate.getMonth()] + \" \" + newDate.getDate()\r\n\t}\r\n\r\n\tif(displayMode === 2){\r\n\t\treturn amountOfZeros(newDate.getHours()) + \":\" + amountOfZeros(newDate.getMinutes())\r\n\t}\r\n\r\n\tif(displayMode === 3){\r\n\t\treturn Months[newDate.getMonth()] + \" \" + newDate.getDate() + \", \" + newDate.getFullYear() + \" at \" + amountOfZeros(newDate.getHours()) + \":\" + amountOfZeros(newDate.getMinutes())\r\n\t}\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\n\r\nconst ScreenContext = React.createContext()\r\n\r\nexport const useScreen = () =>{\r\n\treturn useContext(ScreenContext)\r\n}\r\n\r\nexport const ScreenProvider = ({children}) => {\r\n\tconst [screenWidth, setScreenWidth] = useState(window.innerWidth)\r\n\tconst [screenHeight, setScreenHeight] = useState(window.innerHeight)\r\n\tconst [isMobile, setIsMobile] = useState(window.innerWidth < 1000)\r\n\tfunction handleResize() {\r\n\t\tsetScreenWidth(window.innerWidth)\r\n\t\tsetScreenHeight(window.innerHeight)\r\n\t\tsetIsMobile(window.innerWidth < 1000)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('resize', handleResize)\r\n\t\treturn ()=>{\r\n\t\t\twindow.removeEventListener('resize', handleResize)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst value = {\r\n\t\tscreenWidth,\r\n\t\tscreenHeight,\r\n\t\tisMobile\r\n\t}\r\n\treturn (\r\n\t\t<ScreenContext.Provider value = {value}>\r\n\t\t\t{children}\r\n\t\t</ScreenContext.Provider>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useScreen } from '../../functionality/ScreenContext'\r\n\r\nexport const Hint = ({text, direction = \"top\"}) => {\r\n\tconst {isMobile} = useScreen()\r\n\tconst style = direction === 'top'?{\r\n\t\tbottom:'110%',\r\n\t\tleft:'50%', \r\n\t\ttransform:'translateX(-50%)'\r\n\t}:direction === 'bottom'?{\r\n\t\ttop:'120%',\r\n\t\tleft:'50%', \r\n\t\ttransform:'translateX(-50%)'\r\n\t}:direction === 'left'?{\r\n\t\ttop:'50%',\r\n\t\tleft:'-100%', \r\n\t\ttransform:'translateY(-50%)'\r\n\t}:\r\n\t{\r\n\t\ttop:'50%',\r\n\t\tright:'-100%', \r\n\t\ttransform:'translateY(-50%)'\r\n\t}\r\n\treturn !isMobile?(\r\n\t\t<div className = \"Hint\" style = {style}>\r\n\t\t\t<h5>{text}</h5>\r\n\t\t</div>\r\n\t):null\r\n}\r\n","import React from 'react'\r\nimport { FiArrowLeft } from 'react-icons/fi'\r\nimport { useHistory } from 'react-router'\r\nimport { Hint } from './Hint'\r\nexport const BackBtn = ({color = \"\"}) => {\r\n\tconst history = useHistory()\r\n\treturn (\r\n\t\t<div className = \"BackBtn\">\r\n\t\t\t<button onClick={() => history.goBack()} style = {color.length?{color:color}:{}}>\r\n\t\t\t\t<Hint text = {\"go back\"} direction = {\"bottom\"}/>\r\n\t\t\t\t<FiArrowLeft />\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Denzel-Curry.84494049.jpg\";","export default __webpack_public_path__ + \"static/media/Morgenshtern.2047a5bb.jpg\";","export default __webpack_public_path__ + \"static/media/Tyomcha.1a7e66ed.jpg\";","export default __webpack_public_path__ + \"static/media/yvng-swag.e9572d73.jpg\";","export default __webpack_public_path__ + \"static/media/chris-brown.256f093e.jpg\";","export default __webpack_public_path__ + \"static/media/tyga.38622b96.jpg\";","export default __webpack_public_path__ + \"static/media/diddy.5dd4ad63.jpg\";","export default __webpack_public_path__ + \"static/media/greenday.656475fd.jpg\";","export default __webpack_public_path__ + \"static/media/johny-koch.5c8fed82.jpg\";","export default __webpack_public_path__ + \"static/media/andro.38ce0477.jpg\";","export default __webpack_public_path__ + \"static/media/qontrast.452f5fe9.jpg\";","export default __webpack_public_path__ + \"static/media/jaden.c4c50d52.jpg\";","export default __webpack_public_path__ + \"static/media/kid-cudi.ff281840.png\";","export default __webpack_public_path__ + \"static/media/dirty-money.2644bf3e.jpg\";","export default __webpack_public_path__ + \"static/media/OneRepublic.d5d9b523.jpg\";","export default __webpack_public_path__ + \"static/media/t-pain.da79c258.jpg\";","export default __webpack_public_path__ + \"static/media/Kid-ink.4a8065f2.jpg\";","export default __webpack_public_path__ + \"static/media/Chance-the-rapper.672005ab.jpg\";","export default __webpack_public_path__ + \"static/media/Bob.6bb6be52.jpg\";","export default __webpack_public_path__ + \"static/media/Lil-dicky.2fc4ceab.png\";","export default __webpack_public_path__ + \"static/media/Arizona-zervas.78d1344a.jpg\";","export default __webpack_public_path__ + \"static/media/Andy-panda.6f59b7ec.jpg\";","export default __webpack_public_path__ + \"static/media/Adriana-proenza.2fc46e8e.jpg\";","import denzel from '../images/authors/Denzel-Curry.jpg'\r\nimport morgen from '../images/authors/Morgenshtern.jpg'\r\nimport eldjey from '../images/Cadillac.jpg'\r\nimport tyomcha from '../images/authors/Tyomcha.jpg'\r\nimport yvngswag from '../images/authors/yvng-swag.jpg'\r\nimport crhisbrown from '../images/authors/chris-brown.jpg'\r\nimport tyga from '../images/authors/tyga.jpg'\r\nimport diddy from '../images/authors/diddy.jpg'\r\nimport bluelake from '../images/authors/bluelake.jpg'\r\nimport greenday from '../images/authors/greenday.jpg'\r\nimport johnykoch from '../images/authors/johny-koch.jpg'\r\nimport andro from '../images/authors/andro.jpg'\r\nimport qontrast from '../images/authors/qontrast.jpg'\r\nimport jaden from '../images/authors/jaden.jpg'\r\nimport kidcudi from '../images/authors/kid-cudi.png'\r\nimport dirtymoney from '../images/authors/dirty-money.jpg'\r\nimport justinBieber from '../images/authors/justin-bieber.png'\r\nimport miyagi from '../images/Buster-Keaton.jpeg'\r\nimport oneRepublic from '../images/authors/OneRepublic.jpg'\r\nimport tPain from '../images/authors/t-pain.jpg'\r\nimport kidInk from '../images/authors/Kid-ink.jpg'\r\nimport chanceTheRapper from '../images/authors/Chance-the-rapper.jpg'\r\nimport Bob from '../images/authors/Bob.jpg'\r\nimport LilDicky from '../images/authors/Lil-dicky.png'\r\nimport arizonaZervas from '../images/authors/Arizona-zervas.jpg'\r\nimport andyPanda from '../images/authors/Andy-panda.jpg'\r\nimport adrianaProezna from '../images/authors/Adriana-proenza.jpg'\r\nimport quavo from '../images/authors/quavo.jpg'\r\nimport fettyWap from '../images/authors/Fetty-wap.png'\r\nexport const authors = [\r\n\t{\r\n\t\tid:0, \r\n\t\tname:'MORGENSHTERN', \r\n\t\timage:morgen,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 123,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t0\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:1, \r\n\t\tname:'Элджей', \r\n\t\timage:eldjey,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 100,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t0\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:2, \r\n\t\tname:'Ed Sheeran', \r\n\t\timage:'https://cdns-images.dzcdn.net/images/artist/f4daf253b92a1a9646844c5162e2a968/264x264.jpg',\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 93,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t1\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:3, \r\n\t\tname:'Nate Good', \r\n\t\timage:'https://is1-ssl.mzstatic.com/image/thumb/Features114/v4/2f/5d/0f/2f5d0f3e-349f-77e8-3878-7efe934f5183/pr_source.png/800x800bb.jpeg',\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 54,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:4, \r\n\t\tname:'Bluelake', \r\n\t\timage:bluelake,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 14,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:5, \r\n\t\tname:'Johny Koch', \r\n\t\timage:johnykoch,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 68,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:6, \r\n\t\tname:'Greenday', \r\n\t\timage:greenday,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 34,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:7, \r\n\t\tname:'Andro', \r\n\t\timage:andro,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 72,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:8, \r\n\t\tname:'QONTRAST', \r\n\t\timage:qontrast,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 71,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:9, \r\n\t\tname:'Hiro', \r\n\t\timage:\"https://is2-ssl.mzstatic.com/image/thumb/Features114/v4/8f/24/99/8f249900-47f1-4942-4749-713973f58dde/pr_source.png/190x190cc-60.jpg\",\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 25,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:10, \r\n\t\tname:'Yvng Swag', \r\n\t\timage:yvngswag,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 51,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:11, \r\n\t\tname:'Slava Marlow', \r\n\t\timage:\"https://upload.wikimedia.org/wikipedia/commons/c/cb/Slava_Marlow.jpg\",\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 34,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:12, \r\n\t\tname:'кис-кис', \r\n\t\timage:\"https://i1.sndcdn.com/artworks-vkNIueBuHJ2fSa1D-fRw8mA-t500x500.jpg\",\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 44,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:13, \r\n\t\tname:'Jaden', \r\n\t\timage:jaden,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 74,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:14, \r\n\t\tname:'Kid Cudi', \r\n\t\timage:kidcudi,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 61,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:15, \r\n\t\tname:'Miyagi', \r\n\t\timage:miyagi,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 102,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:16, \r\n\t\tname:'Chris Brown', \r\n\t\timage:crhisbrown,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 41,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:17, \r\n\t\tname:'Tyga', \r\n\t\timage:tyga,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 80,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:18, \r\n\t\tname:'Tanir', \r\n\t\timage: \"https://i.scdn.co/image/92455c398cf7be1eda78df4f1de572ade87aa95e\",\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 89,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:19, \r\n\t\tname:'Tyomcha', \r\n\t\timage: tyomcha,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 92,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:20, \r\n\t\tname:'Diddy', \r\n\t\timage:diddy,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 105,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:21, \r\n\t\tname:'Dirty Money', \r\n\t\timage:dirtymoney,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 10,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:22, \r\n\t\tname:'Denzel Curry', \r\n\t\timage:denzel,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 170,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:23, \r\n\t\tname:'Lil Dicky', \r\n\t\timage:LilDicky,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 134,\r\n\t\tsubscribers:10,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:24, \r\n\t\tname:'Justin Bieber', \r\n\t\timage:justinBieber,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 251,\r\n\t\tsubscribers:50,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:25, \r\n\t\tname:'Lil Wayne', \r\n\t\timage:\"https://static01.nyt.com/images/2020/11/19/arts/17lilwayne/17lilwayne-mediumSquareAt3X.jpg\",\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 10,\r\n\t\tsubscribers:50,\r\n\t\tsongs:[\r\n\t\t\t4, 10\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:26, \r\n\t\tname:'OneRepublic', \r\n\t\timage:oneRepublic,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:100,\r\n\t\tsongs:[\r\n\t\t\t22\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:27, \r\n\t\tname:'Seeb', \r\n\t\timage:\"https://pbs.twimg.com/profile_images/1354787716123262976/FbiITgXt_400x400.jpg\",\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:100,\r\n\t\tsongs:[\r\n\t\t\t22\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:28, \r\n\t\tname:'T-Pain', \r\n\t\timage:tPain,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:100,\r\n\t\tsongs:[\r\n\t\t\t22\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:29, \r\n\t\tname:'Andy Panda', \r\n\t\timage:andyPanda,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:30, \r\n\t\tname:'Kostya Doloz', \r\n\t\timage:'https://sun9-66.userapi.com/impf/c636628/v636628089/46fc5/jZmb1Eadwqs.jpg?size=960x1280&quality=96&sign=ee424378e70207bd5f8ab2aa5a669b81&type=album',\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:false\r\n\t},\r\n\t{\r\n\t\tid:31, \r\n\t\tname:'Lil Magnum', \r\n\t\timage:'https://sun9-59.userapi.com/impg/ABnwxJFpZUNHG9-dbMnKEH-cT8YGWdpZ5DvSbA/Vr_Dkiu--VQ.jpg?size=1620x2160&quality=96&sign=7685b9ae04fed10f41f56729c93e6d89&type=album',\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:false\r\n\t},\r\n\t{\r\n\t\tid:32, \r\n\t\tname:'Dj Khaled', \r\n\t\timage:'https://cdn.smehost.net/2020sonymusiccouk-ukprod/wp-content/uploads/2017/05/c16367f4d6cf286d282eaffd0d3b9928-1040x1040.jpg',\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:33, \r\n\t\tname:'Quavo', \r\n\t\timage:quavo,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:34, \r\n\t\tname:'Chance the Rapper', \r\n\t\timage:chanceTheRapper,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:35, \r\n\t\tname:'Kid Ink', \r\n\t\timage:kidInk,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:36, \r\n\t\tname:'B.O.B', \r\n\t\timage:Bob,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:37, \r\n\t\tname:'27CLUB', \r\n\t\timage:\"https://is1-ssl.mzstatic.com/image/thumb/Music113/v4/0a/55/67/0a5567bf-63ad-9a26-5029-8742b18f8d4e/pr_source.png/800x800bb.jpeg\",\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 23,\r\n\t\tsubscribers:12,\r\n\t\tsongs:[\r\n\t\t\t46\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:38, \r\n\t\tname:'Arizona Zervas', \r\n\t\timage:arizonaZervas,\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 103,\r\n\t\tsubscribers:12,\r\n\t\tsongs:[\r\n\t\t\t47\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:39, \r\n\t\tname:'SAINt JHN', \r\n\t\timage:\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d8/SAINt_JHN_2018.jpg/1200px-SAINt_JHN_2018.jpg\",\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 103,\r\n\t\tsubscribers:12,\r\n\t\tsongs:[\r\n\t\t\t47\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:40, \r\n\t\tname:'Kina', \r\n\t\timage:\"https://cdns-images.dzcdn.net/images/artist/ba417fffce8682b5094d732ad3d49765/264x264.jpg\",\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 103,\r\n\t\tsubscribers:12,\r\n\t\tsongs:[\r\n\t\t\t47\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:41, \r\n\t\tname:'Adriana Proenza', \r\n\t\timage:adrianaProezna,\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 103,\r\n\t\tsubscribers:12,\r\n\t\tsongs:[\r\n\t\t\t47\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:42, \r\n\t\tname:'Fetty Wap', \r\n\t\timage:fettyWap,\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 103,\r\n\t\tsubscribers:12,\r\n\t\tsongs:[\r\n\t\t\t47\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:43, \r\n\t\tname:'Imanbek', \r\n\t\timage:\"https://cdn1.img.sputniknews-uz.com/img/07e5/03/0f/17749204_227:0:768:541_1920x0_80_0_0_f4e2bfe387d8690c6cb3fc128dcaed57.jpg\",\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 103,\r\n\t\tsubscribers:12,\r\n\t\tsongs:[\r\n\t\t\t47\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:44, \r\n\t\tname:'KDDK', \r\n\t\timage:\"https://www.bongminesentertainment.com/wp-content/uploads/2021/01/KDDK-press-photo.jpg\",\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 103,\r\n\t\tsubscribers:12,\r\n\t\tsongs:[\r\n\t\t\t47\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:45, \r\n\t\tname:'Brian O\\'Connor', \r\n\t\timage:'https://n1s1.hsmedia.ru/42/0f/52/420f52159635528d6c9113041a35a7f3/300x300_21_70fe4fecaff57e56a94b2397a6ddf682@620x620_0xc0a839a2_10034582461461587506.jpeg',\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:false\r\n\t},\r\n\t{\r\n\t\tid:46, \r\n\t\tname:'Aurora Lane', \r\n\t\timage:'https://citaty.info/files/characters/181456.jpg',\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:false\r\n\t},\r\n\t{\r\n\t\tid:47, \r\n\t\tname:'Leonardo', \r\n\t\timage:'https://i.quotev.com/img/q/u/19/5/18/7pk32vqtql.jpg',\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:false\r\n\t},\r\n\t{\r\n\t\tid:48, \r\n\t\tname:'Aubrey Miller', \r\n\t\timage:'https://thumbs.dfs.ivi.ru/storage28/contents/8/b/8a3578d0280ffbb0de11e7fc6cb6f6.jpg',\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:false\r\n\t},\r\n\t{\r\n\t\tid:49, \r\n\t\tname:'Peter Parker', \r\n\t\timage:'https://stuki-druki.com/aforizms/Andrew-Garfield-01.jpg',\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:false\r\n\t},\r\n\t{\r\n\t\tid:50, \r\n\t\tname:'Tayler Durden', \r\n\t\timage:'https://i.guim.co.uk/img/media/44eddd0655bf11d1a7b029f15439f9f7b9efb201/181_28_2208_1324/master/2208.jpg?width=1200&height=1200&quality=85&auto=format&fit=crop&s=431814d186eb7fc54568cb7442a58f27',\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:false\r\n\t},\r\n\t{\r\n\t\tid:51, \r\n\t\tname:'Dave Hodgman', \r\n\t\timage:'https://i.pinimg.com/originals/fb/ab/f0/fbabf08ce7d0f8ed467a737d88ef2433.jpg',\r\n\t\tisVerified:false,\r\n\t\tnumberOfListenersPerMonth: 40,\r\n\t\tsubscribers:42,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:false\r\n\t},\r\n\t{\r\n\t\tid:52, \r\n\t\tname:\"XUITCASECITY\", \r\n\t\timage:'https://images.squarespace-cdn.com/content/v1/56f1aeae7da24fd2594ac9e1/1542717650261-VIDWSX14VA6NGAQL32Z1/ke17ZwdGBToddI8pDm48kK60W-ob1oA2Fm-j4E_9NQB7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0kD6Ec8Uq9YczfrzwR7e2Mh5VMMOxnTbph8FXiclivDQnof69TlCeE0rAhj6HUpXkw/Xuitcasecity+by+Icon+PR',\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 13,\r\n\t\tsubscribers:12,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n\t{\r\n\t\tid:53, \r\n\t\tname:\"Hanz Zimmer\", \r\n\t\timage:'https://i1.sndcdn.com/artworks-000068635202-eb0j3j-t500x500.jpg',\r\n\t\tisVerified:true,\r\n\t\tnumberOfListenersPerMonth: 13,\r\n\t\tsubscribers:12,\r\n\t\tsongs:[\r\n\t\t\t26\r\n\t\t],\r\n\t\tisAuthor:true\r\n\t},\r\n]","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/quavo.931877b3.jpg\";","export default __webpack_public_path__ + \"static/media/Fetty-wap.6389d241.png\";","import React, {useEffect} from 'react'\r\nimport { authors } from '../../data/authors'\r\n\r\nexport const SmallImages = ({imagesList, borderColor = \"#fff\"}) => {\r\n\treturn (\r\n\t\t<div className = \"SmallImages\" style = {{marginRight:-7*(imagesList.length-1)}}>\r\n\t\t\t{imagesList.map((image, index)=>{\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"smallImgContainer\" style = {{border:`3px solid ${borderColor}`, transform:`translateX(${-15*index}px)`}} key = {index}>\r\n\t\t\t\t\t\t<img src={image} alt=\"\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</div>\r\n\t)\r\n}\r\n","export default function rightFormanForBigNumber(number){\r\n\tif(number < 1000) return number\r\n\r\n\tif(number < 1000000) return parseFloat(number/1000).toFixed(1) + 'K'\r\n\r\n\tif(number < 1000000000) return parseFloat(number / 1000000).toFixed(1) + 'M'\r\n}","import React, { useContext, useState } from 'react'\r\n\r\nconst ModalContext = React.createContext()\r\n\r\nexport const useModal = () =>{\r\n\treturn useContext(ModalContext)\r\n}\r\n\r\nexport const ModalClassProvider = ({children}) => {\r\n\tconst [openModal, setOpenModal] = useState(false)\r\n\tconst [content, setContent] = useState(<h1>Test</h1>)\r\n\t\r\n\tfunction toggleModal(){\r\n\t\tsetOpenModal(!openModal)\r\n\t}\r\n\r\n\tconst value = {\r\n\t\topenModal,\r\n\t\tsetOpenModal,\r\n\t\ttoggleModal, \r\n\t\tsetContent, \r\n\t\tcontent\r\n\t}\r\n\treturn (\r\n\t\t<ModalContext.Provider value = {value}>\r\n\t\t\t{children}\r\n\t\t</ModalContext.Provider>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\n\r\nexport const useOutsideClick = (ref, setFunc) => {\r\n\tuseEffect(() => {\r\n\t\tfunction handleClickOutside(event) {\r\n\t\t\tif (ref.current && !ref.current.contains(event.target)) {\r\n\t\t\t\tsetFunc(false)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdocument.addEventListener(\"mousedown\", handleClickOutside);\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\r\n\t\t};\r\n\t}, [ref]);\r\n}\r\n","export default function getUID() {\r\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\tconst piece = (Math.random() * 16) | 0;\r\n\t\tconst elem = c === 'x' ? piece : (piece & 0x3) | 0x8;\r\n\t\treturn elem.toString(16);\r\n\t});\r\n}\r\n","import { firestore } from \"../firebase\"\r\nimport getUID from \"./getUID\"\r\n\r\nexport const createChat = async ( participants, chatUID = getUID(), chatName = \"\", chatImage = \"\", admins = [], imageColors = []) => {\r\n\tfirestore.collection('chats').doc(chatUID).set({\r\n\t\tchatImage:chatImage,\r\n\t\tchatName:chatName,\r\n\t\tid:chatUID,\r\n\t\tmessages:[],\r\n\t\tparticipants:participants,\r\n\t\twallpaper:'undefined',\r\n\t\tadmins:participants.length > 2? admins:[],\r\n\t\ttyping:[],\r\n\t\timageColors:imageColors\r\n\t})\r\n\r\n\tparticipants.map(async personId=>{\r\n\t\tlet chatInfo = (await firestore.collection('users').doc(personId).get()).data().chats\r\n\t\tchatInfo.push(chatUID)\r\n\t\tfirestore.collection('users').doc(personId).update({\r\n\t\t\tchats:chatInfo\r\n\t\t})\r\n\t})\r\n}","import { firestore } from \"../firebase\"\r\nimport getUID from \"./getUID\"\r\n\r\nexport const findChatURL = async (allParticipants, currentUser, setShouldCreate, setFriendChatId) => {\r\n\tlet foundChat = false\r\n\tlet chatId = 0\r\n\tif (currentUser.chats) {\r\n\t\t// const chatInfo = (await firestore.collection('chats').where('participants', \"==\", [friendId, currentUser.uid]).get())\r\n\t\t// const chatInfo2 = (await firestore.collection('chats').where('participants', \"==\", [currentUser.uid, friendId]).get())\r\n\t\t// chatInfo.docs.forEach(chat => {\r\n\t\t// \tfoundChat = true\r\n\t\t// \tsetShouldCreate(false)\r\n\t\t// \tsetFriendChatId(chat.data().id)\r\n\t\t// \tchatId = chat.data().id\r\n\t\t// })\r\n\t\t// chatInfo2.docs.forEach(chat => {\r\n\t\t// \tfoundChat = true\r\n\t\t// \tsetShouldCreate(false)\r\n\t\t// \tsetFriendChatId(chat.data().id)\r\n\t\t// \tchatId = chat.data().id\r\n\t\t// })\r\n\r\n\t\t// if (!foundChat) {\r\n\t\t// \tconst random = getUID()\r\n\t\t// \tfoundChat = true\r\n\t\t// \tsetShouldCreate(true)\r\n\t\t// \tsetFriendChatId(random)\r\n\t\t// \tchatId = random\r\n\t\t// }\r\n\r\n\t\t// Принцип работы таков: он ищет все чаты, в которых есть юзер. Затем он проходит по ним. Затем он проходит по выбранным друзьям\r\n\t\t// Если он находит, что друг есть в списке участников чата, добавляет к count 1, если нет, сразу выходит из цикла учатсников\r\n\t\t// После завершения цикла он проверяет, если количество совпадений + 1 (потому что в массив друзей не входит сам пользователь) равно\r\n\t\t// длине конкретного чата и если количество совпадений равно длине поступившего изначально массива участников, тогда нужный чат найден\r\n\t\tconst chatsWhereUserIn = await firestore.collection('chats').where('participants', 'array-contains', currentUser.uid).get()\r\n\t\tchatsWhereUserIn.docs.forEach(chat=>{\r\n\t\t\tlet count = 0\r\n\t\t\tallParticipants.every(personId=>{\r\n\t\t\t\tif(chat.data().participants.includes(personId)){\r\n\t\t\t\t\tcount++\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t\telse return false\r\n\t\t\t})\t\t\t\r\n\t\t\tif(count + 1 === chat.data().participants.length && count === allParticipants.length){\r\n\t\t\t\tfoundChat = true\r\n\t\t\t\tsetShouldCreate(false)\r\n\t\t\t\tsetFriendChatId(chat.data().id)\r\n\t\t\t\tchatId = chat.data().id\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\telse return true\r\n\t\t})\r\n\r\n\t\tif (!foundChat) {\r\n\t\t\tconst random = getUID()\r\n\t\t\tfoundChat = true\r\n\t\t\tsetShouldCreate(true)\r\n\t\t\tsetFriendChatId(random)\r\n\t\t\tchatId = random\r\n\t\t}\r\n\t\treturn chatId\r\n\t}\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { FiMessageCircle } from 'react-icons/fi'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { createChat } from '../../functions/createChat'\r\nimport { findChatURL } from '../../functions/findChatURL'\r\n\r\nexport const ChatWithFriendButton = ({ data, color }) => {\r\n\tconst { currentUser } = useAuth()\r\n\tconst [shouldCreate, setShouldCreate] = useState(false)\r\n\tconst [friendChatId, setFriendChatId] = useState(0)\r\n\r\n\tuseEffect(() => {\r\n\t\tfindChatURL([data.uid], currentUser, setShouldCreate, setFriendChatId)\r\n\t}, [data.uid])\r\n\r\n\treturn (\r\n\t\t<Link to={`/chat/${friendChatId}`} style = {{display:'block', width:'fit-content', textDecoration: \"none\"}}>\r\n\t\t\t<button onClick={() => { if (shouldCreate) createChat([currentUser.uid, data.uid], friendChatId) }} style = {{background:color}} className = \"ChatWithFriendButton\"><FiMessageCircle /> Messages</button>\r\n\t\t</Link>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const LoadingCircle = ({top = '20%'}) => {\r\n\treturn (\r\n\t\t<div className = \"LoadingCircle\" style = {{top:top}}>\r\n\t\t\t<img src=\"https://icon-library.com/images/spinner-icon-gif/spinner-icon-gif-28.jpg\" alt=\"\"/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { firestore } from \"../firebase\"\r\n\r\nexport const sendMessage = (chatId, chatData, sender, messageText, attachedSongs = [], attachedAlbums = [], attachedAuthors = [], inResponseToMessage) => {\r\n\tif (messageText.length !== 0 || attachedSongs.length !== 0 || attachedAlbums.length !== 0 || attachedAuthors.length !== 0 || inResponseToMessage) {\r\n\t\tconst tempMessages = chatData.messages\r\n\r\n\t\ttempMessages.push({\r\n\t\t\tid: chatData.messages.length,\r\n\t\t\tsender: sender,\r\n\t\t\tmessage: messageText,\r\n\t\t\tsentTime: new Date().toString(),\r\n\t\t\tinResponseToMessage: inResponseToMessage || null,\r\n\t\t\tattachedSongs: attachedSongs,\r\n\t\t\tattachedAlbums: attachedAlbums,\r\n\t\t\tattachedAuthors: attachedAuthors,\r\n\t\t\tseenBy:[sender]\r\n\t\t})\r\n\r\n\t\tfirestore.collection('chats').doc(chatId).update({\r\n\t\t\tmessages: tempMessages\r\n\t\t})\r\n\t}\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FiSearch, FiXCircle} from 'react-icons/fi'\r\nimport { firestore } from '../../firebase'\r\nimport { BackBtn } from './BackBtn'\r\nimport { LoadingCircle } from './LoadingCircle'\r\n\r\nexport const SearchBar = ({value, setValue, setAllFoundSongs, setResultPlaylists, setResultAuthorList, focus = false, defaultSearchMode = undefined, inputText = \"Search for songs or for people\",defaultSongsListValue}) => {\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [message, setMessage] = useState(\"\")\r\n\tconst [foundAnything, setFoundAnything] = useState(false)\r\n\tconst [searchMode, setSearchMode] = useState(0)\r\n\tconst inputRef = useRef(null)\r\n\tlet typingTimeout\r\n\r\n\tasync function findSongs(){\r\n\t\tconst foundItemTempArray = []\r\n\t\tlet response = firestore.collection('songs')\r\n\t\t\t.where('name', \"==\", value)\r\n\t\tconst data = await response.get();\r\n\t\tdata.docs.forEach(item => {\r\n\t\t\tif(defaultSongsListValue && defaultSongsListValue.length){\r\n\t\t\t\tif(defaultSongsListValue.map(song=>song.id).includes(item.id)) foundItemTempArray.push(item.data())\r\n\t\t\t}\r\n\t\t\telse foundItemTempArray.push(item.data())\r\n\t\t})\r\n\r\n\t\tif(foundItemTempArray.length !== 0 && searchMode === 0 && defaultSearchMode === undefined) {\r\n\t\t\tfoundItemTempArray.forEach(async song=>{\r\n\t\t\t\tconst authorsIdsArray = (await firestore.collection('songs').doc(song.id).get()).data().authors\r\n\t\t\t\tauthorsIdsArray.forEach(async (author, index)=>{\r\n\t\t\t\t\tif(index < 3){\r\n\t\t\t\t\t\tconst authorData = (await firestore.collection('users').doc(author.uid).get()).data()\r\n\t\t\t\t\t\tsetResultAuthorList(prev=>[...prev, authorData])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t\tsetAllFoundSongs(foundItemTempArray)\r\n\t\tsetLoading(false)\r\n\t\tif(foundItemTempArray.length !== 0)setFoundAnything(true)\r\n\t}\r\n\r\n\tasync function findAuthors(){\r\n\t\tconst foundItemTempArray = []\r\n\t\tconst response = firestore.collection('users')\r\n\t\t\t.where('displayName', \"==\", value)\r\n\t\tconst data = await response.get();\r\n\t\tdata.docs.forEach(item => {\r\n\t\t\tfoundItemTempArray.push(item.data())\r\n\t\t})\r\n\t\tif(defaultSearchMode === undefined && foundItemTempArray.length !== 0 && searchMode === 0) {\r\n\t\t\t\r\n\t\t\tfoundItemTempArray.forEach(async author=>{\r\n\t\t\t\tconst songsIdsArray = (await firestore.collection('users').doc(author.uid).get()).data().ownSongs\r\n\t\t\t\tconst albumsIdsArray = (await firestore.collection('users').doc(author.uid).get()).data().ownPlaylists\r\n\t\t\t\tsongsIdsArray.forEach(async (songId, index)=>{\r\n\t\t\t\t\tif(index < 3){\r\n\t\t\t\t\t\tconst songData = (await firestore.collection('songs').doc(songId).get()).data()\r\n\t\t\t\t\t\tsetAllFoundSongs(prev=>[...prev, songData])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\talbumsIdsArray.forEach(async (albumId, index)=>{\r\n\t\t\t\t\tif(index < 3){\r\n\t\t\t\t\t\tconst albumData = (await firestore.collection('playlists').doc(albumId).get()).data()\r\n\t\t\t\t\t\tsetResultPlaylists(prev=>[...prev, albumData])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t\tsetResultAuthorList(foundItemTempArray)\r\n\t\tsetLoading(false)\r\n\t\tif(foundItemTempArray.length !== 0)setFoundAnything(true)\r\n\t}\r\n\r\n\tasync function findPlaylists(){\r\n\t\tconst foundItemTempArray = []\r\n\t\tconst response = firestore.collection('playlists')\r\n\t\t\t.where('name', \"==\", value).where('isPrivate', '==', false)\r\n\t\tconst data = await response.get();\r\n\t\tdata.docs.forEach(item => {\r\n\t\t\tfoundItemTempArray.push(item.data())\r\n\t\t})\r\n\t\tif(foundItemTempArray.length !== 0 && searchMode === 0) {\r\n\t\t\t\r\n\t\t\tfoundItemTempArray.forEach(async playlist=>{\r\n\t\t\t\tconst songsIdsArray = (await firestore.collection('playlists').doc(playlist.id).get()).data().authors\r\n\t\t\t\tsongsIdsArray.forEach(async (author, index)=>{\r\n\t\t\t\t\tif(index < 3){\r\n\t\t\t\t\t\tconst songData = (await firestore.collection('users').doc(author.uid).get()).data()\r\n\t\t\t\t\t\tsetResultAuthorList(prev=>[...prev, songData])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t\tsetResultPlaylists(foundItemTempArray)\r\n\t\tsetLoading(false)\r\n\t\tif(foundItemTempArray.length !== 0)setFoundAnything(true)\r\n\t}\r\n\r\n\tfunction findSomething() {\r\n\t\tsetLoading(true)\r\n\t\tsetFoundAnything(false)\r\n\t\tif(value !== \"\"){\r\n\r\n\t\t\tif(defaultSearchMode === undefined){\r\n\t\t\t\tif(searchMode === 0 || searchMode === 1) {\r\n\t\t\t\t\tfindSongs()\r\n\t\t\t\t\tsetResultAuthorList([])\r\n\t\t\t\t\tsetResultPlaylists([])\r\n\t\t\t\t}\r\n\t\t\t\tif(searchMode === 0 || searchMode === 2) \r\n\t\t\t\t{\r\n\t\t\t\t\tfindAuthors()\r\n\t\t\t\t\tsetAllFoundSongs([])\r\n\t\t\t\t\tsetResultPlaylists([])\r\n\t\t\t\t}\r\n\t\t\t\tif(searchMode === 0 || searchMode === 3) \r\n\t\t\t\t{\r\n\t\t\t\t\tfindPlaylists()\r\n\t\t\t\t\tsetResultAuthorList([])\r\n\t\t\t\t\tsetAllFoundSongs([])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tswitch(defaultSearchMode){\r\n\t\t\t\t\tcase \"songs\":\r\n\t\t\t\t\t\tfindSongs()\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"playlists\":\r\n\t\t\t\t\t\tfindPlaylists()\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"authors\":\r\n\t\t\t\t\t\tfindAuthors()\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tfindSongs()\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(defaultSongsListValue !== undefined) setAllFoundSongs(defaultSongsListValue)\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t\tsetMessage('Not found')\r\n\t}\r\n\r\n\tfunction timerUpFunc(func) {\r\n\t\tclearTimeout(typingTimeout)\r\n\t\ttypingTimeout = setTimeout(func, 1000)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(focus) inputRef.current.focus()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tfindSomething()\r\n\t}, [searchMode])\r\n\r\n\t\r\n\treturn (\r\n\t\t<div> \r\n\t\t\t<div className=\"searchBar\">\r\n\t\t\t\t<div className=\"searchBarElement\">\r\n\t\t\t\t\t<FiSearch />\r\n\t\t\t\t\t<span onClick={() => value.length ? setValue(\"\") : null}>{value.length ? <FiXCircle /> : null}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input \r\n\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\tplaceholder={inputText} \r\n\t\t\t\t\tvalue={value} \r\n\t\t\t\t\tonChange={(e) => setValue(e.target.value)} \r\n\t\t\t\t\tonKeyUp={() => timerUpFunc(findSomething)} \r\n\t\t\t\t\tonKeyDown={() => {clearTimeout(typingTimeout)} } \r\n\t\t\t\t\tref = {inputRef}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"searchFilters\" style = {defaultSearchMode !== undefined?{display:'none'}:{}}>\r\n\t\t\t\t\t<button onClick = {()=>setSearchMode(0)} style = {searchMode === 0?{background:'var(--lightBlue)'}:{}}>All</button>\r\n\t\t\t\t\t<button onClick = {()=>setSearchMode(1)} style = {searchMode === 1?{background:'var(--lightBlue)'}:{}}>Songs</button>\r\n\t\t\t\t\t<button onClick = {()=>setSearchMode(2)} style = {searchMode === 2?{background:'var(--lightBlue)'}:{}}>Authors</button>\r\n\t\t\t\t\t<button onClick = {()=>setSearchMode(3)} style = {searchMode === 3?{background:'var(--lightBlue)'}:{}}>Playlists</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"authorsResult\">\r\n\t\t\t\t{loading ?\r\n\t\t\t\t\t<div style={{ position: 'relative', width: '100%', height: '50px', marginTop:'40px' }}>\r\n\t\t\t\t\t\t<LoadingCircle />\r\n\t\t\t\t\t</div> :\r\n\t\t\t\t\t!foundAnything && value.length !== 0?<h2>{message}</h2>:null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { IoIosCheckmarkCircleOutline } from 'react-icons/io'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport shareWithFriends from '../../functions/shareWithManyFriends'\r\nimport { PersonTiny } from './PersonTiny'\r\nimport { SearchBar } from '../Basic/SearchBar'\r\nexport const FriendsListToShareWith = ({ item, whatToShare = 'song' }) => {\r\n\tconst { yourFriends } = useSong()\r\n\tconst [chosenFriends, setChosenFriends] = useState([])\r\n\tconst { currentUser } = useAuth()\r\n\tconst [messageText, setMessageText] = useState(\"\")\r\n\tconst [shared, setShared] = useState(false)\r\n\tconst { toggleModal } = useModal()\r\n\tconst [searchValue, setSearchValue] = useState('')\r\n\tconst [foundPeople, setFoundPeople] = useState([])\r\n\tfunction removeFriendFromList(data) {\r\n\t\tconst filtered = chosenFriends.filter(peopleId => peopleId !== data.uid)\r\n\t\treturn setChosenFriends(filtered)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (shared) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\ttoggleModal()\r\n\t\t\t\tsetShared(false)\r\n\t\t\t}, 1000)\r\n\t\t}\r\n\t}, [shared])\r\n\r\n\r\n\treturn (\r\n\t\t<div className='FriendsListToShareWith'>\r\n\t\t\t{shared ?\r\n\t\t\t\t<div className=\"successMessageSent\">\r\n\t\t\t\t\t<IoIosCheckmarkCircleOutline />\r\n\t\t\t\t\tSong has sent!\r\n\t\t\t\t</div> : null\r\n\t\t\t}\r\n\t\t\t<SearchBar value={searchValue} setValue={setSearchValue} setResultAuthorList={setFoundPeople} defaultSearchMode={\"authors\"} inputText = {\"Search for friends\"}/>\r\n\t\t\t{/* <h2>Share with friends</h2> */}\r\n\t\t\t<div>\r\n\t\t\t\t{foundPeople.length > 0 ?\r\n\t\t\t\t\tfoundPeople.map((data, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<PersonTiny data={data} showChoose chosenArray={chosenFriends} setChosenArray = {setChosenFriends} key={index} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}):\r\n\t\t\t\t\tyourFriends.map((data, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<PersonTiny data={data} showChoose chosenArray={chosenFriends} setChosenArray = {setChosenFriends} key={index} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Your message\" style={{ margin: 0 }} onChange={e => setMessageText(e.target.value)} />\r\n\t\t\t\t</form>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"shareBtn\"\r\n\t\t\t\t\tstyle={!chosenFriends.length ?\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\topacity: 0.5,\r\n\t\t\t\t\t\t\tmaxWidth: 'none',\r\n\t\t\t\t\t\t\tbackground: 'var(--purpleAndBlueGrad)'\r\n\t\t\t\t\t\t} :\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmaxWidth: 'none',\r\n\t\t\t\t\t\t\tbackground: 'var(--purpleAndBlueGrad)'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tif (chosenFriends.length > 0) {\r\n\t\t\t\t\t\t\tshareWithFriends(chosenFriends, currentUser, (whatToShare === 'author' ? item.uid : item.id), whatToShare, messageText);\r\n\t\t\t\t\t\t\tsetShared(true)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}>\r\n\t\t\t\t\tShare with {chosenFriends.length} {chosenFriends.length > 1 ? \"friends\" : \"friend\"}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { firestore } from \"../firebase\";\r\nimport { createChat } from \"./createChat\";\r\nimport { findChatURL } from \"./findChatURL\";\r\nimport getUID from \"./getUID\";\r\nimport { sendMessage } from \"./sendMessage\";\r\n\r\nexport default function shareWithFriends(shareList, currentUser, itemId, whatToShare, messageText = \"\") {\r\n\t//Сделать через функцию sendMessage\r\n\tshareList.map(async userId=>{\r\n\t\tconst chatId = findChatURL([userId], currentUser, ()=>null, ()=>null)\r\n\t\tchatId.then(async (res)=>{\r\n\t\t\tlet chatData = (await firestore.collection('chats').doc(res).get()).data()\r\n\t\t\tif(chatData !== undefined){\r\n\t\t\t\tswitch(whatToShare){\r\n\t\t\t\t\tcase \"song\":\r\n\t\t\t\t\t\tsendMessage(chatId, chatData, currentUser.uid, messageText, [itemId])\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"playlist\":\r\n\t\t\t\t\t\tsendMessage(chatId, chatData, currentUser.uid, messageText, [], [itemId])\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"author\":\r\n\t\t\t\t\t\tsendMessage(chatId, chatData, currentUser.uid, messageText, [], [], [itemId])\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tsendMessage(chatId, chatData, currentUser.uid, messageText, [itemId])\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tconst chatUID = getUID()\r\n\t\t\t\tcreateChat([currentUser.uid, userId], chatUID).then(async ()=>{\r\n\t\t\t\t\tchatData = (await firestore.collection('chats').doc(chatUID).get()).data()\r\n\t\t\t\t\tswitch(whatToShare){\r\n\t\t\t\t\t\tcase \"song\":\r\n\t\t\t\t\t\t\tsendMessage(chatUID, chatData, currentUser.uid, messageText, [itemId])\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"playlist\":\r\n\t\t\t\t\t\t\tsendMessage(chatUID, chatData, currentUser.uid, messageText, [], [itemId])\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"author\":\r\n\t\t\t\t\t\t\tsendMessage(chatUID, chatData, currentUser.uid, messageText, [], [], [itemId])\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tsendMessage(chatUID, chatData, currentUser.uid, messageText, [itemId])\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\r\n\t\t\t\r\n\t\t})\r\n\t})\r\n\r\n\t\r\n}","import React from 'react'\r\n\r\nexport const RadioBtn = ({currentActive, id, label, onClick}) => {\r\n\treturn (\r\n\t\t<div className = \"RadioBtn\" id = {id} onClick = {onClick}>\r\n\t\t\t<span className = \"radioLabel\" style = {currentActive === id?{color:'var(--blue)', opacity:1, fontWeight:'bold'}:{}}>\r\n\t\t\t\t{label}\r\n\t\t\t</span>\r\n\t\t\t<span className = \"radioCircle\" style = {currentActive === id?{background:'var(--blue)'}:{}}></span>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const ColorCircles = ({play}) => {\r\n\treturn (\r\n\t\t<div className = 'ColorCircles' style = {!play?{opacity:0, transform:\"scale(.95)\"}:{}}>\r\n\t\t\t<span className = \"colorCircle\"></span>\r\n\t\t\t<span className = \"colorCircle\"></span>\r\n\t\t\t<span className = \"colorCircle\"></span>\r\n\t\t</div>\r\n\t)\r\n}\r\n","export const friends = {\r\n\t\"30\":[\r\n\t\t31, 45, 46, 47, 48, 49, 50, 51\r\n\t]\r\n}","export const chat = {\r\n\t\"1234561231\":{\r\n\t\tid:\"1234561231\",\r\n\t\tparticipants:[30, 31],\r\n\t\timage:'',\r\n\t\tmessages:[\r\n\t\t\t{\r\n\t\t\t\tid:0,\r\n\t\t\t\tsender:30,\r\n\t\t\t\tmessage:'0',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[23, 12, 22],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[3],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:1,\r\n\t\t\t\tsender:30,\r\n\t\t\t\tmessage:'1',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[0, 1, 5],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:2,\r\n\t\t\t\tsender:30,\r\n\t\t\t\tmessage:'3',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:1,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[4],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:3,\r\n\t\t\t\tsender:30,\r\n\t\t\t\tmessage:'3',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:0,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[6],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:4,\r\n\t\t\t\tsender:30,\r\n\t\t\t\tmessage:'3',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:0,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[6],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:5,\r\n\t\t\t\tsender:31,\r\n\t\t\t\tmessage:'3',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:4,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[6],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:6,\r\n\t\t\t\tsender:31,\r\n\t\t\t\tmessage:'3',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:1,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[6],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:7,\r\n\t\t\t\tsender:31,\r\n\t\t\t\tmessage:'3',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:2,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[2],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t]\r\n\t},\r\n\t\"5147654342\":{\r\n\t\tid:\"5147654342\",\r\n\t\tparticipants:[30, 34],\r\n\t\timage:'',\r\n\t\tmessages:[\r\n\t\t\t{\r\n\t\t\t\tid:0,\r\n\t\t\t\tsender:30,\r\n\t\t\t\tmessage:'0',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:1,\r\n\t\t\t\tsender:30,\r\n\t\t\t\tmessage:'1',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[0],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:2,\r\n\t\t\t\tsender:30,\r\n\t\t\t\tmessage:'3',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[4],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:2,\r\n\t\t\t\tsender:34,\r\n\t\t\t\tmessage:'3',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:1,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[5],\r\n\t\t\t},\r\n\t\t]\r\n\t},\r\n\t\"1456526216\":{\r\n\t\tid:\"1456526216\",\r\n\t\tparticipants:[30, 45],\r\n\t\timage:'',\r\n\t\tmessages:[\r\n\t\t\t{\r\n\t\t\t\tid:0,\r\n\t\t\t\tsender:45,\r\n\t\t\t\tmessage:'0',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:1,\r\n\t\t\t\tsender:45,\r\n\t\t\t\tmessage:'1',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[0],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:2,\r\n\t\t\t\tsender:45,\r\n\t\t\t\tmessage:'2',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[4],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:3,\r\n\t\t\t\tsender:30,\r\n\t\t\t\tmessage:'2',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[],\r\n\t\t\t\tattachedAlbums:[3],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t]\r\n\t},\r\n\t\"1431626216\":{\r\n\t\tid:\"1431626216\",\r\n\t\tparticipants:[30, 48],\r\n\t\timage:'',\r\n\t\tmessages:[\r\n\t\t\t{\r\n\t\t\t\tid:0,\r\n\t\t\t\tsender:48,\r\n\t\t\t\tmessage:'0',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[0],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:1,\r\n\t\t\t\tsender:30,\r\n\t\t\t\tmessage:'4',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[20],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\r\n\t\t]\r\n\t},\r\n\t\"1435324567\":{\r\n\t\tid:\"1435324567\",\r\n\t\tparticipants:[30, 49],\r\n\t\timage:'',\r\n\t\tmessages:[\r\n\t\t\t{\r\n\t\t\t\tid:0,\r\n\t\t\t\tsender:48,\r\n\t\t\t\tmessage:'0',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[0],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid:1,\r\n\t\t\t\tsender:30,\r\n\t\t\t\tmessage:'4',\r\n\t\t\t\tsentTime:'May 2, 2021 11:50:12',\r\n\t\t\t\tinResponseToMessage:null,\r\n\t\t\t\tattachedSongs:[20],\r\n\t\t\t\tattachedAlbums:[],\r\n\t\t\t\tattachedAuthors:[],\r\n\t\t\t},\r\n\r\n\t\t]\r\n\t},\r\n\t\"1435324517\":{\r\n\t\tid:\"1435324517\",\r\n\t\tparticipants:[30, 50],\r\n\t\timage:'',\r\n\t\tmessages:[\r\n\t\t]\r\n\t},\r\n\r\n}","export default function createRandomId(len = 10) {\r\n\tlet str = \"\"\r\n\tfor (let i = 0; i < len; i++) {\r\n\t\tlet randNum = Math.floor(Math.random() * 10)\r\n\t\tstr += randNum\r\n\t}\r\n\treturn str\r\n}","import { chat } from \"../data/chat\"\r\nimport createRandomId from \"./createRandomId\"\r\n\r\nfunction createChat(id, songId, albumId = null, authorId = null) {\r\n\tconst randId = createRandomId()\r\n\tchat[randId] =\r\n\t{\r\n\t\tid: randId,\r\n\t\tparticipants: [30, parseInt(id)],\r\n\t\timage: '',\r\n\t\tmessages: [\r\n\t\t\t{\r\n\t\t\t\tid: 0,\r\n\t\t\t\tsender: 30,\r\n\t\t\t\tmessage: '',\r\n\t\t\t\tsentTime: new Date(),\r\n\t\t\t\tinResponseToMessage: null,\r\n\t\t\t\tattachedSongs: [songId],\r\n\t\t\t\tattachedAlbums: albumId !== null? [albumId]:[],\r\n\t\t\t\tattachedAuthors: authorId !== null? [authorId]:[],\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n}\r\n\r\nexport default function shareWithOneFriend(e, songId, albumId = null, authorId = null) {\r\n\tconsole.log(\"id:\",e.target.id, \"songId:\", songId)\r\n\tlet isThereChat = false\r\n\tObject.keys(chat).forEach((chatId) => {\r\n\t\tif (chat[chatId].participants.includes(parseInt(e.target.id)) && chat[chatId].participants.includes(30)) {\r\n\t\t\tisThereChat = true\r\n\t\t\tchat[chatId].messages.push(\r\n\t\t\t\t{\r\n\t\t\t\t\tid: chat[chatId].messages.length,\r\n\t\t\t\t\tsender: 30,\r\n\t\t\t\t\tmessage: '',\r\n\t\t\t\t\tsentTime: new Date(),\r\n\t\t\t\t\tinResponseToMessage: null,\r\n\t\t\t\t\tattachedSongs: [songId],\r\n\t\t\t\t\tattachedAlbums: albumId !== null? [albumId]:[],\r\n\t\t\t\t\tattachedAuthors: authorId !== null? [authorId]:[],\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t})\r\n\r\n\tif (!isThereChat) createChat(e.target.id, songId, albumId, authorId)\r\n}","import React, { useRef, useState } from 'react'\r\nimport { ColorCircles } from '../FullScreenPlayer/colorCircles'\r\nimport { HiPause, HiPlay } from 'react-icons/hi'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { CgMusicNote } from 'react-icons/cg'\r\nimport rightFormanForBigNumber from '../../functions/rightFormatForBigNumber'\r\nimport { FiCheck, FiFlag, FiInfo, FiMoreVertical, FiPlusCircle, FiShare, FiTrash2 } from 'react-icons/fi'\r\nimport { useOutsideClick } from '../../hooks/useOutsideClick'\r\nimport { songs } from '../../data/songs'\r\nimport { MdPlaylistAdd } from 'react-icons/md'\r\nimport { friends } from '../../data/friends'\r\nimport { authors } from '../../data/authors'\r\nimport shareWithOneFriend from '../../functions/shareWithOneFriend'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { firestore } from '../../firebase'\r\nexport const SongItemChoice = ({ song, listOfSongs, setListOfSongs, showListens = false, listens = 0, isNewSong = false }) => {\r\n\tconst { setCurrentSong, currentSong, displayAuthors, play, songRef, setPlay, setYourSongs, yourPlaylists, currentSongQueue, setCurrentSongInQueue, fetchYourSongs } = useSong()\r\n\tconst [openMoreWindow, setOpenMoreWindow] = useState(false)\r\n\tconst [moreWindowPosRelativeToViewport, setMoreWindowPosRelativeToViewport] = useState(0)\r\n\tconst currentItemRef = useRef(null)\r\n\tconst {currentUser} = useAuth()\r\n\tuseOutsideClick(currentItemRef, setOpenMoreWindow)\r\n\r\n\tfunction openSongItemMoreWindow(e) {\r\n\t\te.stopPropagation()\r\n\t\tsetOpenMoreWindow(!openMoreWindow)\r\n\t\tsetMoreWindowPosRelativeToViewport(e.target.getBoundingClientRect().top)\r\n\t}\r\n\r\n\tfunction addSongToList() {\r\n\t\tif(!listOfSongs.includes(song.id)){\r\n\t\t\treturn setListOfSongs(prev=>[...prev, song.id])\r\n\t\t}\r\n\r\n\t\tlet filteredList = listOfSongs.filter(el=>el !== song.id)\r\n\t\tsetListOfSongs(filteredList)\r\n\t}\r\n\r\n\tfunction addOrDeleteSongToLibrary(e) {\r\n\t\te.stopPropagation()\r\n\t\tif (currentUser.addedSongs.includes(song.id)) {\r\n\t\t\tlet newList = currentUser.addedSongs.filter(songNum => songNum !== song.id)\r\n\t\t\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\t\t\taddedSongs:newList\r\n\t\t\t})\r\n\t\t\tfetchYourSongs()\r\n\t\t\tsetOpenMoreWindow(false)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet newList = currentUser.addedSongs\r\n\t\tnewList.push(song.id)\r\n\t\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\t\taddedSongs:newList\r\n\t\t})\r\n\t\tfetchYourSongs()\r\n\t}\r\n\r\n\tfunction addOrDeleteSongToPlaylist(e) {\r\n\t\te.stopPropagation()\r\n\t\tif (yourPlaylists[e.target.id].songs.includes(song.id)) {\r\n\t\t\tyourPlaylists[e.target.id].songs = yourPlaylists[e.target.id].songs.filter(songNum => songNum !== song.id)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tyourPlaylists[e.target.id].songs.push(song.id)\r\n\t}\r\n\r\n\tfunction showAdditionalInfoIfShould() {\r\n\t\treturn showListens ?\r\n\t\t\t<span style={{ display: 'flex', alignItems: 'center', opacity: .7, fontSize: '.8em' }} className={isNewSong ? \"newSongMarker\" : \"\"}>\r\n\t\t\t\t{rightFormanForBigNumber(listens)} <CgMusicNote />\r\n\t\t\t</span> :\r\n\t\t\tisNewSong ?\r\n\t\t\t<span style={{ display: 'flex', alignItems: 'center', fontSize: '.7em' }} className={\"newSongMarker\"}>\r\n\t\t\t\tNew\r\n\t\t\t</span> :\r\n\t\t\t\tnull\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={'SongItem ' + (listOfSongs.includes(song.id) ? \"inList\" : \"\")} onClick={addSongToList} ref={openMoreWindow ? currentItemRef : null} style={openMoreWindow ? { background: 'var(--playlistsColor)' } : {}}>\r\n\t\t\t<div className=\"songItemImageAndName\">\r\n\t\t\t\t<div className=\"songItemImage\">\r\n\t\t\t\t\t<div className=\"songItemPlayOrPause\">\r\n\t\t\t\t\t\t{song.id === currentSong && play ? null : <HiPlay />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"playingAnimation\" style={song.id === currentSong && play ? { opacity: 1, visibility: 'visible' } : {}}>\r\n\t\t\t\t\t\t<HiPause />\r\n\t\t\t\t\t\t<ColorCircles play={play} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img src={song.cover} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"songItemNameAndAuthor\">\r\n\t\t\t\t\t<div className=\"songItemName\" style={{ display: 'flex', alignItems: 'center' }}>\r\n\t\t\t\t\t\t{song.name}\r\n\t\t\t\t\t\t<span style={{ marginLeft: '10px', fontWeight: '500' }}>\r\n\t\t\t\t\t\t\t{showAdditionalInfoIfShould()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"songItemAuthor\">{displayAuthors(song.authors)}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"songItemMoreBtn\" onClick={openSongItemMoreWindow}>\r\n\t\t\t\t<button onClick={addOrDeleteSongToLibrary}>\r\n\t\t\t\t\t{!currentUser.addedSongs.includes(song.id) ? <FiPlusCircle /> : <FiCheck />}\r\n\t\t\t\t</button>\r\n\t\t\t\t<button>\r\n\t\t\t\t\t<FiMoreVertical />\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t{openMoreWindow ?\r\n\t\t\t\t(\r\n\t\t\t\t\t<div className=\"songItemMenuWindow\" style={moreWindowPosRelativeToViewport > (window.innerHeight / 2) + 100 ? { top: 'auto', bottom: '110%' } : { top: '110%', bottom: 'auto' }} onClick={e => e.stopPropagation()}>\r\n\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\" onClick={addOrDeleteSongToLibrary}>{currentUser.addedSongs.includes(song.id) ? <span><FiTrash2 />Delete</span> : <span><FiPlusCircle />Add</span>}</div>\r\n\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\">\r\n\t\t\t\t\t\t\t<div className=\"songItemMenuWindow inner\">\r\n\t\t\t\t\t\t\t\t{yourPlaylists.map((playlist, key) => {\r\n\t\t\t\t\t\t\t\t\tif (!playlist.isAlbum && playlist.authors.includes(30))\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\" onClick={addOrDeleteSongToPlaylist} key={key} id={key}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!yourPlaylists[key].songs.includes(song.id) ? <FiPlusCircle /> : <FiCheck />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{playlist.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<MdPlaylistAdd />Add to playlist\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\">\r\n\t\t\t\t\t\t\t<div className=\"songItemMenuWindow inner\">\r\n\t\t\t\t\t\t\t\t{friends['30'].map((friendId, key) => {\r\n\t\t\t\t\t\t\t\t\tconst friend = authors[friendId]\r\n\t\t\t\t\t\t\t\t\tif (key < 3)\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\" onClick={(e)=>shareWithOneFriend(e, song.id)} key={key} id={friendId}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItemImgWrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={friend.image} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{friend.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<FiShare />Share\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\"><FiInfo />Info</div>\r\n\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\"><FiFlag />Flag</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) :\r\n\t\t\t\tnull\r\n\t\t\t}\r\n\r\n\t\t</div >\r\n\t)\r\n}\r\n","export default function shortWord(word, len = 50){\r\n\treturn word.substr(0, len) + (word.length > len?\"...\":\"\")\r\n}","import shortWord from \"./shortWord\"\r\n\r\nexport const displayAuthorsStr = (authorslist, separator = ' & ', lenLimit = 100) =>{\r\n\tconst authorsString = authorslist.map(author=>author.displayName).join(separator)\r\n\treturn shortWord(authorsString, lenLimit)\r\n}","import { firestore } from \"../firebase\"\r\n\r\nexport const addSongToLibrary = (e, song, currentUser) => {\r\n\te.stopPropagation()\r\n\tconst songAuthorsUIDS = song.authors.map(author => author.uid)\r\n\tconst finalAuthorsUIDS = []\r\n\tsongAuthorsUIDS.forEach(authorId => {\r\n\t\tif (!currentUser.addedAuthors.includes(authorId)) {\r\n\t\t\tfinalAuthorsUIDS.push(authorId)\r\n\t\t}\r\n\t})\r\n\tlet newList = currentUser.addedSongs\r\n\tnewList.push(song.id)\r\n\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\taddedSongs: newList,\r\n\t\taddedAuthors: [...finalAuthorsUIDS, ...currentUser.addedAuthors]\r\n\t})\r\n\r\n\tfinalAuthorsUIDS.forEach(async authorId=>{\r\n\t\tlet subscribers = (await firestore.collection('users').doc(authorId).get()).data().subscribers\r\n\t\tsubscribers++\r\n\t\tfirestore.collection('users').doc(authorId).update({\r\n\t\t\tsubscribers: subscribers\r\n\t\t})\r\n\t})\r\n}","export default function filterArrayWithArray(whatToFilter, withWhatToFilter){\r\n\treturn whatToFilter.filter(\r\n\t\tfunction (e) {\r\n\t\t\treturn this.indexOf(e) < 0;\r\n\t\t},\r\n\t\twithWhatToFilter\r\n\t);\r\n}","import { firestore } from \"../firebase\"\r\nimport filterArrayWithArray from \"./filterArrayWithArray\"\r\n\r\nexport const deleteSongFromLibrary = (e, song, currentUser, yourSongs) => {\r\n\te.stopPropagation()\r\n\tconst songAuthorsUIDS = song.authors.map(author => author.uid)\r\n\tconst finalAuthorsUIDS = [] // массив авторов, песни которых еще остались после удаления выбранной песни\r\n\tlet newList = currentUser.addedSongs.filter(songNum => songNum !== song.id)\r\n\tsongAuthorsUIDS.forEach(authorId => {\r\n\t\tyourSongs.forEach(songObj => {\r\n\t\t\tif (newList.includes(songObj.id) && songObj.authors.find(a => a.uid === authorId)) {\r\n\t\t\t\tfinalAuthorsUIDS.push(authorId)\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\tconst filtered = filterArrayWithArray(songAuthorsUIDS, finalAuthorsUIDS) // массив людей, которых нужно убрать из библиотеки\r\n\tconst finalFilteredAuthors = filterArrayWithArray(currentUser.addedAuthors, filtered) // массив людей, оставшихся в библиотеке\r\n\r\n\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\taddedSongs: newList,\r\n\t\taddedAuthors: finalFilteredAuthors\r\n\t})\r\n\r\n\tfiltered.forEach(async authorId=>{\r\n\t\tlet subscribers = (await firestore.collection('users').doc(authorId).get()).data().subscribers\r\n\t\tsubscribers--\r\n\t\tfirestore.collection('users').doc(authorId).update({\r\n\t\t\tsubscribers: subscribers\r\n\t\t})\r\n\t})\r\n\t\r\n}","import { useAuth } from \"../../functionality/AuthContext\"\r\nimport { addSongToLibrary } from \"../../functions/addSongToLibrary\"\r\nimport { deleteSongFromLibrary } from \"../../functions/deleteSongFromLibrary\"\r\nimport {FiPlusCircle, FiTrash2} from 'react-icons/fi'\r\nimport { useSong } from \"../../functionality/SongPlay/SongContext\"\r\nexport default function AddOrDeleteButtonFull({song}) {\r\n\tconst {currentUser} = useAuth()\r\n\tconst {yourSongs} = useSong()\r\n\tif (!currentUser.addedSongs.includes(song.id)) {\r\n\t\treturn <span onClick={(e) => addSongToLibrary(e, song, currentUser)}>\r\n\t\t\t<FiPlusCircle />\r\n\t\t\tAdd\r\n\t\t</span>\r\n\t}\r\n\telse {\r\n\t\treturn <span onClick={(e) => deleteSongFromLibrary(e, song, currentUser, yourSongs)}>\r\n\t\t\t<FiTrash2 />\r\n\t\t\tDelete\r\n\t\t</span>\r\n\t}\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const PersonTinyVerticalItem = ({person}) => {\r\n\treturn (\r\n\t\t<Link to = {`/authors/${person.uid}`}>\r\n\t\t\t<div className = \"PersonTinyVerticalItem\">\r\n\t\t\t\t<div className=\"personTinyImage\">\r\n\t\t\t\t\t<img src={person.photoURL} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"personTinyName\">\r\n\t\t\t\t\t{person.displayName}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t)\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi';\r\nimport { firestore } from '../../firebase';\r\nimport { PersonTinyVerticalItem } from './PersonTinyVerticalItem'\r\n\r\nexport const PersonTinyList = ({data, title}) => {\r\n\tconst [listOfPeople, setListOfPeople] = useState([])\r\n\tconst [scrollLeft, setScrollLeft] = useState(0)\r\n\tconst wrapperRef = useRef(null)\r\n\tconst [shouldRenderRightArrow, setShouldRenderRightArrow] = useState(false)\r\n\tfunction scrollToLeft() {\r\n\t\tconst prev = wrapperRef.current.scrollLeft\r\n\t\twrapperRef.current.scrollLeft = prev - 200\r\n\t\tsetScrollLeft(prev - 200)\r\n\t}\r\n\tfunction scrollToRight() {\r\n\t\tconst prev = wrapperRef.current.scrollLeft\r\n\t\twrapperRef.current.scrollLeft = prev + 200\r\n\t\tsetScrollLeft(prev + 200)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(listOfPeople.length > 0){\r\n\t\t\tconst scrollBiggerThanScreen = wrapperRef.current.scrollWidth > wrapperRef.current.offsetWidth\r\n\t\t\tif (scrollBiggerThanScreen) setShouldRenderRightArrow(true)\r\n\t\t}\r\n\t}, [listOfPeople])\r\n\r\n\tfunction fetchFriends(){\r\n\t\tsetListOfPeople([])\r\n\t\tdata.friends.forEach(async personObj => {\r\n\t\t\tif(personObj.status === 'added'){\r\n\t\t\t\tconst personData = (await firestore.collection('users').doc(personObj.uid).get()).data()\r\n\t\t\t\tsetListOfPeople(prev=>[...prev, personData])\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tsetListOfPeople([])\r\n\t\tfetchFriends()\r\n\t}, [data.uid])\r\n\treturn listOfPeople.length > 0? (\r\n\t\t<div className = 'PersonTinyList'>\r\n\t\t\t{title && <h2>{title}</h2>}\r\n\t\t\t<div style = {{position:'relative'}}>\t\r\n\t\t\t\t<div className=\"personTinyListWrapper\" ref = {wrapperRef} onScroll={e => setScrollLeft(e.target.scrollLeft)}>\r\n\t\t\t\t\t{listOfPeople.map((person, index)=>{\r\n\t\t\t\t\t\treturn <PersonTinyVerticalItem person = {person} key = {person.uid}/>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"authorsShiftButtons\">\r\n\t\t\t\t\t<button onClick={scrollToLeft} style={scrollLeft <= 0 ? { visibility: 'hidden', opacity: '0' } : {}}><FiChevronLeft /></button>\r\n\t\t\t\t\t<button onClick={scrollToRight} style={shouldRenderRightArrow && wrapperRef.current && (wrapperRef.current.scrollWidth - wrapperRef.current.offsetWidth !== scrollLeft)? {} : { visibility: 'hidden', opacity: '0' }}><FiChevronRight /></button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t):null\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport displayDate from '../../functions/displayDate'\r\nimport { PersonTinyList } from '../AuthorPage/PersonTinyList'\r\nimport {CgMusicNote} from 'react-icons/cg'\r\nimport {PersonTinyVerticalItem} from '../AuthorPage/PersonTinyVerticalItem'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport { FriendsListToShareWith } from './FriendsListToShareWith'\r\nexport const SongInfo = ({song}) => {\r\n\tconst {currentSongData} = useSong()\r\n\tconst {toggleModal, setContent} = useModal()\r\n\tconst {currentUser} = useAuth()\r\n\tconst [songData, setSongData] = useState(song || currentSongData)\r\n\tconst {displayAuthors} = useSong()\r\n\tconst [friendsThatHaveThisSong, setFriendsThatHaveThisSong] = useState([])\r\n\tconst [loading, setLoading] = useState(true)\r\n\tasync function findFriendsThatHaveThisSong(){\r\n\t\tsetLoading(true)\r\n\t\tsetFriendsThatHaveThisSong([])\r\n\t\tconst people = await firestore.collection('users').where('addedSongs', 'array-contains', songData.id).get()\r\n\t\tpeople.forEach(person=>{\r\n\t\t\tif(currentUser.friends.find(friend=>friend.uid === person.data().uid)) setFriendsThatHaveThisSong(prev=>[...prev, person.data()])\r\n\t\t\tconsole.log(person.data())\r\n\t\t\tsetLoading(false)\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(song !== undefined) setSongData(song)\r\n\t}, [song && song.id])\r\n\r\n\tuseEffect(() => {\r\n\t\tfindFriendsThatHaveThisSong()\r\n\t}, [songData.id])\r\n\r\n\treturn (\r\n\t\t<div className = 'SongInfo'>\r\n\t\t\t<div className=\"songImage\">\r\n\t\t\t\t<img src={songData.cover} alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t<div className = \"songInfoContent\">\r\n\t\t\t\t<h3 style = {{color:songData.imageColors[0]}}>{songData.name}</h3>\r\n\t\t\t\t<span>{displayAuthors(songData.authors, ', ')}</span>\r\n\t\t\t\t<div style = {{display:'flex', alignItems:'center', opacity:'0.6', fontSize:'.9em', position:\"relative\"}} className = \"listensAndDate\">\r\n\t\t\t\t\t<p className = \"infoListens\" style = {{marginRight:'15px', position:'relative'}}>{songData.listens} <CgMusicNote /></p>\r\n\t\t\t\t\t<span>{displayDate(songData.releaseDate)}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h4 style = {{margin:'10px 0'}}>{friendsThatHaveThisSong.length > 0? 'Friends that listen that song': 'None of your friends listens this'}</h4>\r\n\t\t\t\t<div style = {{display:'flex', alignItems:'center'}}>\r\n\t\t\t\t\t{friendsThatHaveThisSong.map((person, index)=>{\r\n\t\t\t\t\t\treturn <PersonTinyVerticalItem person = {person} key = {person.uid}/>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t{friendsThatHaveThisSong.length <= 0?<button className = \"shareBtn\" style = {{minHeight:'35px', background:songData.imageColors[0]}} onClick = {()=>{setContent(<FriendsListToShareWith item = {songData} whatToShare = {'song'}/>)}}>Share</button>:null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { addOrDeleteSongToPlaylist } from '../../functions/addOrDeleteSongToPlaylist'\r\nimport {FiPlusCircle, FiCheck} from 'react-icons/fi'\r\nimport { Hint } from '../Basic/Hint'\r\nexport const AddToPlaylists = ({song}) => {\r\n\tconst {yourPlaylists, currentSongData} = useSong()\r\n\tconst {currentUser} = useAuth()\r\n\tconst [songData, setsongData] = useState(song || currentSongData)\r\n\treturn (\r\n\t\t<div className = \"AddToPlaylists\">\r\n\t\t\t<div style = {{display:'flex', flexDirection:'column'}}>\r\n\t\t\t\t{yourPlaylists.map((playlist, key) => {\r\n\t\t\t\t\tif (currentUser.ownPlaylists.includes(playlist.id)) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\" onClick={(e) => addOrDeleteSongToPlaylist(e, playlist.id, songData, yourPlaylists)} key={key} id={key}>\r\n\t\t\t\t\t\t\t\t{!playlist.songs.includes(songData.id) ? <><Hint text = {`Add ${currentSongData.name} to playlist`}/><FiPlusCircle /></> : <><Hint text = {`Remove ${currentSongData.name} from playlist`}/><FiCheck /></>}\r\n\t\t\t\t\t\t\t\t{playlist.name}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { firestore } from \"../firebase\"\r\n\r\nexport const addOrDeleteSongToPlaylist = (e, playlistId, song, yourPlaylists) => {\r\n\r\n\tif (yourPlaylists[e.target.id].songs.includes(song.id)) {\r\n\t\tconst newSongsList = yourPlaylists[e.target.id].songs.filter(songNum => songNum !== song.id)\r\n\t\tyourPlaylists[e.target.id].songs = newSongsList\r\n\t\tfirestore.collection('playlists').doc(playlistId).update({\r\n\t\t\tsongs: newSongsList\r\n\t\t})\r\n\t\treturn\r\n\t}\r\n\tconst newSongsList = yourPlaylists[e.target.id].songs\r\n\tnewSongsList.unshift(song.id)\r\n\tyourPlaylists[e.target.id].songs = newSongsList\r\n\tfirestore.collection('playlists').doc(playlistId).update({\r\n\t\tsongs: newSongsList\r\n\t})\r\n}","import React, { useRef, useState } from 'react'\r\nimport { ColorCircles } from './colorCircles'\r\nimport { HiPause, HiPlay } from 'react-icons/hi'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { CgMusicNote } from 'react-icons/cg'\r\nimport rightFormanForBigNumber from '../../functions/rightFormatForBigNumber'\r\nimport { FiX, FiFlag, FiInfo, FiMoreVertical, FiPlusCircle, FiShare, FiTrash2 } from 'react-icons/fi'\r\nimport { useOutsideClick } from '../../hooks/useOutsideClick'\r\nimport { MdKeyboardArrowRight, MdPlaylistAdd } from 'react-icons/md'\r\nimport AddOrDeleteButtonFull from './AddOrDeleteSongButton'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { firestore } from '../../firebase'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport { FriendsListToShareWith } from '../Basic/FriendsListToShareWith'\r\nimport { SongInfo } from '../Basic/SongInfo'\r\nimport { deleteSongFromLibrary } from '../../functions/deleteSongFromLibrary'\r\nimport { addSongToLibrary } from '../../functions/addSongToLibrary'\r\nimport shortWord from '../../functions/shortWord'\r\nimport {AddToPlaylists} from './AddToPlaylists'\r\nimport { AddToListCircle } from '../Basic/AddToListCircle'\r\nimport { useScreen } from '../../functionality/ScreenContext'\r\nimport { displayAuthorsStr } from '../../functions/displayAuthorsStr'\r\nimport { Hint } from '../Basic/Hint'\r\nexport const SongItem = ({ song, localIndex, showListens = false, isNewSong = false, listOfChosenSongs, setListOfSongs }) => {\r\n\tconst { yourSongs, setCurrentSong, currentSong, displayAuthors, play, songRef, setPlay, setCurrentSongInQueue } = useSong()\r\n\tconst {isMobile} = useScreen()\r\n\tconst [openMoreWindow, setOpenMoreWindow] = useState(false)\r\n\tconst [moreWindowPosRelativeToViewport, setMoreWindowPosRelativeToViewport] = useState(0)\r\n\tconst currentItemRef = useRef(null)\r\n\tconst { currentUser } = useAuth()\r\n\tconst { toggleModal, setContent } = useModal()\r\n\tuseOutsideClick(currentItemRef, setOpenMoreWindow)\r\n\r\n\tfunction chooseSongItem() {\r\n\t\tsetCurrentSong(song.id)\r\n\t\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\t\tlastSongPlayed: song.id\r\n\t\t})\r\n\t\tsetCurrentSongInQueue(localIndex)\r\n\t\tif (song.id === currentSong && play) {\r\n\t\t\tsongRef.current.pause();\r\n\t\t\tsetPlay(false)\r\n\t\t\t// clearTimeout(listenCountTimeOut)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsongRef.current.play();\r\n\t\tsetPlay(true)\r\n\t}\r\n\r\n\tfunction openSongItemMoreWindow(e) {\r\n\t\te.stopPropagation()\r\n\t\tsetOpenMoreWindow(!openMoreWindow)\r\n\t\tsetMoreWindowPosRelativeToViewport(e.target.getBoundingClientRect().top)\r\n\t}\r\n\r\n\r\n\tfunction showAdditionalInfoIfShould() {\r\n\t\treturn showListens ?\r\n\t\t\t<span style={{ display: 'flex', alignItems: 'center', opacity: .7, fontSize: '.8em' }} className={isNewSong ? \"newSongMarker\" : \"\"}>\r\n\t\t\t\t{rightFormanForBigNumber(song.listens)} <CgMusicNote />\r\n\t\t\t</span> :\r\n\t\t\tisNewSong ?\r\n\t\t\t\t<span style={{ display: 'flex', alignItems: 'center', fontSize: '.7em' }} className={\"newSongMarker\"}>\r\n\t\t\t\t\tNew\r\n\t\t\t\t</span> :\r\n\t\t\t\tnull\r\n\t}\r\n\r\n\tfunction addOrDeleteButton() {\r\n\t\tif (!currentUser.addedSongs.includes(song.id)) {\r\n\t\t\treturn <button onClick={(e) => addSongToLibrary(e, song, currentUser)} style = {{position:\"relative\"}}>\r\n\t\t\t\t<Hint text = {\"add song\"}/>\r\n\t\t\t\t<FiPlusCircle />\r\n\t\t\t</button>\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn <button onClick={(e) => deleteSongFromLibrary(e, song, currentUser, yourSongs)}  style = {{position:\"relative\"}}>\r\n\t\t\t\t<Hint text = {\"delete song\"}/>\r\n\t\t\t\t<FiX />\r\n\t\t\t</button>\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AddToListCircle listOfChosenItems = {listOfChosenSongs} setListOfChosenItems = {setListOfSongs} itemId = {song.id}/>\r\n\t\t\t<div className={'SongItem ' + (song.id === currentSong && play ? \"playingNow\" : \"\")} onClick={chooseSongItem} ref={openMoreWindow ? currentItemRef : null} style={openMoreWindow ? { background: 'var(--playlistsColor)' } : {}}>\r\n\t\t\t\t<div className=\"songItemImageAndName\">\r\n\t\t\t\t\t<div className=\"songItemImage\">\r\n\t\t\t\t\t\t<div className=\"songItemPlayOrPause\">\r\n\t\t\t\t\t\t\t{song.id === currentSong && play ? null : <HiPlay />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"playingAnimation\" style={song.id === currentSong && play ? { opacity: 1, visibility: 'visible' } : {}}>\r\n\t\t\t\t\t\t\t<HiPause />\r\n\t\t\t\t\t\t\t<ColorCircles play={play} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<img src={song.cover} alt=\"\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"songItemNameAndAuthor\">\r\n\t\t\t\t\t\t<div className=\"songItemName\" style={{ display: 'flex', alignItems: 'center' }}>\r\n\t\t\t\t\t\t\t{shortWord(song.name, window.innerWidth > 1000?30:17) }\r\n\t\t\t\t\t\t\t<span style={{ marginLeft: '10px', fontWeight: '500' }}>\r\n\t\t\t\t\t\t\t\t{showAdditionalInfoIfShould()}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!isMobile?<div className=\"songItemAuthor\">{displayAuthors(song.authors)}</div>:<div className=\"songItemAuthor\">{displayAuthorsStr(song.authors, ' & ', 30)}</div>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"songItemMoreBtn\" onClick={openSongItemMoreWindow}>\r\n\t\t\t\t\t{addOrDeleteButton()}\r\n\t\t\t\t\t<button>\r\n\t\t\t\t\t\t<Hint text = {\"more\"}/>\r\n\t\t\t\t\t\t<FiMoreVertical />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{openMoreWindow ?\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\t<div className=\"songItemMenuWindow\" style={moreWindowPosRelativeToViewport > (window.innerHeight / 2) + 100 ? { top: 'auto', bottom: '110%' } : { top: '110%', bottom: 'auto' }} onClick={e => e.stopPropagation()}>\r\n\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\"><AddOrDeleteButtonFull song = {song}/></div>\r\n\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\">\r\n\t\t\t\t\t\t\t\t<div className=\"songItemMenuWindow inner\">\r\n\t\t\t\t\t\t\t\t\t<AddToPlaylists song = {song}/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<MdPlaylistAdd />Add to playlist <MdKeyboardArrowRight />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\" onClick={() => { toggleModal(); setContent(<FriendsListToShareWith item={song} whatToShare={\"song\"} />) }}>\r\n\t\t\t\t\t\t\t\t<FiShare />Share\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\" onClick={() => { toggleModal(); setContent(<SongInfo song={song} />) }}><FiInfo />Info</div>\r\n\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\"><FiFlag />Flag</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) :\r\n\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\r\n\t\t\t</div >\r\n\t\t</>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const MoreBtn = ({func, lenOfList, maxLen = 5, boolVal}) => {\r\n\treturn (\r\n\t\t<div onClick = {lenOfList > maxLen?func:null} className = \"MoreBtn\" style = {lenOfList <= maxLen?{display:'none'}:{}}>\r\n\t\t\t<button style = {boolVal?{background:'var(--pink)', color:'#ff8db2'}:{}}>\r\n\t\t\t\t{boolVal?\"Close\":\"More\"}\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { MoreBtn } from './MoreBtn'\r\n\r\nexport const TitleWithMoreBtn = ({title, func, boolVal, lenOfList, maxLen = 5, marginBottom = 0}) => {\r\n\treturn lenOfList !== 0?(\r\n\t\t<div className=\"topTitle\" style = {{margin:'10px 0'}}>\r\n\t\t\t<h2 style = {{margin:marginBottom}}>{title}</h2>\r\n\t\t\t<MoreBtn func={func} boolVal={boolVal} lenOfList={lenOfList} maxLen = {maxLen}/>\r\n\t\t</div>\r\n\t):null\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { displayAuthorsStr } from '../../functions/displayAuthorsStr'\r\nimport { SongItem } from '../FullScreenPlayer/SongItem'\r\nimport { SearchBar } from './SearchBar'\r\nimport { TitleWithMoreBtn } from './TitleWithMoreBtn'\r\n\r\nexport const SongList = ({ listOfSongs, source, title = \"\", showListens = false, isNewSong = false, showCount = false, listOfChosenSongs, setListOfSongs, showSearch = false, displayIfEmpty }) => {\r\n\tconst { setCurrentSongQueue, setCurrentSongPlaylistSource } = useSong()\r\n\tconst { currentUser } = useAuth()\r\n\tconst [showMoreSongs, setShowMoreSongs] = useState(false)\r\n\tconst [searchValue, setSearchValue] = useState(\"\")\r\n\tconst [displaySongs, setDisplaySongs] = useState(listOfSongs)\r\n\tuseEffect(() => {\r\n\t\tsetDisplaySongs(listOfSongs)\r\n\t\tif(listOfSongs.length > 1) displayAuthorsStr(listOfSongs[1].authors)\r\n\t}, [listOfSongs])\r\n\t\r\n\tfunction setQueueInSongList() {\r\n\t\tif(source !== 'no' && listOfSongs.length !== 0){\r\n\t\t\tsetCurrentSongQueue(listOfSongs)\r\n\t\t\tsetCurrentSongPlaylistSource(source)\r\n\t\t\tconst listSongsIds = listOfSongs.map(song => song.id)\r\n\t\t\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\t\t\tlastQueue: {\r\n\t\t\t\t\timage: source.image,\r\n\t\t\t\t\tname: source.name,\r\n\t\t\t\t\tsongsList: listSongsIds,\r\n\t\t\t\t\tsource: source.source\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\treturn (\r\n\t\t<div className=\"SongList\" onClick={setQueueInSongList}>\r\n\t\t\t{title.length !== 0 ? <TitleWithMoreBtn title={title} func={() => setShowMoreSongs(!showMoreSongs)} boolVal={showMoreSongs} lenOfList={listOfSongs.length} /> : null}\r\n\t\t\t{showSearch?<SearchBar value = {searchValue} setValue = {setSearchValue} allFoundSongs = {displaySongs} setAllFoundSongs = {setDisplaySongs} defaultSearchMode = {\"songs\"} defaultSongsListValue = {listOfSongs} inputText = {\"Search for songs\"}/>:null}\r\n\t\t\t{displaySongs.map((song, index) => {\r\n\t\t\t\tif (title.length !== 0) {\r\n\t\t\t\t\tif (showMoreSongs) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<span className=\"topSongItem\">\r\n\t\t\t\t\t\t\t\t{showCount ? <h3 style = {{opacity:'0.7'}}>{index + 1}</h3> : null}\r\n\t\t\t\t\t\t\t\t<SongItem song={song} key = {song.id} localIndex={index} showListens={showListens} isNewSong={isNewSong} listOfChosenSongs = {listOfChosenSongs} setListOfSongs = {setListOfSongs}/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (index < 5) {\r\n\t\t\t\t\t\t\treturn <span className=\"topSongItem\">\r\n\t\t\t\t\t\t\t\t{showCount ? <h3 style = {{opacity:'0.7'}}>{index + 1}</h3> : null}\r\n\t\t\t\t\t\t\t\t<SongItem song={song} key = {song.id} localIndex={index} showListens={showListens} isNewSong={isNewSong} listOfChosenSongs = {listOfChosenSongs} setListOfSongs = {setListOfSongs}/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<span className=\"topSongItem\">\r\n\t\t\t\t\t\t\t{showCount ? <h3 style = {{opacity:'0.7'}}>{index + 1}</h3> : null}\r\n\t\t\t\t\t\t\t<SongItem song={song} key = {song.id} localIndex={index} showListens={showListens} isNewSong={isNewSong} listOfChosenSongs = {listOfChosenSongs} setListOfSongs = {setListOfSongs}/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})}\r\n\t\t\t{listOfSongs.length === 0?displayIfEmpty:null}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { AiOutlineCloudDownload } from 'react-icons/ai'\r\nimport { FiXCircle } from 'react-icons/fi'\r\nimport { firestore, storage } from '../../firebase'\r\nimport getUID from '../../functions/getUID'\r\nimport { PersonTiny } from '../Basic/PersonTiny'\r\nimport { RadioBtn } from '../SignIn-Up/RadioBtn'\r\nimport { SongItemChoice } from '../Basic/SongItemChoice'\r\nimport { LoadingCircle } from '../Basic/LoadingCircle'\r\nimport { ColorExtractor } from 'react-color-extractor'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { SongList } from '../Basic/SongList'\r\nexport const CustomizeAlbum = ({ playlist }) => {\r\n\tconst { currentUser } = useAuth()\r\n\tconst [playlistName, setPlaylistName] = useState(playlist.name)\r\n\tconst [playlistCover, setPlaylistCover] = useState(playlist.image)\r\n\tconst [authorsInputValue, setAuthorsInputValue] = useState('')\r\n\tconst [allAuthors, setAllAuthors] = useState([])\r\n\tconst [chosenAuthors, setChosenAuthors] = useState(playlist.authors)\r\n\tconst [releaseDate, setReleaseDate] = useState(playlist.creationDate)\r\n\tconst [songsSearch, setSongsSearch] = useState(\"\")\r\n\tconst [allSongs, setAllSongs] = useState([])\r\n\tconst [chosenSongs, setChosenSongs] = useState(playlist.songs)\r\n\tconst [playlistStatus, setPlaylistStatus] = useState(playlist.isAlbum?1:0)\r\n\tconst [isPlaylistPrivate, setIsPlaylistPrivate] = useState(playlist.isPrivate ? 1 : 0)\r\n\tconst [loadingAuthors, setLoadingAuthors] = useState(false)\r\n\tconst [loadingSongs, setLoadingSongs] = useState(false)\r\n\tconst [imageLocalPath, setImageLocalPath] = useState('')\r\n\tconst [imageColors, setImageColors] = useState(playlist.imageColors)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (songsSearch.length === 0) {\r\n\t\t\tplaylist.songs.map(async songId => {\r\n\t\t\t\tconsole.log(songId)\r\n\t\t\t\tconst songData = (await firestore.collection('songs').doc(songId).get()).data()\r\n\t\t\t\tsetLoadingSongs(false)\r\n\t\t\t\tconsole.log(songData)\r\n\t\t\t\tsetAllSongs(prev => [...prev, songData])\r\n\t\t\t})\r\n\t\t}\r\n\t}, [songsSearch])\r\n\tlet typingTimeout\r\n\tasync function findAuthors(e) {\r\n\r\n\t\tsetLoadingAuthors(true)\r\n\t\tsetAllAuthors([])\r\n\t\tconst friendsIds = currentUser.friends.map(friend => { if (friend.status === 'added') return friend.uid })\r\n\t\tconst response = currentUser.isAdmin ?\r\n\t\t\tfirestore.collection(\"users\").where(\"displayName\", \"==\", authorsInputValue) :\r\n\t\t\tfirestore.collection(\"users\").where(\"uid\", \"in\", friendsIds).where(\"displayName\", \"==\", authorsInputValue)\r\n\t\tconst data = await response.get();\r\n\t\tif (data !== undefined) {\r\n\t\t\tdata.docs.forEach(item => {\r\n\t\t\t\tsetAllAuthors([...allAuthors, item.data()])\r\n\t\t\t})\r\n\t\t\tsetLoadingAuthors(false)\r\n\t\t}\r\n\t}\r\n\r\n\tasync function findSongs(e) {\r\n\t\tsetLoadingSongs(true)\r\n\t\tsetAllSongs([])\r\n\t\tconst response = firestore.collection(\"songs\")\r\n\t\t\t.where(\"name\", \"==\", songsSearch)\r\n\t\tconst data = await response.get();\r\n\t\tdata.docs.forEach(item => {\r\n\t\t\tsetAllSongs([...allAuthors, item.data()])\r\n\t\t})\r\n\t\tsetLoadingSongs(false)\r\n\t}\r\n\r\n\tfunction removeAuthorFromList(data) {\r\n\t\tconst filtered = chosenAuthors.filter(people => people.uid !== data.uid)\r\n\t\treturn setChosenAuthors(filtered)\r\n\t}\r\n\r\n\r\n\tfunction removeSongFromList(data) {\r\n\t\tconst filtered = chosenSongs.filter(song => song !== data)\r\n\t\treturn setChosenSongs(filtered)\r\n\t}\r\n\r\n\tfunction addAuthor(data) {\r\n\t\tif (!chosenAuthors.some(person => person.uid === data.uid)) {\r\n\t\t\treturn setChosenAuthors(prev => [...prev, {\r\n\t\t\t\tuid: data.uid,\r\n\t\t\t\tdisplayName: data.displayName,\r\n\t\t\t\tphotoURL: data.photoURL\r\n\t\t\t}])\r\n\t\t}\r\n\r\n\t\tremoveAuthorFromList(data)\r\n\t}\r\n\r\n\tasync function onFileChange(e, place, setFunc) {\r\n\t\tconst file = e.target.files[0]\r\n\t\tsetImageLocalPath(URL.createObjectURL(file))\r\n\t\tconst storageRef = storage.ref()\r\n\t\tconst fileRef = storageRef.child(place + file.name)\r\n\t\tawait fileRef.put(file)\r\n\t\tsetFunc(await fileRef.getDownloadURL())\r\n\t}\r\n\r\n\tasync function addPlaylistToFirebase(e) {\r\n\t\te.preventDefault()\r\n\t\tconst uid = getUID()\r\n\t\tif (chosenAuthors.length > playlist.authors.length) {\r\n\t\t\tconst newAuthors = chosenAuthors.filter(author => { return !playlist.authors.find(a => a.uid === author.uid) })\r\n\t\t\tnewAuthors.forEach(async author => {\r\n\t\t\t\tconst authorRef = await firestore.collection('users').doc(author.uid).get()\r\n\t\t\t\tconst authorData = authorRef.data()\r\n\t\t\t\tconst authorPlaylists = authorData.ownPlaylists\r\n\t\t\t\tauthorPlaylists.push(playlist.id)\r\n\t\t\t\tconsole.log(authorPlaylists)\r\n\t\t\t\tfirestore.collection('users').doc(author.uid).update({\r\n\t\t\t\t\townPlaylists: authorPlaylists\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t\telse if(chosenAuthors.length < playlist.authors.length){\r\n\t\t\tconst newAuthors = playlist.authors.filter(author => { return !chosenAuthors.find(a => a.uid === author.uid) })\r\n\t\t\tnewAuthors.forEach(async author => {\r\n\t\t\t\tconst authorRef = await firestore.collection('users').doc(author.uid).get()\r\n\t\t\t\tconst authorData = authorRef.data()\r\n\t\t\t\tconst authorPlaylists = authorData.ownPlaylists\r\n\t\t\t\tconst filteredPlaylists = authorPlaylists.filter(playlistId => playlistId !== playlist.id)\r\n\t\t\t\tconsole.log(filteredPlaylists)\r\n\t\t\t\tfirestore.collection('users').doc(author.uid).update({\r\n\t\t\t\t\townPlaylists: filteredPlaylists\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tfirestore.collection('playlists').doc(playlist.id).update(\r\n\t\t\t{\r\n\t\t\t\tid: playlist.id,\r\n\t\t\t\tname: playlistName,\r\n\t\t\t\tsongs: chosenSongs,\r\n\t\t\t\tauthors: chosenAuthors,\r\n\t\t\t\timage: playlistCover,\r\n\t\t\t\tlistens: playlist.listens,\r\n\t\t\t\tcreationDate: releaseDate, \r\n\t\t\t\tsubscribers:playlist.subscribers,\r\n\t\t\t\tisAlbum:playlistStatus === 1,\r\n\t\t\t\timageColors:imageColors,\r\n\t\t\t\tisPrivate:isPlaylistPrivate == true\r\n\t\t\t}\r\n\t\t).then(() => {\r\n\t\t\tsetAllAuthors([])\r\n\t\t\tsetAuthorsInputValue(\"\")\r\n\t\t\tsetChosenAuthors([])\r\n\t\t\tsetPlaylistCover('')\r\n\t\t\tsetPlaylistName('')\r\n\t\t\tsetReleaseDate('')\r\n\t\t\tsetSongsSearch('')\r\n\t\t\tsetChosenSongs([])\r\n\t\t\tsetIsPlaylistPrivate(0)\r\n\t\t}).catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t})\r\n\r\n\r\n\r\n\t}\r\n\r\n\tfunction timerUpFunc(func) {\r\n\t\tclearTimeout(typingTimeout)\r\n\t\ttypingTimeout = setTimeout(func, 1000)\r\n\t}\r\n\t// console.log([5, 4, 2, 1])\r\n\treturn (\r\n\t\t<div className=\"AddSong\">\r\n\t\t\t<ColorExtractor src={imageLocalPath} getColors={(colors) => setImageColors(colors)} />\r\n\t\t\t<form>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<h3>Playlist name</h3>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter playlist name\" value={playlistName} onChange={(e) => setPlaylistName(e.target.value)} required />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<h3>Playlist authors</h3>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter author name\" value={authorsInputValue} onChange={(e) => setAuthorsInputValue(e.target.value)} style={{ marginBottom: '5px' }} onKeyUp={() => timerUpFunc(findAuthors)} onKeyDown={() => { return clearTimeout(typingTimeout) }} />\r\n\t\t\t\t\t<div className=\"chosenAuthorsList\">\r\n\t\t\t\t\t\t{chosenAuthors.map((author) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"chosenAuthorItem\">\r\n\t\t\t\t\t\t\t\t\t<span>{author.displayName}</span>\r\n\t\t\t\t\t\t\t\t\t<FiXCircle onClick={() => author.uid === currentUser.uid ? null : removeAuthorFromList(author)} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"authorsResult\">\r\n\t\t\t\t\t\t{loadingAuthors ?\r\n\t\t\t\t\t\t\t<div style={{ position: 'relative', width: '100%', height: '50px' }}>\r\n\t\t\t\t\t\t\t\t<LoadingCircle />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\tallAuthors.map((data, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<PersonTiny data={data} onClick={() => addAuthor(data)} style={chosenAuthors.includes(data.uid) ? { background: 'var(--green)' } : {}} key={index} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<h3>Search for songs</h3>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Search for songs\" value={songsSearch} onChange={(e) => setSongsSearch(e.target.value)} onKeyDown={findSongs} onKeyUp={() => timerUpFunc(findSongs)} onKeyDown={() => { return clearTimeout(typingTimeout) }} style={{ marginBottom: '5px' }} />\r\n\t\t\t\t\t<div className=\"chosenAuthorsList\">\r\n\t\t\t\t\t\t{chosenSongs.map((songId) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"chosenAuthorItem\">\r\n\t\t\t\t\t\t\t\t\t<span>{songId}</span>\r\n\t\t\t\t\t\t\t\t\t<FiXCircle onClick={() => removeSongFromList(songId)} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"authorsResult\">\r\n\t\t\t\t\t\t{loadingSongs ?\r\n\t\t\t\t\t\t\t<div style={{ position: 'relative', width: '100%', height: '50px' }}>\r\n\t\t\t\t\t\t\t\t<LoadingCircle />\r\n\t\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t\t<SongList listOfSongs={allSongs} source={'no'} listOfChosenSongs={chosenSongs} setListOfSongs={setChosenSongs} />\r\n\t\t\t\t\t\t\t// allSongs.map((data, index) => {\r\n\t\t\t\t\t\t\t// return (\r\n\t\t\t\t\t\t\t// \t<SongItemChoice song={data} listOfSongs={chosenSongs} setListOfSongs={setChosenSongs} />\r\n\t\t\t\t\t\t\t// )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tcurrentUser.isAdmin || currentUser.isAuthor ? <div style={{ display: 'flex', justifyContent: 'flex-start', margin: '15px 0' }}>\r\n\t\t\t\t\t\t<RadioBtn label=\"Playlist\" onClick={() => setPlaylistStatus(0)} currentActive={playlistStatus} id={0} />\r\n\t\t\t\t\t\t<RadioBtn label=\"Album\" onClick={() => setPlaylistStatus(1)} currentActive={playlistStatus} id={1} />\r\n\t\t\t\t\t</div> :\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-start', margin: '15px 0' }}>\r\n\t\t\t\t\t<RadioBtn label=\"Not Private\" onClick={() => setIsPlaylistPrivate(0)} currentActive={isPlaylistPrivate} id={0} />\r\n\t\t\t\t\t<RadioBtn label=\"Private\" onClick={() => setIsPlaylistPrivate(1)} currentActive={isPlaylistPrivate} id={1} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tcurrentUser.isAdmin || currentUser.isAuthor ?\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<h3>Release Date</h3>\r\n\t\t\t\t\t\t\t<input type=\"date\" name=\"\" id=\"\" value={releaseDate} onChange={(e) => setReleaseDate(e.target.value)} />\r\n\t\t\t\t\t\t</label> : null\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<label className=\"downloadFile\">\r\n\t\t\t\t\t<div className=\"downloadPhoto\">\r\n\t\t\t\t\t\t<span className=\"downloadBtnText\">\r\n\t\t\t\t\t\t\t<AiOutlineCloudDownload />\r\n\t\t\t\t\t\t\tDownload playlist cover\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"photoLoadLine\" style={playlistCover !== '' ? { width: '100%' } : {}}></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input type=\"file\" name=\"\" id=\"\" onChange={(e) => onFileChange(e, 'songsImages/', setPlaylistCover)} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<button type=\"button\" className=\"addSongBtn\" onClick={addPlaylistToFirebase}>Update playlist</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { firestore } from \"../firebase\"\r\n\r\nexport const addAuthorToLibrary = async (authorData , currentUser) => {\r\n\tconst addedAuthors = (await firestore.collection('users').doc(currentUser.uid).get()).data().addedAuthors\r\n\taddedAuthors.push(authorData.uid)\r\n\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\taddedAuthors: addedAuthors\r\n\t})\r\n\tlet subscribers = authorData.subscribers\r\n\tsubscribers++\r\n\tfirestore.collection('users').doc(authorData.uid).update({\r\n\t\tsubscribers: subscribers\r\n\t})\r\n}","import { firestore } from \"../firebase\"\r\n\r\nexport default function addFriend(friendData, currentUser){\r\n\tconst updatedDataForFriend = friendData.friends\r\n\tconst updatedDataForCurrentUser = currentUser.friends\r\n\tupdatedDataForFriend.push({status:'requested', uid:currentUser.uid})\r\n\tupdatedDataForCurrentUser.push({status:'awaiting', uid:friendData.uid})\r\n\r\n\tfirestore.collection('users').doc(friendData.uid).update({\r\n\t\tfriends:updatedDataForFriend\r\n\t})\r\n\r\n\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\tfriends:updatedDataForCurrentUser\r\n\t})\r\n\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { firestore } from '../../firebase'\r\nimport displayDate from '../../functions/displayDate'\r\n\r\nexport const LastSeen = ({userUID}) => {\r\n\tconst [lastSeen, setLastSeen] = useState(\"\")\r\n\tconst [isOnline, setIsOnline] = useState(false)\r\n\tuseEffect(() => {\r\n\t\tconst unsubscribe = firestore.collection('users').doc(userUID)\r\n\t\t.onSnapshot(doc => {\r\n\t\t\tif(userUID !== undefined){\r\n\t\t\t\tconst fiveMinutesAgo = new Date().getTime() - 300000\r\n\t\t\t\tconst isOnline = doc.data().online > fiveMinutesAgo\r\n\t\t\t\tsetIsOnline(isOnline)\r\n\t\t\t\tif(doc.data().online === undefined) setLastSeen(\"offline\")\r\n\t\t\t\telse if(!isOnline) setLastSeen(\"last seen \" + displayDate(doc.data().online, 3))\r\n\t\t\t}\r\n\t\t })\r\n\t\treturn () => {\r\n\t\t\tunsubscribe()\r\n\t\t}\r\n\t}, [firestore, userUID])\r\n\treturn (\r\n\t\tisOnline?<span>Online</span>:<span>{lastSeen}</span>\r\n\t)\r\n}\r\n","import { firestore } from \"../firebase\"\r\n\r\nexport const  addPlaylistToLibrary = async(playlistData, currentUser) => {\r\n\tconst addedPlaylists = (await firestore.collection('users').doc(currentUser.uid).get()).data().addedPlaylists\r\n\taddedPlaylists.push(playlistData.id)\r\n\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\taddedPlaylists: addedPlaylists\r\n\t})\r\n\r\n\tfirestore.collection('playlists').doc(playlistData.id).update({\r\n\t\tsubscribers:++playlistData.subscribers\r\n\t})\r\n}","import { firestore } from \"../firebase\"\r\n\r\nexport const removePlaylistFromLibrary = async (playlistData, currentUser) =>{\r\n\tconst filteredPlaylists = currentUser.addedPlaylists.filter(id=>id !== playlistData.id)\r\n\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\taddedPlaylists:filteredPlaylists\r\n\t})\r\n\tfirestore.collection('playlists').doc(playlistData.id).update({\r\n\t\tsubscribers:--playlistData.subscribers\r\n\t})\r\n}","import React from 'react'\r\nimport { useModal } from '../../functionality/ModalClass'\r\n\r\nexport const GeneralSettings = () => {\r\n\tconst {setContent} = useModal()\r\n\treturn (\r\n\t\t<div className = \"GeneralSettings\">\r\n\t\t\tSettings\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useState } from 'react'\r\nimport {FiMenu} from 'react-icons/fi'\r\nimport {IoIosArrowForward} from 'react-icons/io'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport \"../../styles/Settings.css\"\r\nimport { GeneralSettings } from './GeneralSettings'\r\nexport const SettingsList = () => {\r\n\tconst {setContent} = useModal()\r\n\tconst settingsList = [\r\n\t\t{\r\n\t\t\tid:0, \r\n\t\t\ttitle:'General',\r\n\t\t\ticon:<FiMenu/>,\r\n\t\t\tto:<GeneralSettings/>,\r\n\t\t\tcolor:'var(--red)'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:1, \r\n\t\t\ttitle:'General',\r\n\t\t\ticon:<FiMenu/>,\r\n\t\t\tto:<h2>Test</h2>,\r\n\t\t\tcolor:'var(--lightBlue)'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:2, \r\n\t\t\ttitle:'General',\r\n\t\t\ticon:<FiMenu/>,\r\n\t\t\tto:<h2>Test</h2>,\r\n\t\t\tcolor:'var(--green)'\r\n\t\t}\r\n\t]\r\n\treturn (\r\n\t\t<div className = \"SettingsList\">\r\n\t\t\t{settingsList.map(settingItem=>{\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<button className = \"SettingItem\" style = {{color:settingItem.color}} key = {settingItem.id} onClick = {()=>setContent(settingItem.to)}>\r\n\t\t\t\t\t\t<div className = \"settingItemIconAndTitle\">\r\n\t\t\t\t\t\t\t{settingItem.icon}\r\n\t\t\t\t\t\t\t<h3>{settingItem.title}</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<IoIosArrowForward/>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FiEdit2, FiFlag, FiHeadphones, FiInfo, FiMoreVertical, FiPlusCircle, FiSettings, FiShare, FiTrash, FiUserCheck, FiUserPlus } from 'react-icons/fi'\r\nimport { ImCheckmark } from 'react-icons/im'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport displayDate from '../../functions/displayDate'\r\nimport { BackBtn } from '../Basic/BackBtn'\r\nimport { SmallImages } from './SmallImages'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { IoMdExit } from 'react-icons/io'\r\nimport { firestore } from '../../firebase'\r\nimport rightFormanForBigNumber from '../../functions/rightFormatForBigNumber'\r\nimport { CgCheckO, CgLock } from 'react-icons/cg'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport { useOutsideClick } from '../../hooks/useOutsideClick'\r\nimport { ChatWithFriendButton } from './ChatWithFriendButton'\r\nimport { LoadingCircle } from '../Basic/LoadingCircle'\r\nimport { AiOutlineLoading3Quarters } from 'react-icons/ai'\r\nimport { BiLoaderAlt } from 'react-icons/bi'\r\nimport { FriendsListToShareWith } from '../Basic/FriendsListToShareWith'\r\nimport { CustomizeAlbum } from '../AlbumPage/CustomizeAlbum'\r\nimport { addAuthorToLibrary } from '../../functions/addAuthorToLibrary'\r\nimport addFriend from '../../functions/addFriend'\r\nimport { LastSongListened } from './LastSongListened'\r\nimport { LastSeen } from '../Basic/LastSeen'\r\nimport { addPlaylistToLibrary } from '../../functions/addPlaylistToLibrary'\r\nimport { removePlaylistFromLibrary } from '../../functions/removePlaylistFromLibrary'\r\nimport { SettingsList } from '../Settings/SettingsList'\r\nimport {Hint} from '../Basic/Hint'\r\nexport const Header = ({ data, headerColors }) => {\r\n\tconst { displayAuthors, setYourPlaylists } = useSong()\r\n\tconst [albumAuthors, setAlbumAuthors] = useState([])\r\n\tconst [authorsImages, setAuthorsImages] = useState([])\r\n\tconst { currentUser, logout } = useAuth()\r\n\tconst [openMoreWindow, setOpenMoreWindow] = useState(false)\r\n\tconst { toggleModal, setContent } = useModal()\r\n\tconst isFriend = currentUser.friends.find(friend => (friend.uid === data.uid && friend.status === 'added'))\r\n\tconst moreWindowRef = useRef(null)\r\n\tuseOutsideClick(moreWindowRef, setOpenMoreWindow)\r\n\tasync function fetchAuthorsData() {\r\n\t\tif (data.authors !== undefined && !albumAuthors.length) {\r\n\t\t\tconst ids = data.authors.map(author => author.uid)\r\n\t\t\tconst response = firestore.collection(\"users\").where(\"uid\", \"in\", ids)\r\n\t\t\tconst authrorsData = await response.get();\r\n\t\t\tauthrorsData.docs.forEach((a) => {\r\n\t\t\t\tconsole.log(a.data())\r\n\t\t\t\tsetAlbumAuthors(prev => [...prev, a.data()])\r\n\t\t\t\tsetAuthorsImages(prev => [...prev, a.data().photoURL])\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tfetchAuthorsData()\r\n\t}, [data])\r\n\r\n\tfunction displayCreationDateIfExists() {\r\n\t\treturn data.creationDate !== undefined ?\r\n\t\t\t<div className=\"headerListenersAndSubsItem\">\r\n\t\t\t\t<span>{displayDate(data.creationDate)}</span>\r\n\t\t\t</div> :\r\n\t\t\tnull\r\n\t}\r\n\r\n\tfunction isAlbumOrIsAuthor() {\r\n\t\treturn data.authors !== undefined ? data.isAlbum ? <h5>Album</h5> : <h5>Playlist</h5> : data.isAuthor ? <h5>Author</h5> : <h5>User {data.authors === undefined && isFriend ? <LastSeen userUID={data.uid} /> : null}</h5>\r\n\t}\r\n\r\n\tfunction showCreatorsIfExist() {\r\n\t\treturn data.authors !== undefined ?\r\n\t\t\t<div className=\"headerAuthorsImagesAndNames\">\r\n\t\t\t\t<SmallImages imagesList={authorsImages} borderColor={headerColors[2]} />\r\n\t\t\t\t<div className=\"headerAuthors\">{displayAuthors(albumAuthors, \", \")}</div>\r\n\t\t\t</div> :\r\n\t\t\tnull\r\n\t}\r\n\r\n\tfunction findIfIsVerified() {\r\n\t\treturn data.isVerified ? <ImCheckmark style={{ color: headerColors[0] }} /> : null\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\tfunction deleteFriend() {\r\n\r\n\t}\r\n\r\n\tfunction whatButtonToRender() {\r\n\t\tif (data.authors) {\r\n\t\t\tif (currentUser.ownPlaylists.includes(data.id)) return <button><Hint text = {\"delete playlist\"} direction = {\"bottom\"}/><FiTrash /></button>\r\n\t\t\telse if (currentUser.addedPlaylists.includes(data.id)) return <button onClick={() => removePlaylistFromLibrary(data, currentUser)}><Hint text = {\"remove playlist from library\"} direction = {\"bottom\"}/><CgCheckO /></button>\r\n\t\t\telse return <button onClick={() => addPlaylistToLibrary(data, currentUser)}><Hint text = {\"add playlist\"} direction = {\"bottom\"}/><FiPlusCircle /></button>\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (currentUser.addedAuthors.includes(data.uid)) return <button><Hint text = {\"remove author from library\"} direction = {\"bottom\"}/><CgCheckO /></button>\r\n\t\t\telse if (currentUser.uid === data.uid) return <button onClick={() => { toggleModal(); setContent(<SettingsList />) }}><Hint text = {\"settings\"} direction = {\"bottom\"}/><FiSettings /></button>\r\n\t\t\telse if (!data.isAuthor && currentUser.friends.find(friend => friend.uid === data.uid && friend.status === 'added')) return <button onClick={deleteFriend}><FiUserCheck /></button>\r\n\t\t\telse if (!data.isAuthor && currentUser.friends.find(friend => ((friend.uid === data.uid) && (friend.status === 'awaiting')))) return <button onClick={addFriend}><BiLoaderAlt style={{ animation: 'loading 1s infinite linear' }} /></button>\r\n\t\t\telse if (!data.isAuthor) return <button onClick={() => addFriend(data, currentUser)}><FiUserPlus /></button>\r\n\t\t\telse return <button onClick={() => addAuthorToLibrary(data, currentUser)}><FiPlusCircle /></button>\r\n\t\t}\r\n\t}\r\n\r\n\tfunction findIfIsPrivate() {\r\n\t\treturn data.isPrivate ? <CgLock /> : null\r\n\t}\r\n\r\n\tfunction editButton() {\r\n\t\treturn (data.authors && data.authors.find(person => person.uid === currentUser.uid)) || (data.authors && currentUser.isAdmin) ? <button onClick={() => { toggleModal(); setContent(<CustomizeAlbum playlist={data} />) }} className=\"customizeAlbumBtn\"><FiEdit2 /></button> : null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"Header\" style={headerColors.length ? { background: `linear-gradient(45deg, ${headerColors[2]}, ${headerColors[0]})` } : { background: 'var(--yellowAndPinkGrad)' }}>\r\n\t\t\t<div className=\"headerBtns\" style={{ background: headerColors[2] }}>\r\n\t\t\t\t<BackBtn />\r\n\t\t\t\t<div style = {{display:'flex'}}>\r\n\t\t\t\t\t<div className=\"headerBackBtn\">\r\n\t\t\t\t\t\t{whatButtonToRender()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"headerMoreBtn\" ref={moreWindowRef}>\r\n\t\t\t\t\t\t<button onClick={() => setOpenMoreWindow(!openMoreWindow)}>\r\n\t\t\t\t\t\t\t<Hint text = {\"more\"} direction = {\"bottom\"}/>\r\n\t\t\t\t\t\t\t<FiMoreVertical />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t{openMoreWindow ?\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t<div className=\"songItemMenuWindow\" style={{ top: '110%', bottom: 'auto' }} onClick={e => e.stopPropagation()} >\r\n\t\t\t\t\t\t\t\t\t{/* <div className=\"songItemMenuWindowItem\" onClick={addOrDeleteSongToLibrary}>{currentUser.addedSongs.includes(song.id) ? <span><FiTrash2 />Delete</span> : <span><FiPlusCircle />Add</span>}</div> */}\r\n\t\t\t\t\t\t\t\t\t{/* <div className=\"songItemMenuWindowItem\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"songItemMenuWindow inner\">\r\n\t\t\t\t\t\t\t\t\t\t\t{yourPlaylists.map((playlist, key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (currentUser.ownPlaylists.includes(playlist.id)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\" onClick={addOrDeleteSongToPlaylist} key={key} id={key}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{!yourPlaylists[key].songs.includes(song.id) ? <FiPlusCircle /> : <FiCheck />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{playlist.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<MdPlaylistAdd />Add to playlist <MdKeyboardArrowRight />\r\n\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\" onClick={() => { toggleModal(); setContent(<FriendsListToShareWith item={data} whatToShare={data.authors !== undefined ? 'playlist' : 'author'} />) }}>\r\n\t\t\t\t\t\t\t\t\t\t<FiShare />Share\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\" onClick={() => { toggleModal(); setContent(<h2>test</h2>) }}><FiInfo />Info</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"songItemMenuWindowItem\"><FiFlag />Flag</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) :\r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{\r\n\t\t\t\t\tcurrentUser.uid === data.uid ?\r\n\t\t\t\t\t\t<button onClick={logout} >\r\n\t\t\t\t\t\t\t<Hint text = {\"quit\"} direction = {\"bottom\"}/>\r\n\t\t\t\t\t\t\t<IoMdExit />\r\n\t\t\t\t\t\t</button> :\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"headerAuthorsImage\" style={data.authors === undefined ? { animation: \"floatingBorderRadius 10s infinite ease-in-out\" } : {}}>\r\n\t\t\t\t<img src={data.photoURL || data.image} alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"headerAuthorInfo\">\r\n\t\t\t\t<div className=\"headerAuthorsName\">\r\n\t\t\t\t\t{isAlbumOrIsAuthor()}\r\n\t\t\t\t\t<div style={{ display: 'flex', alignItems: 'center', margin: \"2px 0 10px 0\" }}>\r\n\t\t\t\t\t\t<h1>{data.displayName || data.name}</h1>\r\n\t\t\t\t\t\t{findIfIsVerified()}\r\n\t\t\t\t\t\t{findIfIsPrivate()}\r\n\t\t\t\t\t\t{editButton()}\r\n\t\t\t\t\t\t{/* <LastSongListened data = {data}/> */}\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{showCreatorsIfExist()}\r\n\t\t\t\t<div className=\"headerListenersAndSubs\">\r\n\t\t\t\t\t<div className=\"headerListenersAndSubsItem\" title={(data.listens ?? data.numberOfListenersPerMonth) + ' listeners per month'}>\r\n\t\t\t\t\t\t<span>{rightFormanForBigNumber(data.listens ?? data.numberOfListenersPerMonth)}</span>\r\n\t\t\t\t\t\t<FiHeadphones />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"headerListenersAndSubsItem\" title={data.subscribers + ' subscribers'}>\r\n\t\t\t\t\t\t<span>{rightFormanForBigNumber(data.subscribers)}</span>\r\n\t\t\t\t\t\t<FiUserPlus />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{displayCreationDateIfExists()}\r\n\t\t\t\t</div>\r\n\t\t\t\t{isFriend ? <ChatWithFriendButton data={data} color={headerColors[3]} /> : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useRouteMatch } from 'react-router'\r\nimport {Header} from '../components/AuthorPage/Header'\r\nimport { firestore } from '../firebase'\r\nimport { LoadingCircle } from '../components/Basic/LoadingCircle'\r\nimport { SongList } from '../components/Basic/SongList'\r\nexport const AlbumPage = () => {\r\n\tconst match = useRouteMatch('/albums/:albumId')\r\n\tconst [playlistSongs, setPlaylistSongs] = useState([])\r\n\tconst [headerColors, setHeaderColors] = useState([])\r\n\tconst { albumId } = match.params\r\n\tconst [albumData, setAlbumData] = useState([])\r\n\tconst [loading, setLoading] = useState(true)\r\n\tasync function fetchAlbumsData() {\r\n\t\tconst response = firestore.collection(\"playlists\").doc(albumId)\r\n\t\tresponse.get().then((doc) => {\r\n\t\t\tif (doc.exists) {\r\n\t\t\t\t setAlbumData(doc.data())\r\n\t\t\t\t setHeaderColors(doc.data().imageColors)\r\n\t\t\t} else {\r\n\t\t\t\t console.log(\"No such document!\");\r\n\t\t\t}\r\n\t  }).catch((error) => {\r\n\t\t\tconsole.log(\"Error getting document:\", error);\r\n\t  });\r\n\t}\r\n\r\n\tfunction fetchSongsInAlbum() {\r\n\t\tsetPlaylistSongs([])\r\n\t\tif(albumData.length !== 0){\r\n\t\t\talbumData.songs.map(async songId=>{\r\n\t\t\t\tlet albumSong = (await firestore.collection('songs').doc(songId).get()).data()\r\n\t\t\t\tsetPlaylistSongs(prev=>[...prev, albumSong])\r\n\t\t\t})\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchAlbumsData()\r\n\t}, [albumId])\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchSongsInAlbum()\r\n\t}, [albumData])\r\n\r\n\treturn (\r\n\t\t<div className = \"AlbumPage\" style = {{animation:'zoomIn .2s forwards'}}>\r\n\t\t\t{\r\n\t\t\t\tloading?<LoadingCircle top = {'50%'}/>:\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Header data = {albumData} headerColors = {headerColors} setHeaderColors = {setHeaderColors}/>\r\n\t\t\t\t\t<SongList listOfSongs = {playlistSongs} source = {{source:`/albums/${albumData.id}`,name:albumData.name, image:albumData.image, songsList:playlistSongs}} showSearch defaultSearchMode = {\"songs\"}/>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useState } from 'react'\r\nimport { AiOutlineCloudDownload } from 'react-icons/ai'\r\nimport { FiXCircle } from 'react-icons/fi'\r\nimport { firestore, storage } from '../../firebase'\r\nimport getUID from '../../functions/getUID'\r\nimport { PersonTiny } from '../Basic/PersonTiny'\r\nimport { RadioBtn } from '../SignIn-Up/RadioBtn'\r\nimport { SongItemChoice } from '../Basic/SongItemChoice'\r\nimport { LoadingCircle } from '../Basic/LoadingCircle'\r\nimport { ColorExtractor } from 'react-color-extractor'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nexport const AddPlaylist = () => {\r\n\tconst {currentUser} = useAuth()\r\n\tconst [playlistName, setPlaylistName] = useState(\"\")\r\n\tconst [playlistCover, setPlaylistCover] = useState(\"\")\r\n\tconst [authorsInputValue, setAuthorsInputValue] = useState('')\r\n\tconst [allAuthors, setAllAuthors] = useState([])\r\n\tconst [chosenAuthors, setChosenAuthors] = useState(!currentUser.isAdmin?[{uid:currentUser.uid, photoURL:currentUser.photoURL, displayName:currentUser.displayName}]:[])\r\n\tconst [releaseDate, setReleaseDate] = useState(currentUser.isAdmin?\"\":new Date().toString())\r\n\tconst [songsSearch, setSongsSearch] = useState(\"\")\r\n\tconst [allSongs, setAllSongs] = useState([])\r\n\tconst [chosenSongs, setChosenSongs] = useState([])\r\n\tconst [playlistStatus, setPlaylistStatus] = useState(0)\r\n\tconst [isPlaylistPrivate, setIsPlaylistPrivate] = useState(0)\r\n\tconst [loadingAuthors, setLoadingAuthors] = useState(false)\r\n\tconst [loadingSongs, setLoadingSongs] = useState(false)\r\n\tconst [imageLocalPath, setImageLocalPath] = useState('')\r\n\tconst [imageColors, setImageColors] = useState([])\r\n\tlet typingTimeout\r\n\tasync function findAuthors(e) {\r\n\t\t\r\n\t\tsetLoadingAuthors(true)\r\n\t\tsetAllAuthors([])\r\n\t\tconst friendsIds = currentUser.friends.map(friend=>{if(friend.status === 'added') return friend.uid})\r\n\t\tconst response = currentUser.isAdmin?\r\n\t\t\tfirestore.collection(\"users\").where(\"displayName\", \"==\", authorsInputValue):\r\n\t\t\tfirestore.collection(\"users\").where(\"uid\", \"in\", friendsIds).where(\"displayName\", \"==\", authorsInputValue)\r\n\t\tconst data = await response.get();\r\n\t\tif (data !== undefined) {\r\n\t\t\tdata.docs.forEach(item => {\r\n\t\t\t\tsetAllAuthors([...allAuthors, item.data()])\r\n\t\t\t})\r\n\t\t\tsetLoadingAuthors(false)\r\n\t\t}\r\n\t}\r\n\r\n\tasync function findSongs(e) {\r\n\t\tsetLoadingSongs(true)\r\n\t\tsetAllSongs([])\r\n\t\tconst response = firestore.collection(\"songs\")\r\n\t\t\t.where(\"name\", \"==\", songsSearch)\r\n\t\tconst data = await response.get();\r\n\t\tdata.docs.forEach(item => {\r\n\t\t\tsetAllSongs([...allAuthors, item.data()])\r\n\t\t})\r\n\t\tsetLoadingSongs(false)\r\n\t}\r\n\r\n\tfunction removeAuthorFromList(data) {\r\n\t\tconst filtered = chosenAuthors.filter(people => people.uid !== data.uid)\r\n\t\treturn setChosenAuthors(filtered)\r\n\t}\r\n\r\n\r\n\tfunction removeSongFromList(data) {\r\n\t\tconst filtered = chosenSongs.filter(song => song !== data)\r\n\t\treturn setChosenSongs(filtered)\r\n\t}\r\n\r\n\tfunction addAuthor(data) {\r\n\t\tif (!chosenAuthors.some(person => person.uid === data.uid)) {\r\n\t\t\treturn setChosenAuthors(prev => [...prev, {\r\n\t\t\t\tuid: data.uid,\r\n\t\t\t\tdisplayName: data.displayName,\r\n\t\t\t\tphotoURL: data.photoURL\r\n\t\t\t}])\r\n\t\t}\r\n\r\n\t\tremoveAuthorFromList(data)\r\n\t}\r\n\r\n\tasync function onFileChange(e, place, setFunc) {\r\n\t\tconst file = e.target.files[0]\r\n\t\tsetImageLocalPath(URL.createObjectURL(file))\r\n\t\tconst storageRef = storage.ref()\r\n\t\tconst fileRef = storageRef.child(place + file.name)\r\n\t\tawait fileRef.put(file)\r\n\t\tsetFunc(await fileRef.getDownloadURL())\r\n\t}\r\n\r\n\tasync function addPlaylistToFirebase(e) {\r\n\t\te.preventDefault()\r\n\t\tconst uid = getUID()\r\n\t\tfirestore.collection('playlists').doc(uid).set(\r\n\t\t\t{\r\n\t\t\t\tid: uid,\r\n\t\t\t\tname: playlistName,\r\n\t\t\t\tsongs: chosenSongs,\r\n\t\t\t\tauthors: chosenAuthors,\r\n\t\t\t\timage: playlistCover,\r\n\t\t\t\tlistens: 0,\r\n\t\t\t\tcreationDate: releaseDate, \r\n\t\t\t\tsubscribers:0,\r\n\t\t\t\tisAlbum:playlistStatus,\r\n\t\t\t\timageColors:imageColors,\r\n\t\t\t\tisPrivate:isPlaylistPrivate === true\r\n\t\t\t}\r\n\t\t).then(() => {\r\n\t\t\tsetAllAuthors([])\r\n\t\t\tsetAuthorsInputValue(\"\")\r\n\t\t\tsetChosenAuthors([])\r\n\t\t\tsetPlaylistCover('')\r\n\t\t\tsetPlaylistName('')\r\n\t\t\tsetReleaseDate('')\r\n\t\t\tsetSongsSearch('')\r\n\t\t\tsetChosenSongs([])\r\n\t\t\tsetIsPlaylistPrivate(0)\r\n\t\t}).catch(err => {\r\n\t\t\tconsole.log(err)\r\n\t\t})\r\n\r\n\r\n\t\tchosenAuthors.forEach(async author=>{\r\n\t\t\tconst authorRef = await firestore.collection('users').doc(author.uid).get()\r\n\t\t\tconst authorData = authorRef.data()\r\n\t\t\tconst authorPlaylists = authorData.ownPlaylists\r\n\t\t\tauthorPlaylists.push(uid)\r\n\t\t\tfirestore.collection('users').doc(author.uid).update({\r\n\t\t\t\townPlaylists:authorPlaylists\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tfunction timerUpFunc(func) {\r\n\t\tclearTimeout(typingTimeout)\r\n\t\ttypingTimeout = setTimeout(func, 1000)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"AddSong\">\r\n\t\t\t<ColorExtractor src = {imageLocalPath} getColors = {(colors)=>setImageColors(colors)}/>\r\n\t\t\t<form onSubmit={addPlaylistToFirebase}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<h3>Playlist name</h3>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter playlist name\" value={playlistName} onChange={(e) => setPlaylistName(e.target.value)} required />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<h3>Playlist authors</h3>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter author name\" value={authorsInputValue} onChange={(e) => setAuthorsInputValue(e.target.value)} style={{ marginBottom: '5px' }} onKeyUp={()=>timerUpFunc(findAuthors)} onKeyDown={() => { return clearTimeout(typingTimeout) }} />\r\n\t\t\t\t\t<div className=\"chosenAuthorsList\">\r\n\t\t\t\t\t\t{chosenAuthors.map((author) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"chosenAuthorItem\">\r\n\t\t\t\t\t\t\t\t\t<span>{author.displayName}</span>\r\n\t\t\t\t\t\t\t\t\t<FiXCircle onClick={() => author.uid === currentUser.uid?null:removeAuthorFromList(author)} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"authorsResult\">\r\n\t\t\t\t\t\t{loadingAuthors ?\r\n\t\t\t\t\t\t\t<div style={{ position: 'relative', width: '100%', height: '50px' }}>\r\n\t\t\t\t\t\t\t\t<LoadingCircle />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\tallAuthors.map((data, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<PersonTiny data={data} onClick={() => addAuthor(data)} style={chosenAuthors.includes(data.uid) ? { background: 'var(--green)' } : {}} key={index} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<h3>Search for songs</h3>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Search for songs\" value={songsSearch} onChange={(e) => setSongsSearch(e.target.value)} onKeyDown={findSongs} onKeyUp={() => timerUpFunc(findSongs)} onKeyDown={() => { return clearTimeout(typingTimeout) }} style={{ marginBottom: '5px' }} />\r\n\t\t\t\t\t<div className=\"chosenAuthorsList\">\r\n\t\t\t\t\t\t{chosenSongs.map((songId) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"chosenAuthorItem\">\r\n\t\t\t\t\t\t\t\t\t<span>{songId}</span>\r\n\t\t\t\t\t\t\t\t\t<FiXCircle onClick={() => removeSongFromList(songId)} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"authorsResult\">\r\n\t\t\t\t\t\t{loadingSongs ?\r\n\t\t\t\t\t\t\t<div style={{ position: 'relative', width: '100%', height: '50px' }}>\r\n\t\t\t\t\t\t\t\t<LoadingCircle />\r\n\t\t\t\t\t\t\t</div>:\r\n\t\t\t\t\t\t\tallSongs.map((data, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<SongItemChoice song={data} listOfSongs={chosenSongs} setListOfSongs={setChosenSongs} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tcurrentUser.isAdmin || currentUser.isAuthor? <div style={{ display: 'flex', justifyContent: 'flex-start', margin: '15px 0' }}>\r\n\t\t\t\t\t\t<RadioBtn label=\"Playlist\" onClick={() => setPlaylistStatus(0)} currentActive={playlistStatus} id={0} />\r\n\t\t\t\t\t\t<RadioBtn label=\"Album\" onClick={() => setPlaylistStatus(1)} currentActive={playlistStatus} id={1} />\r\n\t\t\t\t\t</div>:\r\n\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<div style={{ display: 'flex', justifyContent: 'flex-start', margin: '15px 0' }}>\r\n\t\t\t\t\t<RadioBtn label=\"Not Private\" onClick={() => setIsPlaylistPrivate(0)} currentActive={isPlaylistPrivate} id={0} />\r\n\t\t\t\t\t<RadioBtn label=\"Private\" onClick={() => setIsPlaylistPrivate(1)} currentActive={isPlaylistPrivate} id={1} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tcurrentUser.isAdmin || currentUser.isAuthor?\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<h3>Release Date</h3>\r\n\t\t\t\t\t\t<input type=\"date\" name=\"\" id=\"\" value={releaseDate} onChange={(e) => setReleaseDate(e.target.value)} />\r\n\t\t\t\t\t</label>:null\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<label className=\"downloadFile\">\r\n\t\t\t\t\t<div className=\"downloadPhoto\">\r\n\t\t\t\t\t\t<span className=\"downloadBtnText\">\r\n\t\t\t\t\t\t\t<AiOutlineCloudDownload />\r\n\t\t\t\t\t\t\tDownload playlist cover\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"photoLoadLine\" style={playlistCover !== '' ? { width: '100%' } : {}}></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input type=\"file\" name=\"\" id=\"\" onChange={(e) => onFileChange(e, 'songsImages/', setPlaylistCover)} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<button type=\"submit\" className=\"addSongBtn\">Add playlist</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport {AiOutlineCloudDownload} from 'react-icons/ai'\r\nimport { storage } from '../../firebase'\r\nexport const DownloadPhotoButton = ({setErrorMessage, setImageLocalPath, downloadedPhoto, setDownloadedPhoto, place, btnText = \"Download song cover\"}) => {\r\n\tasync function onFileChange(e, place, setFunc) {\r\n\t\tsetErrorMessage(\"\")\r\n\t\tconst file = e.target.files[0]\r\n\t\tlet isValid = false\r\n\t\tif (place === 'songsImages/' || place === 'chatCovers/') {\r\n\t\t\tconsole.log(\"image\")\r\n\t\t\tconst validExtensions = [\".jpg\", \".png\", \".jpeg\"]\r\n\t\t\tif (validExtensions.find((ext) => file.name.substr(file.name.length - ext.length, ext.length) === ext)) isValid = true\r\n\t\t\telse setErrorMessage(`Format of your file is not valid. Download file with one of these: ${validExtensions.map(ex => \" \" + ex)}`)\r\n\t\t}\r\n\t\telse if (place === \"songs/\") {\r\n\t\t\tconsole.log(\"song\")\r\n\t\t\tconst validExtensions = [\".mp3\", \".mp4a\", \".flac\", \".wav\", '.wma']\r\n\t\t\tif (validExtensions.find((ext) => file.name.substr(file.name.length - ext.length, ext.length) === ext)) isValid = true\r\n\t\t\telse setErrorMessage(`Format of your file is not valid. Download file with one of these: ${validExtensions.map(ex => ex)}`)\r\n\t\t}\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconsole.log(file)\r\n\t\t\tsetImageLocalPath(URL.createObjectURL(file))\r\n\t\t\tconst storageRef = storage.ref()\r\n\t\t\tconst fileRef = storageRef.child(place + file.name)\r\n\t\t\tawait fileRef.put(file)\r\n\t\t\tsetFunc(await fileRef.getDownloadURL())\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<label className=\"downloadFile\">\r\n\t\t\t<div className=\"downloadPhoto\">\r\n\t\t\t\t<span className=\"downloadBtnText\">\r\n\t\t\t\t\t<AiOutlineCloudDownload />\r\n\t\t\t\t\t{btnText}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className=\"photoLoadLine\" style={downloadedPhoto !== '' ? { width: '100%' } : {}}></span>\r\n\t\t\t</div>\r\n\t\t\t<input type=\"file\" name=\"\" id=\"\" onChange={(e) => onFileChange(e, place, setDownloadedPhoto)} />\r\n\t\t</label>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const ErrorPlate = ({errorMessage}) => {\r\n\treturn errorMessage && (\r\n\t\t<div className=\"Alert\">\r\n\t\t\t{errorMessage}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { ColorExtractor } from 'react-color-extractor'\r\nimport { AiOutlineCloudDownload } from 'react-icons/ai'\r\nimport { FiXCircle } from 'react-icons/fi'\r\nimport { firestore, storage } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport getUID from '../../functions/getUID'\r\nimport { DownloadPhotoButton } from '../Basic/DownloadPhotoButton'\r\nimport { ErrorPlate } from '../Basic/ErrorPlate'\r\nimport { LoadingCircle } from '../Basic/LoadingCircle'\r\nimport { PersonTiny } from '../Basic/PersonTiny'\r\n\r\nexport const AddSong = () => {\r\n\tconst { currentUser } = useAuth()\r\n\tconst [songName, setSongName] = useState(\"\")\r\n\tconst [songCover, setSongCover] = useState(\"\")\r\n\tconst [songSrc, setSongSrc] = useState(\"\")\r\n\tconst [authorsInputValue, setAuthorsInputValue] = useState('')\r\n\tconst [allAuthors, setAllAuthors] = useState([])\r\n\tconst [chosenAuthors, setChosenAuthors] = useState(!currentUser.isAdmin ? [{ uid: currentUser.uid, photoURL: currentUser.photoURL, displayName: currentUser.displayName }] : [])\r\n\tconst [releaseDate, setReleaseDate] = useState(\"\")\r\n\tconst [lyrics, setLyrics] = useState([])\r\n\tconst [imageLocalPath, setImageLocalPath] = useState(\"\")\r\n\tconst [imageColors, setImageColors] = useState([])\r\n\tconst [loadingAuthors, setLoadingAuthors] = useState(false)\r\n\tconst [lyricsObject, setLyricsObject] = useState([])\r\n\tconst [errorMessage, setErrorMessage] = useState(\"\")\r\n\tconst [showSuccessMessage, setShowSuccessMessage] = useState(false)\r\n\tlet typingTimeout\r\n\tasync function findAuthors(e) {\r\n\t\tsetLoadingAuthors(true)\r\n\t\tsetAllAuthors([])\r\n\t\tconst response = firestore.collection(\"users\")\r\n\t\t\t.where(\"displayName\", \"==\", authorsInputValue)\r\n\t\t// .where('isAuthor', '==', true)\r\n\t\tconst data = await response.get();\r\n\t\tif (data !== undefined) {\r\n\t\t\tdata.docs.forEach(item => {\r\n\t\t\t\tsetAllAuthors([...allAuthors, item.data()])\r\n\t\t\t})\r\n\t\t\tsetLoadingAuthors(false)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction removeAuthorFromList(data) {\r\n\t\tconst filtered = chosenAuthors.filter(people => people.uid !== data.uid)\r\n\t\treturn setChosenAuthors(filtered)\r\n\t}\r\n\r\n\tfunction addAuthor(data) {\r\n\t\tif (!chosenAuthors.some(person => person.uid === data.uid)) {\r\n\t\t\treturn setChosenAuthors(prev => [...prev, {\r\n\t\t\t\tuid: data.uid,\r\n\t\t\t\tdisplayName: data.displayName,\r\n\t\t\t\tphotoURL: data.photoURL\r\n\t\t\t}])\r\n\t\t}\r\n\r\n\t\tremoveAuthorFromList(data)\r\n\t}\r\n\r\n\tasync function onFileChange(e, place, setFunc) {\r\n\t\tsetErrorMessage(\"\")\r\n\t\tconst file = e.target.files[0]\r\n\t\tlet isValid = false\r\n\t\tif (place === 'songsImages/') {\r\n\t\t\tconsole.log(\"image\")\r\n\t\t\tconst validExtensions = [\".jpg\", \".png\", \".jpeg\"]\r\n\t\t\tif (validExtensions.find((ext) => file.name.substr(file.name.length - ext.length, ext.length) === ext)) isValid = true\r\n\t\t\telse setErrorMessage(`Format of your file is not valid. Download file with one of these: ${validExtensions.map(ex => \" \" + ex)}`)\r\n\t\t}\r\n\t\telse if (place === \"songs/\") {\r\n\t\t\tconsole.log(\"song\")\r\n\t\t\tconst validExtensions = [\".mp3\", \".mp4a\", \".flac\", \".wav\", '.wma']\r\n\t\t\tif (validExtensions.find((ext) => file.name.substr(file.name.length - ext.length, ext.length) === ext)) isValid = true\r\n\t\t\telse setErrorMessage(`Format of your file is not valid. Download file with one of these: ${validExtensions.map(ex => ex)}`)\r\n\t\t}\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconsole.log(file)\r\n\t\t\tsetImageLocalPath(URL.createObjectURL(file))\r\n\t\t\tconst storageRef = storage.ref()\r\n\t\t\tconst fileRef = storageRef.child(place + file.name)\r\n\t\t\tawait fileRef.put(file)\r\n\t\t\tsetFunc(await fileRef.getDownloadURL())\r\n\t\t}\r\n\t}\r\n\r\n\tfunction transformLyricsToArrayOfObjects(e) {\r\n\t\tconst arrayOfParagraphs = []\r\n\t\tlet startSubstr = 0\r\n\t\tfor (let i = 0; i < lyrics.length; i++) {\r\n\t\t\tif (lyrics[i] === '\\n' || lyrics[i + 1] === undefined) {\r\n\r\n\t\t\t\tarrayOfParagraphs.push({\r\n\t\t\t\t\tstartTime: 'undefined',\r\n\t\t\t\t\ttext: lyrics.substr(startSubstr, i - startSubstr)\r\n\t\t\t\t})\r\n\t\t\t\tstartSubstr = i + 1\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetLyricsObject(arrayOfParagraphs)\r\n\t}\r\n\r\n\tasync function addSongToFirebase(e) {\r\n\t\te.preventDefault()\r\n\t\tlet uid = getUID()\r\n\t\tconsole.log(lyricsObject)\r\n\t\tsetErrorMessage(\"\")\r\n\t\tif (songName.length === 0) setErrorMessage(\"Song has to have some name\")\r\n\t\telse if (chosenAuthors.length === 0) setErrorMessage('Song has to have at least 1 author')\r\n\t\telse if (songCover.length === 0) setErrorMessage('You didn\\'t load song cover')\r\n\t\telse if (songSrc.length === 0) setErrorMessage('You didn\\'t load song file')\r\n\t\telse if (releaseDate.length === 0) setErrorMessage('You have to set release date for a song')\r\n\t\telse {\r\n\t\t\tfirestore.collection('songs').doc(uid).set(\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uid,\r\n\t\t\t\t\tname: songName,\r\n\t\t\t\t\tsongSrc: songSrc,\r\n\t\t\t\t\tauthors: chosenAuthors,\r\n\t\t\t\t\tcover: songCover,\r\n\t\t\t\t\tlistens: 0,\r\n\t\t\t\t\treleaseDate: releaseDate,\r\n\t\t\t\t\tlyrics: lyricsObject,\r\n\t\t\t\t\timageColors: imageColors\r\n\t\t\t\t}\r\n\t\t\t).then(() => {\r\n\t\t\t\tsetAllAuthors([])\r\n\t\t\t\tsetAuthorsInputValue(\"\")\r\n\t\t\t\tsetChosenAuthors([])\r\n\t\t\t\tsetLyrics([])\r\n\t\t\t\tsetSongCover('')\r\n\t\t\t\tsetSongName('')\r\n\t\t\t\tsetSongSrc('')\r\n\t\t\t\tsetReleaseDate('')\r\n\t\t\t\tsetShowSuccessMessage(true)\r\n\t\t\t\tsetImageColors([])\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tsetErrorMessage(err)\r\n\t\t\t})\r\n\r\n\t\t\tchosenAuthors.forEach(async author => {\r\n\t\t\t\tconst authorRef = await firestore.collection('users').doc(author.uid).get()\r\n\t\t\t\tconst authorData = authorRef.data()\r\n\t\t\t\tconst authorSongs = authorData.ownSongs\r\n\t\t\t\tauthorSongs.push(uid)\r\n\t\t\t\tfirestore.collection('users').doc(author.uid).update({\r\n\t\t\t\t\townSongs: authorSongs\r\n\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(showSuccessMessage){\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tsetShowSuccessMessage(false)\r\n\t\t\t}, 2000)\r\n\t\t}\r\n\t}, [showSuccessMessage])\r\n\r\n\tfunction timerUpFunc(func) {\r\n\t\tclearTimeout(typingTimeout)\r\n\t\ttypingTimeout = setTimeout(func, 1000)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(imageColors)\r\n\t}, [imageColors])\r\n\r\n\tfunction manuallyChangeColor(e, i) {\r\n\t\t// const tempArr = imageColors; tempArr[i] = e.taget.value;\r\n\t\timageColors[i] = e.target.value\r\n\t\tsetImageColors([...imageColors])\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"AddSong\">\r\n\t\t\t<ColorExtractor src={imageLocalPath} getColors={(colors) => setImageColors(colors)} />\r\n\t\t\t<form onSubmit={addSongToFirebase}>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<h3>Song name</h3>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter song name\" value={songName} onChange={(e) => setSongName(e.target.value)} />\r\n\t\t\t\t</label>\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<h3>Song authors</h3>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter author name\" value={authorsInputValue} onChange={(e) => setAuthorsInputValue(e.target.value)} style={{ marginBottom: '5px' }} onKeyUp={() => timerUpFunc(findAuthors)} onKeyDown={() => { return clearTimeout(typingTimeout) }} />\r\n\t\t\t\t\t<div className=\"chosenAuthorsList\">\r\n\t\t\t\t\t\t{chosenAuthors.map((author) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"chosenAuthorItem\">\r\n\t\t\t\t\t\t\t\t\t<span>{author.displayName}</span>\r\n\t\t\t\t\t\t\t\t\t<FiXCircle onClick={() => { if (currentUser.isAdmin) removeAuthorFromList(author); else if (author.uid !== currentUser.uid) removeAuthorFromList(author); }} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"authorsResult\">\r\n\t\t\t\t\t\t{loadingAuthors ?\r\n\t\t\t\t\t\t\t<div style={{ position: 'relative', width: '100%', height: '50px' }}>\r\n\t\t\t\t\t\t\t\t<LoadingCircle />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\tallAuthors.map((data, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<PersonTiny data={data} onClick={() => addAuthor(data)} style={chosenAuthors.includes(data.uid) ? { background: 'var(--green)' } : {}} key={index} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<h3>Release Date</h3>\r\n\t\t\t\t\t<input type=\"date\" name=\"\" id=\"\" value={releaseDate} onChange={(e) => setReleaseDate(e.target.value)} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t{/* <label>\r\n\t\t\t\t\t<h3>Add to albums and playlists</h3>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter playlist name\" value={authorsInputValue} onChange={(e) => setAuthorsInputValue(e.target.value)} onKeyDown={findAuthors} style={{ marginBottom: '5px' }} />\r\n\t\t\t\t</label> */}\r\n\r\n\t\t\t\t<ErrorPlate errorMessage = {errorMessage}/>\r\n\r\n\t\t\t\t<div style={{ width: '100%', display: 'flex' }}>\r\n\t\t\t\t\t{imageColors.map((color, index) => {\r\n\t\t\t\t\t\treturn <input type=\"color\" value={color} style={{ width: '100%', height: '60px', padding: '0', borderRadius: '0px' }} onChange={(e) => { manuallyChangeColor(e, index) }} />\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<DownloadPhotoButton setErrorMessage = {setErrorMessage} setImageLocalPath = {setImageLocalPath} downloadedPhoto = {songCover} setDownloadedPhoto = {setSongCover} place = {'songsImages/'}/>\r\n\r\n\t\t\t\t<label className=\"downloadFile\">\r\n\t\t\t\t\t<div className=\"downloadPhoto\">\r\n\t\t\t\t\t\t<span className=\"downloadBtnText\">\r\n\t\t\t\t\t\t\t<AiOutlineCloudDownload />\r\n\t\t\t\t\t\t\tDownload song file\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"photoLoadLine\" style={songSrc !== '' ? { width: '100%' } : {}}></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<input type=\"file\" name=\"\" id=\"\" onChange={(e) => onFileChange(e, 'songs/', setSongSrc)} />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<textarea name=\"\" id=\"\" placeholder={\"Add song lyrics\"} onKeyDown={transformLyricsToArrayOfObjects} onChange={(e) => setLyrics(e.target.value)}></textarea>\r\n\t\t\t\t</label>\r\n\t\t\t\t<button type=\"submit\" className=\"addSongBtn\">{!showSuccessMessage?\"Add song\":\"Song Successfully added. Congrats!\"}</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const Slider = ({pages, currentPage, setCurrentPage}) => {\r\n\treturn (\r\n\t\t<div className = \"Slider\">\r\n\t\t\t{pages.map((pageName, index)=>{\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = {\"sliderItem \" + (index === currentPage?\"current\":\"\")} key = {index} onClick = {()=>setCurrentPage(index)}>\r\n\t\t\t\t\t\t{pageName}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { AiOutlineCloudDownload } from 'react-icons/ai'\r\nimport { FiPlus, FiXCircle } from 'react-icons/fi'\r\nimport { auth, firestore, storage } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport getUID from '../../functions/getUID'\r\nimport { AddPlaylist } from '../AddWindow/AddPlaylist'\r\nimport { AddSong } from '../AddWindow/AddSong'\r\nimport { PersonTiny } from '../Basic/PersonTiny'\r\nimport { Slider } from '../Tools/Slider'\r\n\r\nexport const AddWindow = ({ data }) => {\r\n\tconst { currentUser } = useAuth()\r\n\tconst [openAddSongWindow, setOpenAddSongWindow] = useState(false)\r\n\tconst [currentSliderPage, setCurrentSliderPage] = useState(0)\r\n\tconst sliderPages = [<AddSong/>, <AddPlaylist/>]\r\n\treturn (((currentUser.isAdmin) || (data.isAuthor)) && (data.uid === currentUser.uid)) ?\r\n\t\t(\r\n\t\t\t<div className=\"AddSong\">\r\n\t\t\t\t<button onClick={() => setOpenAddSongWindow(!openAddSongWindow)} style={openAddSongWindow ? { background: 'var(--red)' } : {}} className = \"openAddSongWindowBtn\">\r\n\t\t\t\t\t<FiPlus style={openAddSongWindow ? { transform: 'rotate(45deg)' } : {}} />\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className=\"addSongWindow\" style={openAddSongWindow ? { display: 'flex' } : {}}>\r\n\t\t\t\t\t<Slider pages = {['Song', 'Playlists']} currentPage = {currentSliderPage} setCurrentPage = {setCurrentSliderPage}/>\r\n\t\t\t\t\t{sliderPages[currentSliderPage]}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t) :\r\n\t\tnull\r\n}\r\n","import React from 'react'\r\nimport { FiCheck, FiX } from 'react-icons/fi'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const FriendRequestItem = ({person, addFriend, rejectFriend}) => {\r\n\treturn (\r\n\t\t<div className = 'FriendRequestItem'>\r\n\t\t\t<Link to = {`/authors/${person.uid}`}>\r\n\t\t\t\t<div className = \"friendRequestImageAndName\">  \r\n\t\t\t\t\t<div className=\"requestImage\">\r\n\t\t\t\t\t\t<img src={person.photoURL} alt=\"\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h3>{person.displayName}</h3>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"requestButtons\">\r\n\t\t\t\t<button style = {{color:'var(--green)'}} onClick = {()=>addFriend(person.uid)}>\r\n\t\t\t\t\t<FiCheck/>\r\n\t\t\t\t\t<span>Add</span> \r\n\t\t\t\t</button>\r\n\t\t\t\t<button style = {{color:'var( --lightRed)'}} onClick = {()=>rejectFriend(person.uid)}>\r\n\t\t\t\t\t<FiX/>\r\n\t\t\t\t\t<span>Reject</span> \r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { FriendRequestItem } from './FriendRequestItem'\r\n\r\nexport const FriendRequest = () => {\r\n\tconst {currentUser} = useAuth()\r\n\tconst [friendRequests, setFriendRequests] = useState([])\r\n\tfunction fetchFriendRequests(){\r\n\t\tcurrentUser.friends.forEach(async (friendObj)=>{\r\n\t\t\tif(friendObj.status === 'requested'){\r\n\t\t\t\tconst personData = (await firestore.collection('users').doc(friendObj.uid).get()).data()\r\n\t\t\t\tsetFriendRequests(prev=>[...prev, personData])\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchFriendRequests()\r\n\t}, [])\r\n\r\n\tfunction addFriend(uid){\r\n\t\tconst friendsList = currentUser.friends\r\n\t\tconst otherUserFriendList = friendRequests.find(person=>person.uid === uid).friends\r\n\t\tfriendsList.find(obj=>obj.uid === uid).status = \"added\"\r\n\t\totherUserFriendList.find(obj=> obj.uid === currentUser.uid).status = \"added\"\r\n\r\n\t\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\t\tfriends:friendsList\r\n\t\t})\r\n\t\tfirestore.collection('users').doc(uid).update({\r\n\t\t\tfriends:otherUserFriendList\r\n\t\t})\r\n\r\n\t\tcurrentUser['friends'] = friendsList\r\n\t}\r\n\r\n\tfunction rejectFriend(uid){\r\n\t\tconst friendsList = currentUser.friends\r\n\t\tconst otherUserFriendList = friendRequests.find(person=>person.uid === uid).friends\r\n\t\tfriendsList.find(obj=>obj.uid === uid).status = \"rejected\"\r\n\t\totherUserFriendList.find(obj=> obj.uid === currentUser.uid).status = \"rejected\"\r\n\r\n\t\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\t\tfriends:friendsList\r\n\t\t})\r\n\t\tfirestore.collection('users').doc(uid).update({\r\n\t\t\tfriends:otherUserFriendList\r\n\t\t})\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{friendRequests.map((person, index)=>{\r\n\t\t\t\treturn <FriendRequestItem person = {person} key = {index} addFriend = {addFriend} rejectFriend = {rejectFriend}/>\r\n\t\t\t})}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { firestore } from \"../firebase\";\r\n\r\nexport const findAuthorsAlbums = async (authorsData, setAuthorsPlaylists, currentUserUID, setLoading) => {\r\n\tsetAuthorsPlaylists([])\r\n\tconst tempArray = []\r\n\tif (authorsData.ownPlaylists !== undefined && authorsData.ownPlaylists.length !== 0) {\r\n\t\tauthorsData.ownPlaylists.forEach(async (playlistId, index) => {\r\n\t\t\tconst playlistData = (await firestore.collection(\"playlists\").doc(playlistId).get()).data()\r\n\t\t\tif (playlistData && (!playlistData.isPrivate || (authorsData.uid === currentUserUID && playlistData.isPrivate))) tempArray.push(playlistData)\r\n\t\t\tif (index === authorsData.ownPlaylists.length-1) {\r\n\t\t\t\ttempArray.sort((a, b) => new Date(b.creationDate).getTime() - new Date(a.creationDate).getTime())\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t\tsetAuthorsPlaylists(tempArray)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n}","export default function normalizeString(str){\r\n\treturn str.replace(/\\s/g, '-').toLowerCase()\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport normalizeString from '../../functions/normalizeString'\r\nimport shortWord from '../../functions/shortWord'\r\nimport {HiPause, HiPlay} from 'react-icons/hi'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { AddToListCircle } from '../Basic/AddToListCircle'\r\nimport { useScreen } from '../../functionality/ScreenContext'\r\nexport const PlaylistItem = ({playlist, listOfChosenAlbums, setListOfChosenAlbums}) => {\r\n\tconst playlistDate = new Date(playlist.creationDate)\r\n\tconst {currentUser} = useAuth()\r\n\tconst {isMobile} = useScreen()\r\n\tconst {setCurrentSongQueue, setCurrentSongPlaylistSource, playSong, setCurrentSongInQueue, setCurrentSong, currentSongPlaylistSource, songRef, setPlay, play} = useSong()\r\n\tconst [playlistSongs, setPlaylistSongs] = useState([])\r\n\tfunction fetchSongsInAlbum() {\r\n\t\tsetPlaylistSongs([])\r\n\t\tif(playlist.length !== 0){\r\n\t\t\tplaylist.songs.map(async songId=>{\r\n\t\t\t\tlet albumSong = (await firestore.collection('songs').doc(songId).get()).data()\r\n\t\t\t\tsetPlaylistSongs(prev=>[...prev, albumSong])\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfunction playChosenPlaylist(e){\r\n\t\te.preventDefault()\r\n\t\tif(currentSongPlaylistSource.name === playlist.name){\r\n\t\t\tplaySong()\r\n\t\t\treturn \r\n\t\t}\r\n\t\tfetchSongsInAlbum()\r\n\t\t\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(playlistSongs.length){\r\n\t\t\tconst source = {source:`/albums/${playlist.id}`, name:playlist.name, image:playlist.image, songsList:playlistSongs}\r\n\t\t\tconst listSongsIds = playlistSongs.map(song => song.id)\r\n\t\t\tsetCurrentSongQueue(playlistSongs)\r\n\t\t\tsetCurrentSongInQueue(0)\r\n\t\t\tsetCurrentSong(playlistSongs[0].id)\r\n\t\t\tsongRef.current.play()\r\n\t\t\tsetPlay(true)\r\n\t\t\tsetCurrentSongPlaylistSource(source)\r\n\t\t\tfirestore.collection('users').doc(currentUser.uid).update({\r\n\t\t\t\tlastSongPlayed: playlistSongs[0].id,\r\n\t\t\t\tlastQueue: {\r\n\t\t\t\t\timage: source.image,\r\n\t\t\t\t\tname: source.name,\r\n\t\t\t\t\tsongsList: listSongsIds,\r\n\t\t\t\t\tsource: source.source\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}, [playlistSongs.length])\r\n\r\n\treturn (\r\n\t\t<Link to={`/albums/${playlist.id}`} style = {{textDecoration:'none'}} className = \"playlistWrapper\">\r\n\t\t\t<AddToListCircle listOfChosenItems = {listOfChosenAlbums} setListOfChosenItems = {setListOfChosenAlbums} itemId = {playlist.id}/>\r\n\t\t\t<div className=\"playlistItem\">\r\n\t\t\t\t{playlist.image?\r\n\t\t\t\t\t<div className = \"playlistImageWrapper\"><img src={playlist.image} alt=\"\" /></div>:\r\n\t\t\t\t\t<h1>{playlist.name.split(' ')[0][0]}{playlist.name.split(' ')[1][0]}</h1>\r\n\t\t\t\t}\r\n\t\t\t\t{/* {!playlist.isAlbum?<h2>{playlist.name}</h2>:null} */}\r\n\t\t\t\t<button onClick = {playChosenPlaylist}>\r\n\t\t\t\t\t{(currentSongPlaylistSource.name === playlist.name) && play?<HiPause/>:<HiPlay/>}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<h4 style = {{display:'flex', alignItems:'center', margin:'5px 0'}}>\r\n\t\t\t\t{shortWord(playlist.name, isMobile?10:15)} \r\n\t\t\t\t<span style = {{fontSize:\".6em\", opacity:.6, fontWeight:'500', marginLeft:'7px'}}>\r\n\t\t\t\t\t{playlist.isAlbum?playlist.songs.length === 1?\"single\":'album':'playlist'}\r\n\t\t\t\t</span>\r\n\t\t\t</h4>\r\n\t\t\t<h5 style = {{margin:'5px 0'}}>{playlistDate.getFullYear()}</h5>\r\n\t\t</Link>\r\n\t)\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi'\r\nimport { PlaylistItem } from '../AuthorPage/PlaylistItem'\r\nimport { LoadingCircle } from './LoadingCircle'\r\n\r\nexport const AlbumList = ({listOfAlbums, title = \"\", loading = true, listOfChosenAlbums, setListOfChosenAlbums}) => {\r\n\t// console.log(listOfAlbums)\r\n\tconst [scrollLeft, setScrollLeft] = useState(0)\r\n\tconst wrapperRef = useRef(null)\r\n\tconst [shouldRenderRightArrow, setShouldRenderRightArrow] = useState(false)\r\n\tfunction scrollToLeft() {\r\n\t\tconst prev = wrapperRef.current.scrollLeft\r\n\t\twrapperRef.current.scrollLeft = prev - 220\r\n\t\tsetScrollLeft(prev - 220)\r\n\t}\r\n\tfunction scrollToRight() {\r\n\t\tconst prev = wrapperRef.current.scrollLeft\r\n\t\twrapperRef.current.scrollLeft = prev + 220\r\n\t\tsetScrollLeft(prev + 220)\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif(listOfAlbums.length > 0 && !loading){\r\n\t\t\tconst scrollBiggerThanScreen = wrapperRef.current.scrollWidth > wrapperRef.current.offsetWidth\r\n\t\t\tif (scrollBiggerThanScreen) setShouldRenderRightArrow(true)\r\n\t\t}\r\n\t}, [listOfAlbums])\r\n\treturn listOfAlbums.length > 0?\r\n\t\tloading?<LoadingCircle/>:\r\n\t\t(\r\n\t\t<div className=\"AuthorsList\" >\r\n\t\t\t{title.length !== 0 ? <h2>{title}</h2> : null}\r\n\t\t\t<div className=\"authorsWrapper\" ref={wrapperRef} onScroll={e => setScrollLeft(e.target.scrollLeft)}>\r\n\t\t\t\t{listOfAlbums.map((playlist, index) => {\r\n\t\t\t\t\treturn <PlaylistItem playlist = {playlist} key={index} listOfChosenAlbums = {listOfChosenAlbums} setListOfChosenAlbums = {setListOfChosenAlbums}/>\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"authorsShiftButtons\">\r\n\t\t\t\t<button onClick={scrollToLeft} style={scrollLeft <= 0 ? { visibility: 'hidden', opacity: '0' } : {}}><FiChevronLeft /></button>\r\n\t\t\t\t<button onClick={scrollToRight} style={shouldRenderRightArrow && wrapperRef.current && (wrapperRef.current.scrollWidth - wrapperRef.current.offsetWidth !== scrollLeft)? {} : { visibility: 'hidden', opacity: '0' }}><FiChevronRight /></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t):null\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { findAuthorsAlbums } from '../../functions/findAuthorsAlbums'\r\nimport { AlbumList } from '../Basic/AlbumList'\r\n\r\nexport const Playlists = ({ authorsData }) => {\r\n\tconst {currentUser} = useAuth()\r\n\tconst [authorsPlaylists, setAuthorsPlaylists] = useState([])\r\n\tconst [loading, setLoading] = useState(true)\r\n\r\n\tuseEffect(() => {\r\n\t\tfindAuthorsAlbums(authorsData, setAuthorsPlaylists, currentUser.uid, setLoading)\r\n\t}, [authorsData.ownPlaylists])\r\n\r\n\treturn <AlbumList listOfAlbums = {authorsPlaylists} title = {\"Albums\"} loading = {loading}/>\r\n}\r\n","import { firestore } from \"../firebase\"\r\n\r\nfunction findSimilarArtistsNames(authorsSongsArr, authorsData, setSimilarAuthors) {\r\n\tlet peopleArray = []\r\n\tauthorsSongsArr.forEach((song) => {\r\n\t\tlet newAuthors = song.authors\r\n\t\tif (newAuthors.length !== 0) {\r\n\t\t\tpeopleArray.push(newAuthors)\r\n\t\t}\r\n\t})\r\n\tpeopleArray = peopleArray.flat()\r\n\tconst uniqueAuthorsSet = new Set(peopleArray.map(people=>people.uid).filter(id=>id!==authorsData.uid))\r\n\tconst uniqueAuthorsIdsArray = Array.from(uniqueAuthorsSet)\r\n\tconst uniqueAuthorsDataArray = []\r\n\tfor (let i = 0; i < uniqueAuthorsIdsArray.length; i++) {\r\n\t\tfor (let j = 0; j < peopleArray.length; j++) {\r\n\t\t\tif(uniqueAuthorsIdsArray[i] === peopleArray[j].uid){\r\n\t\t\t\tuniqueAuthorsDataArray.push(peopleArray[j])\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\tsetSimilarAuthors(uniqueAuthorsDataArray)\r\n\treturn uniqueAuthorsDataArray\r\n}\r\n\r\nexport default async function findSimilarArtists(authorsData, setSimilarAuthors) {\r\n\tif (authorsData !== undefined && authorsData.ownSongs !== undefined && authorsData.ownSongs.length !== 0) {\r\n\t\tconst authorsSongsArray = []\r\n\t\tconst response = firestore.collection(\"songs\").where(\"id\", \"in\", authorsData.ownSongs)\r\n\t\tconst data = await response.get();\r\n\t\tdata.docs.forEach(item => {\r\n\t\t\tauthorsSongsArray.push(item.data())\r\n\t\t})\r\n\t\treturn findSimilarArtistsNames(authorsSongsArray, authorsData, setSimilarAuthors)\r\n\t}\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport normalizeString from '../../functions/normalizeString'\r\nimport { AddToListCircle } from '../Basic/AddToListCircle'\r\n\r\nexport const AuthorItemBig = ({data, listOfChosenAuthors, setListOfChosenAuthors}) => {\r\n\treturn (\r\n\t\t<Link to = {`/authors/${data.uid}`} className = \"AuthorItemBig\">\r\n\t\t\t<AddToListCircle listOfChosenItems = {listOfChosenAuthors} setListOfChosenItems = {setListOfChosenAuthors} itemId = {data.uid}/>\r\n\t\t\t<div >\r\n\t\t\t\t<div className = \"AuthorItemBigImage\">\r\n\t\t\t\t\t<img src={data.photoURL} alt=\"\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h3>{data.displayName}</h3>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t)\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi'\r\nimport { AuthorItemBig } from '../AuthorPage/AuthorItemBig'\r\n\r\nexport const AuthorsList = ({ listOfAuthors, title = \"\", listOfChosenAuthors, setListOfChosenAuthors }) => {\r\n\tconst [scrollLeft, setScrollLeft] = useState(0)\r\n\tconst wrapperRef = useRef(null)\r\n\tconst [shouldRenderRightArrow, setShouldRenderRightArrow] = useState(false)\r\n\tfunction scrollToLeft() {\r\n\t\tconst prev = wrapperRef.current.scrollLeft\r\n\t\twrapperRef.current.scrollLeft = prev - 200\r\n\t\tsetScrollLeft(prev - 200)\r\n\t}\r\n\tfunction scrollToRight() {\r\n\t\tconst prev = wrapperRef.current.scrollLeft\r\n\t\twrapperRef.current.scrollLeft = prev + 200\r\n\t\tsetScrollLeft(prev + 200)\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif(listOfAuthors.length > 0){\r\n\t\t\tconst scrollBiggerThanScreen = wrapperRef.current.scrollWidth > wrapperRef.current.offsetWidth\r\n\t\t\tif (scrollBiggerThanScreen) setShouldRenderRightArrow(true)\r\n\t\t}\r\n\t}, [listOfAuthors])\r\n\treturn listOfAuthors.length > 0?(\r\n\t\t<div className=\"AuthorsList\" >\r\n\t\t\t{title.length !== 0 ? <h2>{title}</h2> : null}\r\n\t\t\t<div className=\"authorsWrapper\" ref={wrapperRef} onScroll={e => setScrollLeft(e.target.scrollLeft)}>\r\n\t\t\t\t{listOfAuthors.map((author) => {\r\n\t\t\t\t\treturn <AuthorItemBig data={author} key={author.uid} listOfChosenAuthors = {listOfChosenAuthors} setListOfChosenAuthors = {setListOfChosenAuthors}/>\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"authorsShiftButtons\">\r\n\t\t\t\t<button onClick={scrollToLeft} style={scrollLeft <= 0 ? { visibility: 'hidden', opacity: '0' } : {}}><FiChevronLeft /></button>\r\n\t\t\t\t<button onClick={scrollToRight} style={shouldRenderRightArrow && (wrapperRef.current !== null && wrapperRef.current.scrollWidth - wrapperRef.current.offsetWidth !== scrollLeft)? {} : { visibility: 'hidden', opacity: '0' }}><FiChevronRight /></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t):null\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport findSimilarArtists from '../../functions/findSimilarArtists'\r\nimport { AuthorsList } from '../Basic/AuthorsList'\r\n\r\nexport const SimilarArtists = ({ data }) => {\r\n\tconst [similarArtists, setSimilarArtists] = useState([])\r\n\r\n\tuseEffect(() => {\r\n\t\tfindSimilarArtists(data, setSimilarArtists)\r\n\t}, [data])\r\n\treturn (\r\n\t\t<AuthorsList listOfAuthors = {similarArtists} title = {\"Similar Authors\"}/>\r\n\t)\r\n}\r\n","export default function findIfSongIsNew(song){\r\n\tconst songReleaseDate = new Date(song.releaseDate)\r\n\t//1 814 400 000 - 3 weeks\r\n\tif((new Date().getTime() - songReleaseDate.getTime()) < 1814400000) return true\r\n\r\n\treturn false\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { firestore } from '../../firebase'\r\nimport findIfSongIsNew from '../../functions/findIfSongIsNew'\r\nimport { SongList } from '../Basic/SongList'\r\nexport const TopSongs = ({ authorId, authorsData, headerColors }) => {\r\n\tconst [popularSongs, setPopularSongs] = useState([])\r\n\tconst [newSongs, setNewSongs] = useState([])\r\n\r\n\tasync function findAuthorsSongs() {\r\n\t\tsetPopularSongs([])\r\n\t\tconst tempArray = []\r\n\t\tif (authorsData.isAuthor) {\r\n\t\t\tif (authorsData.ownSongs !== undefined && authorsData.ownSongs.length !== 0) {\r\n\t\t\t\tauthorsData.ownSongs.forEach(async (songId, index)=>{\r\n\t\t\t\t\tconst songData = (await firestore.collection(\"songs\").doc(songId).get()).data()\r\n\t\t\t\t\ttempArray.push(songData)\r\n\t\t\t\t\tif (findIfSongIsNew(songData) && !newSongs.includes(songData)) setNewSongs(prevSongs => [...prevSongs, songData])\r\n\t\t\t\t\tif(index === authorsData.ownSongs.length - 1){\r\n\t\t\t\t\t\ttempArray.sort((a, b) => b.listens - a.listens)\r\n\t\t\t\t\t\tsetPopularSongs(tempArray)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tauthorsData.addedSongs.forEach(async (songId, index)=>{\r\n\t\t\t\tconst songData = (await firestore.collection(\"songs\").doc(songId).get()).data()\r\n\t\t\t\ttempArray.unshift(songData)\r\n\t\t\t\tif(index === authorsData.addedSongs.length - 1){\r\n\t\t\t\t\tsetPopularSongs(tempArray)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfindAuthorsSongs()\r\n\t\tsetNewSongs([])\r\n\t}, [authorsData.ownSongs])\r\n\r\n\treturn authorsData.isAuthor ?\r\n\t\t(<div className=\"TopSongs\">\r\n\t\t\t<SongList listOfSongs={newSongs} source={{ source: `/authors/${authorsData.uid}`, name: authorsData.displayName, image: authorsData.photoURL, songsList: newSongs }} isNewSong />\r\n\t\t\t<SongList\r\n\t\t\t\tlistOfSongs={popularSongs}\r\n\t\t\t\tsource={{ source: `/authors/${authorsData.uid}`, name: authorsData.displayName, image: authorsData.photoURL, songsList: popularSongs }}\r\n\t\t\t\ttitle={\"Popular Songs\"}\r\n\t\t\t\tshowListens\r\n\t\t\t\tshowCount\r\n\t\t\t/>\r\n\t\t</div>) :\r\n\t\t(\r\n\t\t\t<SongList\r\n\t\t\t\tlistOfSongs={popularSongs}\r\n\t\t\t\tsource={{ source: `/authors/${authorsData.uid}`, name: authorsData.displayName + \"'s Library\", image: authorsData.photoURL, songsList: popularSongs }}\r\n\t\t\t\ttitle={authorsData.displayName + \"'s Library\"}\r\n\t\t\t\tshowListens\r\n\t\t\t\tshowCount\r\n\t\t\t/>\r\n\t\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useRouteMatch } from 'react-router'\r\nimport { AddWindow } from '../components/AuthorPage/AddWindow'\r\nimport { FriendRequest } from '../components/AuthorPage/FriendRequest'\r\nimport { Header } from '../components/AuthorPage/Header'\r\nimport { PersonTinyList } from '../components/AuthorPage/PersonTinyList'\r\nimport { Playlists } from '../components/AuthorPage/Playlists'\r\nimport { SimilarArtists } from '../components/AuthorPage/SimilarArtists'\r\nimport { TopSongs } from '../components/AuthorPage/TopSongs'\r\nimport { LoadingCircle } from '../components/Basic/LoadingCircle'\r\nimport { firestore } from '../firebase'\r\nimport { useAuth } from '../functionality/AuthContext'\r\nimport \"../styles/AuthorPage.css\"\r\nexport const AuthorPage = () => {\r\n\tconst match = useRouteMatch('/authors/:authorId')\r\n\tconst {currentUser} = useAuth()\r\n\tconst [headerColors, setHeaderColors] = useState([])\r\n\tconst { authorId } = match.params\r\n\tconst [authorsData, setAuthorsData] = useState([])\r\n\tconst [loading, setLoading] = useState(true)\r\n\tasync function fetchAuthorsData() {\r\n\t\tconst response = firestore.collection(\"users\").doc(authorId)\r\n\t\tresponse.get().then((doc) => {\r\n\t\t\tif (doc.exists) {\r\n\t\t\t\t setAuthorsData(doc.data())\r\n\t\t\t\t setHeaderColors(doc.data().imageColors)\r\n\t\t\t\t setLoading(false)\r\n\t\t\t} else {\r\n\t\t\t\t console.log(\"No such document!\");\r\n\t\t\t}\r\n\t  }).catch((error) => {\r\n\t\t\tconsole.log(\"Error getting document:\", error);\r\n\t  });\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchAuthorsData()\r\n\t}, [authorId])\r\n\treturn (\r\n\t\t<div className=\"AuthorPage\" style={{ animation: 'zoomIn .2s forwards' }}>\r\n\t\t\t{loading?\r\n\t\t\t\t<LoadingCircle/>:\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Header data={authorsData} headerColors={headerColors} setHeaderColors={setHeaderColors} />\r\n\t\t\t\t\t{currentUser.uid === authorsData.uid?<FriendRequest/>:null} \r\n\t\t\t\t\t<AddWindow data={authorsData} />\r\n\t\t\t\t\t<TopSongs author={authorId} authorsData={authorsData} headerColors={headerColors} />\r\n\t\t\t\t\t{authorsData.friends && !authorsData.isAuthor?<PersonTinyList data = {authorsData} title = {\"Friends\"}/>:null}\r\n\t\t\t\t\t<Playlists authorsData={authorsData} headerColors={headerColors} />\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tauthorsData.isAuthor?\r\n\t\t\t\t\t\t<SimilarArtists data={authorsData} />:\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { firestore } from '../../firebase'\r\nimport { LoadingCircle } from '../Basic/LoadingCircle'\r\nimport { SongList } from '../Basic/SongList'\r\nimport { AuthorsList } from '../Basic/AuthorsList'\r\nimport { AlbumList } from '../Basic/AlbumList'\r\nimport { Slider } from '../Tools/Slider'\r\nexport const AttachmentList = ({ chatId }) => {\r\n\tconst [attachmentList, setAttachmentList] = useState([])\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst [sliderCurrentPage, setSliderCurrentPage] = useState(0)\r\n\tconst attachmentContent = [\r\n\t\t<SongList listOfSongs={attachmentList} source={{ source: `/chat/${chatId}`, name: `Chat with ${chatId}`, image: \"\", songsList: attachmentList }} />,\r\n\t\t<AuthorsList listOfAuthors={attachmentList} />,\r\n\t\t<AlbumList listOfAlbums={attachmentList} loading={loading} />\r\n\t]\r\n\tasync function fetchAttachedData(attachedType, firebaseCollection) {\r\n\t\t\r\n\t\tconst chatData = await firestore.collection('chats').doc(chatId).get()\r\n\t\tchatData.data().messages.forEach(message => {\r\n\t\t\tif (message[attachedType].length > 0) {\r\n\t\t\t\tmessage[attachedType].forEach(async itemId => {\r\n\t\t\t\t\tfirestore.collection(firebaseCollection).doc(itemId).get().then(songData=>{\r\n\t\t\t\t\t\tsetAttachmentList(prev => [...prev, songData.data()])\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tswitch (sliderCurrentPage) {\r\n\t\t\tcase 0:\r\n\t\t\t\tfetchAttachedData('attachedSongs', 'songs').then(()=>setLoading(false))\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tfetchAttachedData('attachedAuthors', 'users').then(()=>setLoading(false))\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tfetchAttachedData('attachedAlbums', 'playlists').then(()=>setLoading(false))\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}, [sliderCurrentPage])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetAttachmentList([])\r\n\t}, [chatId])\r\n\r\n\tconsole.log(attachmentList)\r\n\r\n\treturn (\r\n\t\t<div className=\"AttachmentList\">\r\n\t\t\t<Slider pages={[\"Songs\", \"Authors\", \"Playlists\"]} currentPage={sliderCurrentPage} setCurrentPage={(page)=>{setSliderCurrentPage(page); setLoading(true); setAttachmentList([])}} />\r\n\t\t\t{loading ? <LoadingCircle /> :\r\n\t\t\t\tattachmentList.length > 0 ? attachmentContent[sliderCurrentPage] : <h2>Nothing here</h2>\r\n\t\t\t}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { useEffect } from 'react'\r\nimport { firestore } from '../firebase'\r\n\r\nexport const useFetchFirebaseData = (setLoading, collection, list, setState, sortCondition, whereCondFP, whereCondSP, whereCondTP, deps = []) => {\r\n\r\n\tasync function fetchData() {\r\n\t\tconst tempArray = []\r\n\t\tif (list === undefined) {\r\n\t\t\tif (whereCondFP !== undefined) {\r\n\t\t\t\tconst items = await firestore.collection(collection).where(whereCondFP, whereCondSP, whereCondTP).get()\r\n\t\t\t\titems.docs.forEach(itemData => {\r\n\t\t\t\t\ttempArray.push(itemData.data())\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t\r\n\t\t\t\tconst items = await firestore.collection(collection).get()\r\n\t\t\t\titems.docs.forEach(itemData => {\r\n\t\t\t\t\ttempArray.push(itemData.data())\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tawait list.forEach(async (itemId, index) => {\r\n\t\t\t\tconst itemData = (await firestore.collection(collection).doc(itemId).get()).data()\r\n\t\t\t\ttempArray.push(itemData)\r\n\t\t\t\tif(index === list.length - 1){\r\n\t\t\t\t\tif(sortCondition !== undefined){\r\n\t\t\t\t\t\ttempArray.sort(sortCondition)\r\n\t\t\t\t\t\tsetState(tempArray)\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tsetState(tempArray)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t\treturn tempArray\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true)\r\n\t\tsetState([])\r\n\t\tfetchData().then((res)=>{\r\n\t\t\tif(list === undefined) {\r\n\t\t\t\tsetState(res)\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t}\r\n\t\t})\r\n\t}, deps)\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport { firestore, storage } from '../../firebase'\r\nimport { useFetchFirebaseData } from '../../hooks/fetchFirebaseData'\r\nimport { useFetchDocs } from '../../hooks/useFetchDocs'\r\nimport { LoadingCircle } from '../Basic/LoadingCircle'\r\nimport { PersonTiny } from '../Basic/PersonTiny'\r\nimport {FiSettings} from 'react-icons/fi'\r\nimport {MdModeEdit} from 'react-icons/md'\r\nimport {RiVolumeUpLine } from 'react-icons/ri'\r\nimport {ImAttachment} from 'react-icons/im'\r\nimport shortWord from '../../functions/shortWord'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport { AttachmentList } from './AttachmentList'\r\nimport { Slider } from '../Tools/Slider'\r\nimport { ColorExtractor } from 'react-color-extractor'\r\n\r\nexport const ChatInfo = ({ data }) => {\r\n\tconst [participants, setParticipants] = useState([])\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst [chatNameValue, setChatNameValue] = useState(data.chatName)\r\n\tconst [newChatPhoto, setNewChatPhoto] = useState(data.chatImage)\r\n\tconst [newImageLocalPath, setNewImageLocalPath] = useState(\"\")\r\n\tconst [newImageColors, setNewImageColors] = useState(data.imageColors || [])\r\n\tconst {setContent} = useModal()\r\n\tconst [participantsPage, setParticipantsPage] = useState(0)\r\n\tconst [showUpdateBtn, setShowUpdateBtn] = useState(false)\r\n\tuseFetchDocs(setLoading, data.participants, setParticipants, [data.id])\t\r\n\tuseEffect(() => {\r\n\t\tif(chatNameValue.trim() !== data.chatName.trim() || newChatPhoto !== data.chatImage){\r\n\t\t\tsetShowUpdateBtn(true)\r\n\t\t}\r\n\t\telse setShowUpdateBtn(false)\r\n\t}, [chatNameValue, newChatPhoto])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetChatNameValue(data.chatName)\r\n\t}, [data.id])\r\n\r\n\tfunction updateChatInfo(){\r\n\t\tfirestore.collection('chats').doc(data.id).update({\r\n\t\t\tchatName:chatNameValue,\r\n\t\t\tchatImage:newChatPhoto,\r\n\t\t\timageColors:newImageColors\r\n\t\t})\r\n\t}\r\n\r\n\tasync function onFileChange(e, place, setFunc) {\r\n\t\tconst file = e.target.files[0]\r\n\t\tsetNewImageLocalPath(URL.createObjectURL(file))\r\n\t\tconst storageRef = storage.ref()\r\n\t\tconst fileRef = storageRef.child(place + file.name)\r\n\t\tawait fileRef.put(file)\r\n\t\tsetFunc(await fileRef.getDownloadURL())\r\n\t}\r\n\treturn(\r\n\t\t<div className=\"ChatInfo\">\r\n\t\t\t<ColorExtractor src = {newImageLocalPath} getColors = {(colors)=>setNewImageColors(colors)}/>\r\n\t\t\t<div className=\"chatInfoImageAndName\">\r\n\t\t\t\t<div className=\"chatInfoImage\">\r\n\t\t\t\t\t<label className = \"changePhoto\">\r\n\t\t\t\t\t\t<MdModeEdit/>\r\n\t\t\t\t\t\tChange photo\r\n\t\t\t\t\t\t<input type=\"file\" style = {{display:'none'}} onChange = {(e)=>onFileChange(e, 'chatCovers/', setNewChatPhoto)}/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<img src={newChatPhoto} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"text\" className = \"standartInput\" value = {chatNameValue} onChange = {(e)=>setChatNameValue(e.target.value)}/>\r\n\t\t\t\t\t<div className = \"chatInfoButtons\">\r\n\t\t\t\t\t\t<button className=\"chatInfoButton\">\r\n\t\t\t\t\t\t\t<FiSettings/>\r\n\t\t\t\t\t\t\tSettings\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className=\"chatInfoButton\" onClick = {()=>setContent(<AttachmentList chatId = {data.id}/>)}>\r\n\t\t\t\t\t\t\t<ImAttachment/>\r\n\t\t\t\t\t\t\t{shortWord(\"Attachments\", 7)} \r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className=\"chatInfoButton\">\r\n\t\t\t\t\t\t\t<RiVolumeUpLine/>\r\n\t\t\t\t\t\t\tSound\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{showUpdateBtn?<button className = \"standartButton\" onClick = {updateChatInfo}>Update Chat</button>:null}\r\n\t\t\t</div>\r\n\t\t\t<h4>Chat participants</h4>\r\n\t\t\t<Slider pages = {['All participants', \"Administrators\"]} currentPage = {participantsPage} setCurrentPage = {setParticipantsPage}/>\r\n\t\t\t{!loading?participants.map(person => {\r\n\t\t\t\tif(participantsPage === 1){\r\n\t\t\t\t\tif(data.admins.includes(person.uid)) return <PersonTiny data={person} key={person.uid} />\r\n\t\t\t\t}\r\n\t\t\t\telse return <PersonTiny data={person} key={person.uid} />\r\n\t\t\t}):<LoadingCircle/>}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { firestore } from '../firebase'\r\n\r\nexport const useFetchDocs = (setLoading, listOfItems, setList, deps) => {\r\n\tfunction fetchItem(){\r\n\t\tlistOfItems.forEach(async itemId=>{\r\n\t\t\tconst personData = (await firestore.collection('users').doc(itemId).get()).data()\r\n\t\t\tsetList(prev=>[...prev, personData])\r\n\t\t})\r\n\t\tsetLoading(false)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true)\r\n\t\tfetchItem()\r\n\t\treturn ()=>fetchItem()\r\n\t}, deps)\r\n}\r\n","import React from 'react'\r\nimport { firestore } from '../../firebase'\r\n\r\nexport const WallpaperItem = ({chatId, image, currentWallpaper}) => {\r\n\tfunction changeChatWallpaper(){\r\n\t\tfirestore.collection('chats').doc(chatId).update({\r\n\t\t\twallpaper:image\r\n\t\t})\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className = {\"WallpaperItem \" + (image === currentWallpaper?\"active\":\"\")} onClick = {changeChatWallpaper} style = {image === \"undefined\"?{background:'var(--playlistsColor)'}:{}}>\r\n\t\t\t{image !== \"undefined\" ?<img src={image} alt=\"\" />:null}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useFetchFirebaseData } from '../../hooks/fetchFirebaseData'\r\nimport { LoadingCircle } from '../Basic/LoadingCircle'\r\nimport { WallpaperItem } from './WallpaperItem'\r\n\r\nexport const Wallpapers = ({chatId, currentWallpaper}) => {\r\n\tconst [wallpaperList, setWallpaperList] = useState([])\r\n\tconst [loading, setLoading] = useState(true)\r\n\tuseFetchFirebaseData(setLoading,'chatWallpapers', undefined, setWallpaperList)\r\n\tconsole.log(wallpaperList)\r\n\treturn !loading?(\r\n\t\t<div className='Wallpapers'>\r\n\t\t\t<h2>Wallpapers</h2>\r\n\t\t\t<div className=\"wallpapreWrapper\">\r\n\t\t\t\t<WallpaperItem chatId = {chatId} image={\"undefined\"}/>\r\n\t\t\t\t{wallpaperList.map((wallpaper, index) => {\r\n\t\t\t\t\treturn <WallpaperItem chatId = {chatId} image={wallpaper.image} key={wallpaper.id} currentWallpaper = {currentWallpaper}/>\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t):<LoadingCircle/>\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport { FiFolder, FiImage, FiMoreHorizontal, FiSearch, FiTrash, FiInfo } from 'react-icons/fi'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport { useOutsideClick } from '../../hooks/useOutsideClick'\r\nimport { AttachmentList } from './AttachmentList'\r\nimport { ChatInfo } from './ChatInfo'\r\nimport { Wallpapers } from './Wallpapers'\r\n\r\nexport const ChatMoreBtn = ({chatId, currentWallpaper, data}) => {\r\n\tconst [openMoreWindow, setOpenMoreWindow] = useState()\r\n\tconst {toggleModal, setContent} = useModal()\r\n\tconst chatMoreBtnRef = useRef(null)\r\n\tuseOutsideClick(chatMoreBtnRef, setOpenMoreWindow)\r\n\treturn (\r\n\t\t<div className=\"ChatMoreBtn\" ref = {chatMoreBtnRef}>\r\n\t\t\t<button onClick = {()=>setOpenMoreWindow(!openMoreWindow)}>\r\n\t\t\t\t<FiMoreHorizontal />\r\n\t\t\t</button>\r\n\t\t\t<div className=\"chatHeaderMenuWindow\" style = {!openMoreWindow?{display:'none'}:{}}>\r\n\t\t\t\t{data.participants.length > 2? <div className=\"chatHeaderMenuWindowItem\" onClick = {()=>{toggleModal(); setContent(<ChatInfo data = {data}/>)}}>\r\n\t\t\t\t\t<FiInfo/>\r\n\t\t\t\t\t<span>Info</span>\r\n\t\t\t\t</div>:null}\r\n\t\t\t\t<div className=\"chatHeaderMenuWindowItem\">\r\n\t\t\t\t\t<FiSearch/>\r\n\t\t\t\t\t<span>Search messages</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"chatHeaderMenuWindowItem\" onClick = {()=>{toggleModal(); setContent(<AttachmentList chatId = {chatId}/>)}}>\r\n\t\t\t\t\t<FiFolder/>\r\n\t\t\t\t\t<span>Attachments</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"chatHeaderMenuWindowItem\" onClick = {()=>{toggleModal(); setContent(<Wallpapers chatId = {chatId} currentWallpaper = {currentWallpaper}/>)}}>\r\n\t\t\t\t\t<FiImage/>\r\n\t\t\t\t\t<span>Change wallpaper</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"chatHeaderMenuWindowItem\">\r\n\t\t\t\t\t<FiTrash/>\r\n\t\t\t\t\t<span>Delete chat</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { BackBtn } from '../Basic/BackBtn'\r\nimport { Link } from 'react-router-dom'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { ChatMoreBtn } from './ChatMoreBtn'\r\nimport { LastSeen } from '../Basic/LastSeen'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport { ChatInfo } from './ChatInfo'\r\nexport const ChatHeader = ({ data }) => {\r\n\tconst { currentUser } = useAuth()\r\n\tconst {toggleModal, setContent} = useModal()\r\n\tconst [otherPerson, setOtherPerson] = useState({})\r\n\tconst [headerColors, setHeaderColors] = useState(data.chatName === \"\"?[]:data.imageColors)\r\n\tasync function fetchOtherPerson() {\r\n\t\tconst otherPersonId = data.participants.find(personId => personId !== currentUser.uid)\r\n\t\tconst person = (await firestore.collection('users').doc(otherPersonId).get()).data()\r\n\t\tsetOtherPerson(person)\r\n\t\tsetHeaderColors(person.imageColors)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (data.chatName === \"\") {\r\n\t\t\tfetchOtherPerson()\r\n\t\t}\r\n\t}, [data.id])\r\n\treturn (\r\n\t\t<div className=\"ChatHeader\" style={headerColors.length ? { background: `linear-gradient(45deg, ${headerColors[0]}, ${headerColors[1]})` } : { background: `linear-gradient(45deg, grey, lightgrey)` }}>\r\n\t\t\t<BackBtn />\r\n\t\t\t{data.participants.length === 2 ? <Link className=\"chatHeaderImageAndName\" to={`/authors/${otherPerson.uid}`}>\r\n\t\t\t\t<div className=\"chatHeaderImage\">\r\n\t\t\t\t\t<img src={otherPerson.photoURL || data.chatImage} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n\t\t\t\t\t<h4>{otherPerson.displayName || data.chatName}</h4>\r\n\t\t\t\t\t<LastSeen userUID={otherPerson.uid} />\r\n\t\t\t\t</div>\r\n\t\t\t</Link> :\r\n\t\t\t\t<div className=\"chatHeaderImageAndName\" onClick = {()=>{toggleModal(); setContent(<ChatInfo data = {data}/>)}}>\r\n\t\t\t\t\t<div className=\"chatHeaderImage\">\r\n\t\t\t\t\t\t<img src={otherPerson.photoURL || data.chatImage} alt=\"\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n\t\t\t\t\t\t<h4>{otherPerson.displayName || data.chatName}</h4>\r\n\t\t\t\t\t\t<LastSeen userUID={otherPerson.uid} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t<ChatMoreBtn chatId={data.id} data={data} currentWallpaper={data.wallpaper} />\r\n\t\t</div>\r\n\t)\r\n}\r\n","export function findWhatToWriteInResponseToItem(referedMessage){\r\n\treturn referedMessage.attachedSongs.length ? \"Audio\":\r\n\treferedMessage.attachedAlbums.length? \"Album\":\r\n\treferedMessage.attachedAuthors.length?\"Author\":\r\n\treferedMessage.inResponseToMessage && referedMessage.inResponseToMessage.length?\"Forwarded message\":\"\"\r\n}","import { useEffect, useState } from \"react\"\r\n\r\nexport default function useOnScreen(ref) {\r\n\r\n\tconst [isIntersecting, setIntersecting] = useState(false)\r\n \r\n\tconst observer = new IntersectionObserver(\r\n\t  ([entry]) => setIntersecting(entry.isIntersecting)\r\n\t)\r\n \r\n\tuseEffect(() => {\r\n\t  observer.observe(ref.current)\r\n\t  // Remove the observer as soon as the component is unmounted\r\n\t  return () => { observer.disconnect() }\r\n\t}, [])\r\n \r\n\treturn isIntersecting\r\n }","import React from 'react'\r\n\r\nexport const SongItemLoading = () => {\r\n\treturn (\r\n\t\t<div className = \"SongItem SongItemLoading\">\r\n\t\t\t<div className=\"songItemImageAndName\">\r\n\t\t\t\t<div className=\"songItemImage\"></div>\r\n\t\t\t\t<div className=\"songItemNameAndAuthor\">\r\n\t\t\t\t\t<div className=\"songItemName\"></div>\r\n\t\t\t\t\t<div className=\"songItemAuthor\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const SeenByCircle = ({listOfSeen}) => {\r\n\treturn (\r\n\t\t<div className = \"SeenByCircle\" style = {listOfSeen !== undefined? listOfSeen.length <= 1?{opacity:'1', visibility:'visible'}:{}:null}></div>\r\n\t)\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { AiFillFire, AiFillLike } from 'react-icons/ai'\r\nimport { BiShare } from 'react-icons/bi'\r\nimport { FcLike } from 'react-icons/fc'\r\nimport { useSwipeable } from 'react-swipeable'\r\nimport { authors } from '../../data/authors'\r\nimport { chat } from '../../data/chat'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { useScreen } from '../../functionality/ScreenContext'\r\nimport displayDate from '../../functions/displayDate'\r\nimport { findWhatToWriteInResponseToItem } from '../../functions/findWhatToWriteInResponseItem'\r\nimport useOnScreen from '../../hooks/useOnScreen'\r\nimport { AuthorItemBig } from '../AuthorPage/AuthorItemBig'\r\nimport { PlaylistItem } from '../AuthorPage/PlaylistItem'\r\nimport { SongItemLoading } from '../Basic/SongItemLoading'\r\nimport { SongItem } from '../FullScreenPlayer/SongItem'\r\nimport { SeenByCircle } from './SeenByCircle'\r\n\r\nexport const MessageItem = ({ messageData, chatId, scrollToMessageRef, setScrollToMessageId, scrollToMessageId, showPhoto = true, otherMessages, inResponseToMessageArr, setInResponseToMessageArr }) => {\r\n\tconst { currentUser } = useAuth()\r\n\tconst {isMobile} = useScreen()\r\n\tconst { message, attachedAlbums, attachedSongs, attachedAuthors, sender, inResponseToMessage, id, sentTime } = messageData\r\n\tconst [userThatSentMessage, setUserThatSentMessage] = useState({})\r\n\tconst messageSentTime = displayDate(sentTime, 2)\r\n\tconst [attachedSongsData, setAttachedSongsData] = useState([])\r\n\tconst [attachedAuthorsData, setAttachedAuthorsData] = useState([])\r\n\tconst [attachedPlaylistsData, setAttachedPlaylistsData] = useState([])\r\n\tconst [inResponseToMessagesData, setInResponseToMessagesData] = useState([])\r\n\tconst [inResponseNames, setInResponseNames] = useState([])\r\n\tconst messageRef = useRef()\r\n\tconst isVisible = useOnScreen(messageRef)\r\n\tconst [swipeDeltaX, setSwipeDeltaX] = useState(0)\r\n\tconst [transormTransition, setTransformTransition] = useState(0)\r\n\tconst handlers = useSwipeable({ onSwiping: (event) => {if(event.deltaX < 0) setSwipeDeltaX(event.deltaX)} })\r\n\tconst refPassthrough = (el) => {\r\n\t\t// call useSwipeable ref prop with el\r\n\t\thandlers.ref(el);\r\n\r\n\t\t// set myRef el so you can access it yourself\r\n\t\tmessageRef.current = el;\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif (messageData.seenBy !== undefined) {\r\n\t\t\tif (currentUser.uid !== messageData.sender && isVisible) {\r\n\t\t\t\tif (!messageData.seenBy.includes(currentUser.uid)) {\r\n\t\t\t\t\tconst tempMessages = otherMessages\r\n\t\t\t\t\ttempMessages[messageData.id].seenBy.push(currentUser.uid)\r\n\t\t\t\t\tfirestore.collection('chats').doc(chatId).update({\r\n\t\t\t\t\t\tmessages: tempMessages\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [isVisible])\r\n\r\n\tasync function fetchSentMessageUser() {\r\n\t\tconst user = (await firestore.collection('users').doc(messageData.sender).get()).data()\r\n\t\tsetUserThatSentMessage(user)\r\n\t}\r\n\r\n\tfunction fetchAttachedData(list, place, setFunc) {\r\n\t\treturn list.forEach(async (itemId) => {\r\n\t\t\tlet itemData = (await firestore.collection(place).doc(itemId).get()).data()\r\n\t\t\tsetFunc(prev => [...prev, itemData])\r\n\t\t})\r\n\t}\r\n\r\n\tfunction inResponseMessagesFetch() {\r\n\t\tif (inResponseToMessage !== null) {\r\n\t\t\tinResponseToMessage.forEach(async messageId => {\r\n\t\t\t\tsetInResponseToMessagesData(prev => [...prev, otherMessages[messageId]])\r\n\t\t\t\tconst name = (await firestore.collection('users').doc(otherMessages[messageId].sender).get()).data().displayName\r\n\t\t\t\tsetInResponseNames(prev => [name, ...prev])\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchSentMessageUser()\r\n\t\tfetchAttachedData(attachedSongs, 'songs', setAttachedSongsData)\r\n\t\tfetchAttachedData(attachedAuthors, 'users', setAttachedAuthorsData)\r\n\t\tfetchAttachedData(attachedAlbums, 'playlists', setAttachedPlaylistsData)\r\n\t\tinResponseMessagesFetch()\r\n\t}, [])\r\n\r\n\tfunction addMessageToResponseList() {\r\n\t\tif (!inResponseToMessageArr.includes(id)) {\r\n\t\t\tsetInResponseToMessageArr(prev => [...prev, id])\r\n\t\t}\r\n\t}\r\n\r\n\tfunction returnToInitial() {\r\n\t\tlet dropDelta\r\n\t\tclearTimeout(dropDelta)\r\n\t\tsetTransformTransition(0.2)\r\n\t\tdropDelta = setTimeout(() => {\r\n\t\t  setSwipeDeltaX(0)\r\n\t\t  setTransformTransition(0)\r\n\t\t}, 100)\r\n\t }\r\n\r\n\tuseEffect(() => {\r\n\t\tif(swipeDeltaX < -160){\r\n\t\t\treturnToInitial()\r\n\t\t\taddMessageToResponseList()\r\n\t\t}\r\n\t}, [swipeDeltaX])\r\n\r\n\r\n\tconst emojis = [<FcLike />, <AiFillFire />, <AiFillLike />]\r\n\treturn (\r\n\t\t<div className={\"MessageItem \" + (sender === currentUser.uid ? 'your' : '')} ref={id === scrollToMessageId ? scrollToMessageRef : refPassthrough} style={!isVisible ? { opacity: '0', visibility: 'hidden' } : showPhoto ? { paddingBottom: '15px', transform:`translateX(${swipeDeltaX}px)`, transition:transormTransition } : {transform:`translateX(${swipeDeltaX}px)`, transition:transormTransition}} onTouchEnd = {returnToInitial}>\r\n\t\t\t<div className=\"messageItemImage\">\r\n\t\t\t\t{showPhoto ?\r\n\t\t\t\t\t<img src={userThatSentMessage.photoURL} alt=\"\" /> :\r\n\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\r\n\t\t\t</div>\r\n\t\t\t<div className=\"messageItemBody\" style={id === scrollToMessageId ? { animation: 'showResponseMessage .5s forwards' } : showPhoto ? { borderRadius: 'var(--standartBorderRadius2) var(--standartBorderRadius) var(--standartBorderRadius) 5px' } : {}}>\r\n\t\t\t\t<div style={{ display: 'flex', alignItems: 'center', marginBottom: '5px' }}>\r\n\t\t\t\t\t<h5 className=\"messageUserName\">{userThatSentMessage.displayName}</h5>\r\n\t\t\t\t\t<div style={{ fontSize: '.7em', opacity: '.8', marginLeft: '10px' }}>{messageSentTime}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{inResponseToMessage !== null ?\r\n\t\t\t\t\tinResponseToMessagesData.map((messageData, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"responseItem\" onClick={() => setScrollToMessageId(messageData.id)}>\r\n\t\t\t\t\t\t\t\t<span style={{ display: 'flex', alignItems: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t<h5 style={messageData.sender === currentUser.uid ? { color: \"var(--lightPurple)\" } : {}}>\r\n\t\t\t\t\t\t\t\t\t\t{inResponseNames[index]}\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t<div style={{ fontSize: '.7em', opacity: '.8', marginLeft: '10px' }}>{displayDate(messageData.sentTime, 2)}</div>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{messageData.message}\r\n\t\t\t\t\t\t\t\t\t<span style={{ marginLeft: '5px', color: 'var(--reallyLightBlue)' }}>\r\n\t\t\t\t\t\t\t\t\t\t{findWhatToWriteInResponseToItem(messageData)}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t: null\r\n\t\t\t\t}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>{message}</p>\r\n\t\t\t\t\t{attachedSongsData.map((song, key) => {\r\n\t\t\t\t\t\treturn isVisible ? <SongItem song={song} localIndex={key} key={key} /> : <SongItemLoading />\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{attachedPlaylistsData.map((album, index) => {\r\n\t\t\t\t\t\treturn <PlaylistItem playlist={album} key={index} />\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{attachedAuthorsData.map((author, index) => {\r\n\t\t\t\t\t\treturn <AuthorItemBig data={author} key={index} />\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t\t<SeenByCircle listOfSeen={messageData.seenBy} />\r\n\t\t\t<button className=\"respondToMessageBtn\" onClick={addMessageToResponseList} style = {isMobile?{opacity:-swipeDeltaX/80}:{}}>\r\n\t\t\t\t<BiShare />\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useRef } from 'react'\r\nimport displayDate from '../../functions/displayDate'\r\nimport { MessageItem } from './MessageItem'\r\n\r\nexport const MessageField = ({message, index, messageList, chatId, inResponseToMessage, setInResponseToMessage, scrollToMessageRef, scrollToMessageId, setScrollToMessageId, setDateRefsArray}) => {\r\n\tconst [showPhoto, setShowPhoto] = useState(false)\r\n\tconst [showDate, setShowDate] = useState(false)\r\n\tconst dateRef = useRef(null)\r\n\tuseEffect(() => {\r\n\t\tif (index === messageList.length - 1) setShowPhoto(true)\r\n\t\telse if (messageList[index + 1].sender !== messageList[index].sender) setShowPhoto(true)\r\n\t\telse if (displayDate(messageList[index + 1].sentTime) !== displayDate(messageList[index].sentTime)) setShowPhoto(true)\r\n\t\r\n\t\tif (index === 0) setShowDate(true)\r\n\t\telse if (displayDate(messageList[index].sentTime) !== displayDate(messageList[index - 1].sentTime)) {\r\n\t\t\tsetShowDate(true)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(dateRef.current !== null) {\r\n\t\t\tsetDateRefsArray(prev=>[...prev, dateRef])\r\n\t\t}\r\n\t}, [showDate])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showDate ?  <div ref = {dateRef} style={{ width: '100%', display: 'flex', justifyContent: 'center', alignItems: \"center\", padding: \"10px 0\" }}>{displayDate(message.sentTime)}</div> : null}\r\n\t\t\t<MessageItem\r\n\t\t\t\tmessageData={message}\r\n\t\t\t\tchatId={chatId}\r\n\t\t\t\tkey={message.id}\r\n\t\t\t\tscrollToMessageRef={scrollToMessageRef}\r\n\t\t\t\tscrollToMessageId={scrollToMessageId}\r\n\t\t\t\tsetScrollToMessageId={setScrollToMessageId}\r\n\t\t\t\tshowPhoto={showPhoto}\r\n\t\t\t\totherMessages={messageList}\r\n\t\t\t\tinResponseToMessageArr={inResponseToMessage}\r\n\t\t\t\tsetInResponseToMessageArr={setInResponseToMessage}\r\n\r\n\t\t\t/>\r\n\t\t</>\r\n\t)\r\n\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { MessageField } from './MessageField'\r\n\r\nexport const DisplayChatMessages = ({chatId, messageList, inResponseToMessage, setInResponseToMessage, messagesWindowRef, setDateRefsArray}) => {\r\n\tconst scrollToMessageRef = useRef(null)\r\n\tconst [scrollToMessageId, setScrollToMessageId] = useState(-1)\r\n\tuseEffect(() => {\r\n\t\tif (scrollToMessageId !== -1) {\r\n\t\t\tmessagesWindowRef.current.scrollTo(0, scrollToMessageRef.current.offsetTop - 65 < 0 ? 0 : scrollToMessageRef.current.offsetTop - 65)\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetScrollToMessageId(-1)\r\n\t\t\t}, 500)\r\n\t\t}\r\n\t}, [scrollToMessageId])\r\n\r\n\treturn messageList.length?<>\r\n\t\t{messageList.map((message, index)=>{\r\n\t\t\treturn <MessageField \r\n\t\t\t\tmessage = {message} \r\n\t\t\t\tindex = {index} \r\n\t\t\t\tkey = {message.id} \r\n\t\t\t\tmessageList = {messageList} \r\n\t\t\t\tchatId = {chatId} \r\n\t\t\t\tinResponseToMessage = {inResponseToMessage}\r\n\t\t\t\tsetInResponseToMessage = {setInResponseToMessage}\r\n\t\t\t\tscrollToMessageRef = {scrollToMessageRef}\r\n\t\t\t\tscrollToMessageId = {scrollToMessageId}\r\n\t\t\t\tsetScrollToMessageId = {setScrollToMessageId}\r\n\t\t\t\tsetDateRefsArray = {setDateRefsArray}\r\n\t\t\t/>\r\n\t\t})}\r\n\t</>:null\r\n}\r\n","import React from 'react'\r\nimport { FiX, FiUser } from 'react-icons/fi'\r\nexport const AttachedItemsInChatInput = ({attachedItems, setAttachedItems, icon}) => {\r\n\tfunction removeItemFromAttached(attachedItems, setItems, itemId) {\r\n\t\tsetItems(attachedItems.filter(id => id !== itemId))\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"AttachedItemsInChatInput\">\r\n\t\t\t{attachedItems.map((itemId, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"attachedSongItem\" key={itemId}>\r\n\t\t\t\t\t\t{icon}\r\n\t\t\t\t\t\t<span>{itemId}</span>\r\n\t\t\t\t\t\t<button className=\"removeMessageFromResponse\" onClick={() => removeItemFromAttached(attachedItems, setAttachedItems, itemId)}>\r\n\t\t\t\t\t\t\t<FiX />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useRef } from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { AiFillFire, AiFillLike } from 'react-icons/ai'\r\nimport { FcLike } from 'react-icons/fc'\r\nimport { ImAttachment } from 'react-icons/im'\r\nimport { MdSend } from 'react-icons/md'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { useOutsideClick } from '../../hooks/useOutsideClick'\r\nimport { SearchBar } from '../Basic/SearchBar'\r\nimport { SongList } from '../Basic/SongList'\r\nimport { AuthorsList } from '../Basic/AuthorsList'\r\nimport { AlbumList } from '../Basic/AlbumList'\r\nimport { FiX, FiUser } from 'react-icons/fi'\r\nimport { CgMusicNote } from 'react-icons/cg'\r\nimport { BiAlbum } from 'react-icons/bi'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { findWhatToWriteInResponseToItem } from '../../functions/findWhatToWriteInResponseItem'\r\nimport { auth, firestore } from '../../firebase'\r\nimport { sendMessage } from '../../functions/sendMessage'\r\nimport shortWord from '../../functions/shortWord'\r\nimport { AttachedItemsInChatInput } from '../ChatPage/AttachedItemsInChatInput'\r\n\r\nexport const ChatInput = ({ chatId, chatData, messageText, setMessageText, inResponseToMessage, setInResponseToMessage, otherMessages }) => {\r\n\tconst { currentUser } = useAuth()\r\n\tconst [openAttachWindow, setOpenAttachWindow] = useState(false)\r\n\tconst { yourSongs, yourAuthors, yourPlaylists } = useSong()\r\n\tconst [searchValue, setSearchValue] = useState(\"\")\r\n\tconst [allFoundSongs, setAllFoundSongs] = useState(yourSongs)\r\n\tconst [searchSongList, setSearchSongList] = useState([])\r\n\tconst [attachedSongs, setAttachedSongs] = useState([])\r\n\tconst [attachedAlbums, setAttachedAlbums] = useState([])\r\n\tconst [attachedAuthors, setAttachedAuthors] = useState([])\r\n\tconst [resultPlaylists, setResultPlaylists] = useState(yourPlaylists)\r\n\tconst [resultAuthorList, setResultAuthorList] = useState(yourAuthors)\r\n\tconst [inResponseNames, setInResponseNames] = useState([])\r\n\tconst [attachedSongsNames, setAttachedSongsNames] = useState([])\r\n\tconst attachWindowRef = useRef(null)\r\n\tuseOutsideClick(attachWindowRef, setOpenAttachWindow)\r\n\r\n\tfunction sendMessageFull() {\r\n\t\tsendMessage(chatId, chatData, currentUser.uid, messageText, attachedSongs, attachedAlbums, attachedAuthors, inResponseToMessage);\r\n\t\tsetMessageText(\"\");\r\n\t\tsetAttachedSongs([]);\r\n\t\tsetAttachedAuthors([]);\r\n\t\tsetAttachedAlbums([]);\r\n\t\tsetInResponseToMessage([])\r\n\t\tsetOpenAttachWindow(false)\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif (searchValue.length === 0) {\r\n\t\t\tsetAllFoundSongs(yourSongs)\r\n\t\t}\r\n\t}, [searchValue])\r\n\r\n\tfunction removeMessageFromResponseList(messageId) {\r\n\t\tsetInResponseToMessage(inResponseToMessage.filter(id => id !== messageId))\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(messageText.length === 0){\r\n\t\t\tfirestore.collection('chats').doc(chatId).update({\r\n\t\t\t\ttyping:chatData.typing.filter(id=>id !== currentUser.uid)\r\n\t\t\t})\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif(!chatData.typing.includes(currentUser.uid)){\r\n\t\t\t\tconst tempArray = chatData.typing\r\n\t\t\t\ttempArray.push(currentUser.uid)\r\n\t\t\t\tfirestore.collection('chats').doc(chatId).update({\r\n\t\t\t\t\ttyping:tempArray\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}, [messageText])\r\n\r\n\t\r\n\tuseEffect(() => {\r\n\t\tsetInResponseNames([])\r\n\t\tinResponseToMessage.forEach(async id => {\r\n\r\n\t\t\tconst name = (await firestore.collection('users').doc(otherMessages[id].sender).get()).data().displayName\r\n\t\t\tsetInResponseNames(prev => [...prev, name])\r\n\t\t})\r\n\t}, [inResponseToMessage.length])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetAttachedSongsNames([])\r\n\t\tattachedSongs.forEach(async id => {\r\n\t\t\tconst name = (await firestore.collection('songs').doc(id).get()).data().name\r\n\t\t\tsetAttachedSongsNames(prev => [...prev, name])\r\n\t\t})\r\n\t}, [attachedSongs.length])\r\n\r\n\treturn (\r\n\t\t<div className=\"chatInput\" style={openAttachWindow ? { borderRadius: \"0 0 var(--standartBorderRadius) var(--standartBorderRadius)\", transition: \".2s\" } : {}} ref={attachWindowRef}>\r\n\t\t\t<div className=\"attachWindow\" style={openAttachWindow ? { height: \"400px\", opacity: '1' } : {}} >\r\n\t\t\t\t{openAttachWindow ?\r\n\t\t\t\t\t<div style={openAttachWindow ? { maxHeight: '100%', overflowY: 'auto' } : { display: 'none' }}>\r\n\t\t\t\t\t\t<SearchBar\r\n\t\t\t\t\t\t\tvalue={searchValue}\r\n\t\t\t\t\t\t\tsetValue={setSearchValue}\r\n\t\t\t\t\t\t\tsetAllFoundSongs={setAllFoundSongs}\r\n\t\t\t\t\t\t\tsetResultPlaylists={setResultPlaylists}\r\n\t\t\t\t\t\t\tsetResultAuthorList={setResultAuthorList}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<SongList listOfSongs={allFoundSongs} source={'no'} listOfChosenSongs={attachedSongs} setListOfSongs={setAttachedSongs} />\r\n\t\t\t\t\t\t<AuthorsList listOfAuthors={resultAuthorList} listOfChosenAuthors={attachedAuthors} setListOfChosenAuthors={setAttachedAuthors} />\r\n\t\t\t\t\t\t<AlbumList listOfAlbums={resultPlaylists} loading={false} listOfChosenAlbums={attachedAlbums} setListOfChosenAlbums={setAttachedAlbums} />\r\n\t\t\t\t\t</div> :\r\n\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"inResponseArea\" style={inResponseToMessage.length || attachedSongsNames.length || attachedAuthors.length || attachedAlbums.length ? {} : { height: '0', padding: '0', opacity: '0', top: \"0\", visibility: 'hidden' }}>\r\n\t\t\t\t<div className=\"responseMessages\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t{inResponseToMessage.map((id, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"responseItem\" key={id}>\r\n\t\t\t\t\t\t\t\t<h5 style={otherMessages[id].sender === currentUser.uid ? { color: \"var(--lightPurple)\" } : {}}>{inResponseNames[index]}</h5>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{shortWord(otherMessages[id].message, 35)}\r\n\t\t\t\t\t\t\t\t\t<span style={{ marginLeft: '5px', color: 'var(--reallyLightBlue)' }}>\r\n\t\t\t\t\t\t\t\t\t\t{findWhatToWriteInResponseToItem(otherMessages[id])}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<button onClick={() => removeMessageFromResponseList(id)} className=\"removeMessageFromResponse\">\r\n\t\t\t\t\t\t\t\t\t<FiX />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<AttachedItemsInChatInput attachedItems = {attachedSongs} setAttachedItems = { setAttachedSongs} icon = {<CgMusicNote />}/>\r\n\t\t\t\t<AttachedItemsInChatInput attachedItems = {attachedAuthors} setAttachedItems = { setAttachedAuthors} icon = {<FiUser />}/>\r\n\t\t\t\t<AttachedItemsInChatInput attachedItems = {attachedAlbums} setAttachedItems = { setAttachedAlbums} icon = {<BiAlbum />}/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"attachAndEmojis\">\r\n\t\t\t\t<div className=\"attachBtn\">\r\n\t\t\t\t\t<button onClick={() => { setOpenAttachWindow(!openAttachWindow) }}>\r\n\t\t\t\t\t\t<ImAttachment />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input type=\"text\" style={{ background: 'var(--lightGrey)', border: 'none', outline: 'none', minHeight: '100%' }} value={messageText} onChange={(e) => { setMessageText(e.target.value) }} onKeyUp={(e) => { if (e.key === 'Enter') { sendMessageFull() } }} />\r\n\t\t\t\t{/* <div className=\"emojis\">\r\n\t\t\t\t\t<div className=\"emojiItem\">\r\n\t\t\t\t\t\t<FcLike />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"emojiItem\" style={{ color: 'var(--red)' }}>\r\n\t\t\t\t\t\t<AiFillFire />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"emojiItem\" style={{ color: 'var(--lightBlue)' }}>\r\n\t\t\t\t\t\t<AiFillLike />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> */}\r\n\t\t\t</div>\r\n\t\t\t<button className=\"sendBtn\" onClick={() => { sendMessageFull() }}>\r\n\t\t\t\t<MdSend />\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport displayDate from '../../functions/displayDate'\r\n\r\nexport const DateOnTop = ({date}) => {\r\n\treturn (\r\n\t\t<div className = \"DateOnTop\">\r\n\t\t\t{displayDate(date)}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport {SmallImages} from '../AuthorPage/SmallImages'\r\nexport const TypingAnimation = ({ typingPeople }) => {\r\n\tconst [typingPeopleData, setTypingPeopleData] = useState([])\r\n\tconst {currentUser} = useAuth()\r\n\tuseEffect(() => {\r\n\t\tsetTypingPeopleData([])\r\n\t\ttypingPeople.map(async personId=>{\r\n\t\t\tconst personData = (await firestore.collection('users').doc(personId).get()).data()\r\n\t\t\tif(personData.uid !== currentUser.uid) setTypingPeopleData(prev=>[...prev, personData])\r\n\t\t})\r\n\t}, [typingPeople])\r\n\treturn typingPeopleData.length > 0 ? (\r\n\t\t<div className = \"typingWrapper\">\r\n\t\t\t<SmallImages imagesList = {typingPeopleData.map(person=>person.photoURL)} borderColor = {'var(--navItemColor)'}/>\r\n\t\t\t<div className=\"TypingAnimation\">\r\n\t\t\t\t<span className=\"typingCircle\"></span>\r\n\t\t\t\t<span className=\"typingCircle\"></span>\r\n\t\t\t\t<span className=\"typingCircle\"></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t) : null\r\n}\r\n","import React, { createRef } from 'react'\r\nimport { useState } from 'react'\r\nimport { useHistory, useRouteMatch } from 'react-router'\r\nimport { ChatHeader } from '../components/ChatPage/ChatHeader'\r\nimport { MessageItem } from '../components/ChatPage/MessageItem'\r\nimport { DisplayChatMessages } from '../components/ChatPage/DisplayChatMessages'\r\nimport { useRef } from 'react'\r\nimport { ChatInput } from '../components/AuthorPage/ChatInput'\r\nimport { useEffect } from 'react'\r\nimport { firestore } from '../firebase'\r\nimport { useAuth } from '../functionality/AuthContext'\r\nimport { LoadingCircle } from '../components/Basic/LoadingCircle'\r\nimport displayDate from '../functions/displayDate'\r\nimport { DateOnTop } from '../components/ChatPage/DateOnTop'\r\nimport { TypingAnimation } from '../components/ChatPage/TypingAnimation'\r\nexport const DialoguePage = () => {\r\n\tconst match = useRouteMatch('/chat/:chatId')\r\n\tconst { currentUser } = useAuth()\r\n\tconst { chatId } = match.params\r\n\tconst [messageText, setMessageText] = useState(\"\")\r\n\tconst [chatData, setChatData] = useState([])\r\n\tconst scrollToBottomElementRef = useRef(null)\r\n\tconst messagesWindowRef = useRef(null)\r\n\t\r\n\r\n\tconst [loading, setLoading] = useState(true)\r\n\r\n\tconst [messageList, setMessageList] = useState([])\r\n\tconst [inResponseToMessage, setInResponseToMessage] = useState([])\r\n\tconst [currentDateOnTop, setCurrentDateOnTop] = useState(\"\")\r\n\tconst [dateRefsArray, setDateRefsArray] = useState([])\r\n\tconst history = useHistory()\r\n\tconst scrollToMyRef = () => {\r\n\t\tconst scroll = messagesWindowRef.current.scrollHeight - messagesWindowRef.current.clientHeight;\r\n\t\tmessagesWindowRef.current.scrollTo(0, scroll);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tconst unsubscribe = firestore.collection('chats').doc(chatId)\r\n\t\t\t.onSnapshot(snapshot => {\r\n\t\t\t\tsetChatData(snapshot.data())\r\n\t\t\t\tsetMessageList(snapshot.data().messages)\r\n\t\t\t\t\r\n\t\t\t\tsetCurrentDateOnTop(snapshot.data().messages.length?snapshot.data().messages[0].sentTime:new Date().toString())\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t\treturn () => {\r\n\t\t\tunsubscribe()\r\n\t\t}\r\n\t}, [firestore, chatId])\r\n\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tif (chatData.participants !== undefined) {\r\n\t\t\tif (!chatData.participants.includes(currentUser.uid)) history.push('/chat')\r\n\t\t}\r\n\t}, [chatData])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (messagesWindowRef.current !== null && messageList.length > 0) scrollToMyRef()\r\n\t}, [messageList])\r\n\r\n\tfunction findTopDate(e){\r\n\t\tdateRefsArray.forEach(ref=>{\r\n\t\t\tif(ref.current !== null) {\r\n\t\t\t\tif(ref.current.offsetTop - 70 <= e.target.scrollTop) setCurrentDateOnTop(ref.current.innerHTML)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"DialoguePage\">\r\n\t\t\t{\r\n\t\t\t\tloading ?\r\n\t\t\t\t\t<LoadingCircle /> :\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<ChatHeader data={chatData} />\r\n\t\t\t\t\t\t<DateOnTop date = {currentDateOnTop}/>\r\n\t\t\t\t\t\t<div className=\"chatMessagesWindow\" ref={messagesWindowRef} onScroll = {findTopDate}>\r\n\t\t\t\t\t\t\t<DisplayChatMessages chatId = {chatId} messageList = {messageList} inResponseToMessage = {inResponseToMessage} setInResponseToMessage = {setInResponseToMessage} messagesWindowRef = {messagesWindowRef} setDateRefsArray = {setDateRefsArray}/>\r\n\t\t\t\t\t\t\t<span className=\"scrollToBottomElement\" ref={scrollToBottomElementRef}></span>\r\n\t\t\t\t\t\t\t<TypingAnimation typingPeople = {chatData.typing}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ChatInput \r\n\t\t\t\t\t\t\tchatId={chatId} \r\n\t\t\t\t\t\t\tchatData = {chatData}\r\n\t\t\t\t\t\t\tmessageText={messageText} \r\n\t\t\t\t\t\t\tsetMessageText={setMessageText} \r\n\t\t\t\t\t\t\tinResponseToMessage = {inResponseToMessage} \r\n\t\t\t\t\t\t\tsetInResponseToMessage = {setInResponseToMessage} \r\n\t\t\t\t\t\t\totherMessages = {messageList}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t}\r\n\t\t\t{chatData.wallpaper !== \"undefined\"?<img src={chatData.wallpaper} className = \"chatWallpaper\" alt=\"\"/>:null}\r\n\t\t</div>\r\n\t)\r\n}\r\n","export const LOGIN_ROUTE = '/login'\r\nexport const SIGNUP_ROUTE = '/signup'\r\nexport const HOME_ROUTE = '/home'\r\nexport const LIBRARY_ROUTE = '/library'\r\nexport const SEARCH_ROUTE = '/search'\r\nexport const CHAT_ROUTE = '/chat'\r\nexport const NOTFOUND_ROUTE = '/no-such-page'","import React from 'react'\r\n\r\nexport const FullScreenLoading = ({loading}) => {\r\n\treturn (\r\n\t\t<div className = \"FullScreenLoading\" style = {loading?{}:{opacity:'0', visibility:'hidden'}}>\r\n\t\t\t<img src=\"https://icon-library.com/images/spinner-icon-gif/spinner-icon-gif-28.jpg\" alt=\"\"/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const BlurredBg = () => {\r\n\treturn (\r\n\t\t<div className = \"BlurredBg\">\r\n\t\t\t<div className=\"circle circle1\"></div>\r\n\t\t\t<div className=\"circle circle2\"></div>\r\n\t\t\t<div className=\"circle circle3\"></div>\r\n\t\t\t<div className=\"circle circle4\"></div>\r\n\t\t\t<div className=\"circle circle5\"></div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport Logo from \"../../images/Logo3.svg\"\r\nexport const TitleAndLogo = ({title}) => {\r\n\treturn (\r\n\t\t<div className=\"titleAndLogo\">\r\n\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t<h1>{title}</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"logo\">\r\n\t\t\t\t\t<img src={Logo} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { BiChevronLeft, BiChevronRight } from 'react-icons/bi'\r\nimport { authors } from '../../data/authors'\r\nimport { playlists } from '../../data/playlists'\r\nimport { songs } from '../../data/songs'\r\nimport { firestore } from '../../firebase'\r\nimport checkNumber from '../../functions/checkNumber'\r\nimport { AuthorItemBig } from '../AuthorPage/AuthorItemBig'\r\nimport { PlaylistItem } from '../AuthorPage/PlaylistItem'\r\nimport { SongItem } from '../FullScreenPlayer/SongItem'\r\nimport {LoadingCircle} from '../Basic/LoadingCircle'\r\nimport { BlurredBg } from '../SignIn-Up/BlurredBg'\r\nexport const MainBanner = () => {\r\n\tconst [bannerColors, setBannerColors] = useState([])\r\n\tconst [currentSliderPage, setcurrentSliderPage] = useState(0)\r\n\tconst [loading, setLoading] = useState(true)\r\n\t\r\n\tconst [topAuthor, setTopAuthor] = useState({})\r\n\tconst [topSong, setTopSong] = useState({})\r\n\tconst [topAlbum, setTopAlbum] = useState({})\r\n\t\r\n\tasync function findTop(setFunc, list, criterion) {\r\n\t\tconst response = await (await firestore.collection(list).orderBy(criterion, 'desc').get()).docs[0].data()\r\n\t\tsetFunc(response)\r\n\t\tsetBannerColors(prev=>[...prev, response.imageColors[0]])\r\n\t\tif(list === 'playlists') setLoading(false)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfindTop(setTopAuthor, 'users', 'subscribers')\r\n\t\tfindTop(setTopSong, 'songs', 'listens')\r\n\t\tfindTop(setTopAlbum, 'playlists', 'listens')\r\n\t\t\r\n\t}, [])\r\n\t// function findCurrentPicture(){\r\n\t// \tif(currentSliderPage === 0){\r\n\t// \t\treturn topAuthor.image\r\n\t// \t}\r\n\r\n\t// \tif(currentSliderPage === 1){\r\n\t// \t\treturn topSong.cover\r\n\t// \t}\r\n\r\n\t// \treturn topAlbum.image\r\n\t// }\r\n\treturn (\r\n\t\t<div className = \"MainBanner\" style = {{background:bannerColors[currentSliderPage], boxShadow:`0 0 50px ${bannerColors[currentSliderPage] + 'ab'}`}}>\r\n\t\t\t{loading? <LoadingCircle/>:\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"slider\">\r\n\t\t\t\t\t\t<div className={\"sliderItem \" + (currentSliderPage === 0?\"current\":\"\")} style = {{transform:`translateX(-${currentSliderPage*100}%)`}}>\r\n\t\t\t\t\t\t\t<h3>Most popular artist on platform</h3>\r\n\t\t\t\t\t\t\t<AuthorItemBig data = {topAuthor}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={\"sliderItem \" + (currentSliderPage === 1?\"current\":\"\")} style = {{transform:`translateX(-${currentSliderPage*100}%)`}}>\r\n\t\t\t\t\t\t\t<h3>Most popular song on platform</h3>\r\n\t\t\t\t\t\t\t<SongItem song = {topSong} localIndex = {0} showListens/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={\"sliderItem \" + (currentSliderPage === 2?\"current\":\"\")} style = {{transform:`translateX(-${currentSliderPage*100}%)`}}>\r\n\t\t\t\t\t\t\t<h3>Most popular album on platform</h3>\r\n\t\t\t\t\t\t\t<PlaylistItem playlist = {topAlbum}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className = \"sliderBtns\">\r\n\t\t\t\t\t\t<button onClick = {()=>setcurrentSliderPage(checkNumber(currentSliderPage-1, 2, 0))}><BiChevronLeft/></button>\r\n\t\t\t\t\t\t<button onClick = {()=>setcurrentSliderPage(checkNumber(currentSliderPage+1, 2, 0))}><BiChevronRight/></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* <BlurredBg circleColor = \"#fff\"/> */}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { firestore } from '../../firebase'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport findIfSongIsNew from '../../functions/findIfSongIsNew'\r\nimport { SongList } from '../Basic/SongList'\r\nimport { SongItem } from '../FullScreenPlayer/SongItem'\r\n\r\nexport const RecentSongs = () => {\r\n\tconst { yourAuthors } = useSong()\r\n\tconst [recentSongs, setRecentSongs] = useState([])\r\n\tfunction findRecentSongs(){\r\n\t\tconst tempSongsIds = []\r\n\t\tyourAuthors.forEach((author, i) => {\r\n\t\t\tauthor.ownSongs.forEach(async songId=>{\r\n\t\t\t\tlet songData = (await firestore.collection('songs').doc(songId).get()).data()\r\n\t\t\t\tif(findIfSongIsNew(songData) && !tempSongsIds.includes(songData.id)){\r\n\t\t\t\t\tsetRecentSongs(prev=>[...prev, songData])\r\n\t\t\t\t\ttempSongsIds.push(songData.id)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(yourAuthors !== undefined && yourAuthors.length !== 0 && recentSongs.length === 0) findRecentSongs()\r\n\t}, [])\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<SongList listOfSongs = {recentSongs} source = {{source: `/home`, name: \"New Songs\", image: \"\", songsList: recentSongs}} title = {\"New Songs\"} isNewSong/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport findSimilarArtists from '../../functions/findSimilarArtists'\r\nimport { AuthorItemBig } from '../AuthorPage/AuthorItemBig'\r\nimport { AuthorsList } from '../Basic/AuthorsList'\r\n\r\nexport const RecommendedAuthors = () => {\r\n\tconst { yourAuthors } = useSong()\r\n\tconst [recommendationAuthors, setRecommendationAuthors] = useState([])\r\n\r\n\tconst [uniqueAuthors, setUniqueAuthors] = useState([])\r\n\tconst {currentUser} = useAuth()\r\n\tuseEffect(() => {\r\n\t\tif (yourAuthors !== undefined) {\r\n\t\t\tyourAuthors.forEach((author) => {\r\n\t\t\t\tfindSimilarArtists(author, setRecommendationAuthors)\r\n\t\t\t})\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\trecommendationAuthors.forEach(author=>{\r\n\t\t\tconst uniqueAuthorsUIDSArray = uniqueAuthors.map(author=>author.uid)\r\n\t\t\tif(!currentUser.addedAuthors.includes(author.uid) && !uniqueAuthorsUIDSArray.includes(author.uid)){\r\n\t\t\t\tsetUniqueAuthors(prev=>[...prev, author])\r\n\t\t\t}\r\n\t\t})\r\n}, [recommendationAuthors])\r\n\treturn (\r\n\t\t<div className = \"RecommendedAuthors\">\r\n\t\t\t<AuthorsList listOfAuthors = {uniqueAuthors} title = {\"Recommended Authors\"}/>\r\n\t\t\t{/* <h2>Recommended Authors</h2>\r\n\t\t\t<div className=\"artistsWrapper\">\r\n\t\t\t\t{uniqueAuthors.map((author, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<AuthorItemBig data={author} key={index} />\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</div> */}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const ImportantMessage = ({message, image, button}) => {\r\n\treturn (\r\n\t\t<div className = \"importantMessage\">\r\n\t\t\t<div>\r\n\t\t\t\t{image?<img src={image} alt=\"\" />:null}\r\n\t\t\t\t<h3>{message}</h3>\r\n\t\t\t\t{button?button:null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport {useSong} from '../../functionality/SongPlay/SongContext'\r\nimport { SongList } from '../Basic/SongList'\r\nimport {ImportantMessage} from '../Basic/ImportantMessage'\r\nexport const RecommendedSongs = () => {\r\n\tconst {yourAuthors} = useSong()\r\n\tconst {currentUser} = useAuth()\r\n\tconst [recommendedSongs, setRecommendedSongs] = useState([])\r\n\tfunction fetchRecommendedSongs(){\r\n\t\tconst tempSongsIds = []\r\n\t\tyourAuthors.forEach((author, i) => {\r\n\t\t\tauthor.ownSongs.forEach(async (songId)=>{\r\n\t\t\t\tlet songData = (await firestore.collection('songs').doc(songId).get()).data()\r\n\t\t\t\tif(!currentUser.addedSongs.includes(songId) && !tempSongsIds.includes(songData.id)){\r\n\t\t\t\t\tsetRecommendedSongs(prev=>[...prev, songData])\r\n\t\t\t\t\ttempSongsIds.push(songData.id)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t\t// tempSongArray.sort((songA, songB)=>songB.listens - songA.listens)\r\n\t\t\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchRecommendedSongs()\r\n\t}, [])\r\n\treturn (\r\n\t\t<div className = 'RecommendedSongs'>\r\n\t\t\t<SongList listOfSongs = {recommendedSongs} source = {{source: `/home`, name: \"Recommended Songs\", image: \"\", songsList: recommendedSongs}} title = {\"Recommended Songs\"} displayIfEmpty = {<ImportantMessage message = {\"No songs recommended. Add favorite authors so we could know what to recommend\"} image = {\"https://i.pinimg.com/originals/b2/3d/f6/b23df649311586e74a8455c92eb3d76b.png\"}/>}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport { firestore } from '../../firebase'\r\nimport { LoadingCircle } from '../Basic/LoadingCircle'\r\nimport { SongList } from '../Basic/SongList'\r\n\r\nexport const Top15Songs = () => {\r\n\tconst [topSongs, setTopSongs] = useState([])\r\n\tconst [loading, setLoading] = useState(true)\r\n\r\n\tfunction fetchTopSongs(){\r\n\t\tfirestore.collection('songs').orderBy('listens', 'desc').limit(15).get().then(res=>{\r\n\t\t\tres.docs.forEach(song=>{\r\n\t\t\t\tsetTopSongs(prev=>[...prev, song.data()])\r\n\t\t\t})\r\n\t\t\tsetLoading(false)\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true)\r\n\t\tfetchTopSongs()\r\n\t}, [])\r\n\treturn !loading?(\r\n\t\t<SongList \r\n\t\t\tlistOfSongs = {topSongs} \r\n\t\t\tsource = {{source:`/home`,name:\"Top 15 Songs\", image:\"https://media.istockphoto.com/vectors/fire-icon-illustration-for-design-stock-vector-vector-id931601050?k=6&m=931601050&s=170667a&w=0&h=fhRQfwwsW6aXK9OSDM-yj842SFFl2Q9ll6ch-xCK5es=\", songsList:topSongs}}\r\n\t\t\ttitle = {'Top 15 Songs'}\r\n\t\t\tshowListens\t\r\n\t\t\tshowCount\r\n\t\t/>\r\n\t):<LoadingCircle/>\r\n}\r\n","export default __webpack_public_path__ + \"static/media/wave2.f62cb572.svg\";","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport normalizeString from '../../functions/normalizeString'\r\nimport shortWord from '../../functions/shortWord'\r\nimport {HiPause, HiPlay} from 'react-icons/hi'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { firestore } from '../../firebase'\r\nimport { useEffect } from 'react'\r\nexport const LibraryPlaylistItem = ({playlist}) => {\r\n\tconst playlistDate = new Date(playlist.creationDate)\r\n\tconst {setCurrentSongQueue, setCurrentSongPlaylistSource, playSong, setCurrentSongInQueue, setCurrentSong, currentSongPlaylistSource, songRef, setPlay, play} = useSong()\r\n\tconst [playlistSongs, setPlaylistSongs] = useState([])\r\n\tfunction fetchSongsInAlbum() {\r\n\t\tif(playlist.length !== 0){\r\n\t\t\tplaylist.songs.map(async songId=>{\r\n\t\t\t\tlet albumSong = (await firestore.collection('songs').doc(songId).get()).data()\r\n\t\t\t\tsetPlaylistSongs(prev=>[...prev, albumSong])\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfunction playChosenPlaylist(e){\r\n\t\te.preventDefault()\r\n\t\tif(currentSongPlaylistSource.name === playlist.name){\r\n\t\t\tplaySong()\r\n\t\t\treturn \r\n\t\t}\r\n\t\tfetchSongsInAlbum()\r\n\t\t\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif(playlistSongs.length){\r\n\t\t\tsetCurrentSongQueue(playlistSongs)\r\n\t\t\tsetCurrentSongInQueue(0)\r\n\t\t\tsetCurrentSong(playlistSongs[0].id)\r\n\t\t\tsongRef.current.play()\r\n\t\t\tsetPlay(true)\r\n\t\t\tsetCurrentSongPlaylistSource({source:`/albums/${playlist.id}`, name:playlist.name, image:playlist.image, songsList:playlistSongs})\r\n\t\t}\r\n\t}, [playlistSongs.length])\r\n\r\n\treturn (\r\n\t\t<Link to={`/albums/${playlist.id}`} className = \"playlistWrapper\">\r\n\t\t\t<div className=\"library playlistItem\">\r\n\t\t\t\t{playlist.image?<div className = \"playlistImageWrapper\"><img src={playlist.image} alt=\"\" /></div>:<h1>{playlist.name.split(' ')[0][0]}{playlist.name.split(' ')[1][0]}</h1>}\r\n\t\t\t\t<h2 style = {{background:playlist.imageColors[2]}}>{shortWord(playlist.name, 10) }</h2>\r\n\t\t\t\t<button onClick = {playChosenPlaylist}>\r\n\t\t\t\t\t{(currentSongPlaylistSource.name === playlist.name) && play?<HiPause/>:<HiPlay/>}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport wave from '../../images/wave2.svg'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport {LibraryPlaylistItem} from '../../components/LibraryPage/LibraryPlaylistItem'\r\nimport { SongList } from '../Basic/SongList'\r\nimport { Link } from 'react-router-dom'\r\nexport const SongsPage = () => {\r\n\tconst {yourSongs, yourPlaylists } = useSong()\r\n\tconst {currentUser} = useAuth()\r\n\treturn (\r\n\t\t<div className = \"SongsPage\">\r\n\t\t\t<div className=\"playLists\">\r\n\t\t\t\t<div className=\"playlistContent\">\r\n\t\t\t\t\t{yourPlaylists.map((p, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<LibraryPlaylistItem playlist = {p} key = {index}/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"playlistsBackground\">\r\n\t\t\t\t\t<img src={wave} alt=\"erwerrnjeqjweqwqeqwewerbjfrwjfbewjerbh\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"yourSongsList\">\r\n\t\t\t\t<SongList listOfSongs = {yourSongs} source = {{ source: '/library', name: \"Your Library\", image: currentUser.photoURL, songsList: yourSongs}} showSearch displayIfEmpty = {<Link to = \"/search\"><button className = \"standartButton\">Search for songs</button></Link>}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { AddPlaylist } from '../AddWindow/AddPlaylist'\r\n\r\nexport const CreatePlaylistPage = () => {\r\n\treturn (\r\n\t\t<div className = 'CreatePlaylistPage'>\r\n\t\t\t<AddPlaylist/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport {PlaylistItem} from '../AuthorPage/PlaylistItem'\r\nimport {BiFolderPlus} from 'react-icons/bi'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport { CreatePlaylistPage } from './CreatePlaylistPage'\r\nexport const PlaylistsPage = () => {\r\n\tconst {yourPlaylists} = useSong()\r\n\tconst {toggleModal, setContent} = useModal()\r\n\treturn (\r\n\t\t<div className = \"PlaylistsPage\">\r\n\t\t\t<button className = \"createPlaylistBtn\" onClick = {()=>{toggleModal(); setContent(<CreatePlaylistPage/>)}}>\r\n\t\t\t\t<BiFolderPlus/>\r\n\t\t\t\tCreate Playlist\r\n\t\t\t</button>\r\n\t\t\t<div className=\"playlistsContainer\">\r\n\t\t\t\t{yourPlaylists && yourPlaylists.map((playlist, index)=>{\r\n\t\t\t\t\treturn <PlaylistItem playlist = {playlist} key = {playlist.id}/>\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport {AuthorItemBig} from '../AuthorPage/AuthorItemBig'\r\nexport const AuthorsPage = () => {\r\n\tconst {yourAuthors} = useSong()\r\n\treturn (\r\n\t\t<div className = \"AuthorsPage\">\r\n\t\t\t<div className=\"authorsContainer\">\r\n\t\t\t\t{yourAuthors.map((authorData)=>{\r\n\t\t\t\t\treturn <AuthorItemBig data = {authorData} key = {authorData.uid}/>\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { firestore } from '../../firebase'\r\n\r\nexport const IsUserOnlineCircle = ({userUID}) => {\r\n\tconst [isOnline, setIsOnline] = useState(false)\r\n\tuseEffect(() => {\r\n\t\tconst unsubscribe = firestore.collection('users').doc(userUID)\r\n\t\t.onSnapshot(doc => {\r\n\t\t\tif(userUID !== undefined){\r\n\t\t\t\tconst fiveMinutesAgo = new Date().getTime() - 300000\r\n\t\t\t\tconst isOnline = doc.data().online > fiveMinutesAgo\r\n\t\t\t\tsetIsOnline(isOnline)\r\n\t\t\t}\r\n\t\t })\r\n\t\treturn () => {\r\n\t\t\tunsubscribe()\r\n\t\t}\r\n\t}, [firestore, userUID])\r\n\treturn (\r\n\t\tisOnline?<div className = \"onlineCircle\"></div>:null\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { findAmountOfUnseenMessages } from '../../functions/findAmountOfUnseenMessages'\r\nexport const AmountOfUnseenMessages = ({amountOfUnseen}) => {\r\n\t\r\n\treturn amountOfUnseen !== 0?(\r\n\t\t<div className = \"AmountOfUnseenMessages\">\r\n\t\t\t{amountOfUnseen}\r\n\t\t</div>\r\n\t):null\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { BiAlbum } from 'react-icons/bi'\r\nimport { FiMusic, FiUser } from 'react-icons/fi'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport {BsDot} from 'react-icons/bs'\r\nimport shortWord from '../../functions/shortWord'\r\nimport { SeenByCircle } from './SeenByCircle'\r\nexport const LastSentMessage = ({ messages }) => {\r\n\tconst {currentUser} = useAuth()\r\n\tconst [lastAttachedItem, setLastAttachedItem] = useState(\"\")\r\n\tconst [shouldPutDot, setShouldPutDot] = useState(false)\r\n\tconst [lastMessage, setLastMessage] = useState(\"\")\r\n\tconst messageIcons = [null, <FiMusic />, <BiAlbum />, <FiUser />]\r\n\tconst [lastIcon, setLastIcon] = useState(0)\r\n\tasync function findWhatToWriteUnderName() {\r\n\t\tif (messages !== undefined) {\r\n\t\t\tconst lastAttachedItem = messages[messages.length - 1]\r\n\t\t\tsetLastMessage(str => str += lastAttachedItem.message)\r\n\t\t\tsetShouldPutDot(lastAttachedItem.message.length !== 0) \r\n\t\t\tif (lastAttachedItem.attachedSongs.length) {\r\n\t\t\t\tconst songName = (await firestore.collection('songs').doc(lastAttachedItem.attachedSongs[0]).get()).data().name\r\n\t\t\t\tsetLastIcon(1)\r\n\t\t\t\tsetLastAttachedItem(str => str += songName)\r\n\t\t\t}\r\n\t\t\tif (lastAttachedItem.attachedAlbums.length) {\r\n\t\t\t\tconst playlistName = (await firestore.collection('playlists').doc(lastAttachedItem.attachedAlbums[0]).get()).data().name\r\n\t\t\t\tsetLastIcon(2)\r\n\t\t\t\tsetLastAttachedItem(str => str +=playlistName)\r\n\t\t\t}\r\n\t\t\tif (lastAttachedItem.attachedAuthors.length) {\r\n\t\t\t\tconst authorName = (await firestore.collection('users').doc(lastAttachedItem.attachedAuthors[0]).get()).data().displayName\r\n\t\t\t\tsetLastIcon(3)\r\n\t\t\t\tsetLastAttachedItem(str => str +=authorName)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfindWhatToWriteUnderName()\r\n\t}, [])\r\n\treturn (\r\n\t\t<div className=\"messageShowOutside\">\r\n\t\t\t{messages[messages.length - 1].sender === currentUser.uid?<span style = {{marginRight:'5px'}}>You:</span>:null}\r\n\t\t\t{shortWord(lastMessage, 30)}\r\n\t\t\t{shouldPutDot && lastAttachedItem.length?<BsDot/>:null}\r\n\t\t\t{messageIcons[lastIcon]}\r\n\t\t\t{lastAttachedItem}\r\n\t\t\t<SeenByCircle listOfSeen = {messages[messages.length - 1].seenBy}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport displayDate from '../../functions/displayDate'\r\nimport { findAmountOfUnseenMessages } from '../../functions/findAmountOfUnseenMessages'\r\nimport { IsUserOnlineCircle } from '../Basic/IsUserOnlineCircle'\r\nimport { AmountOfUnseenMessages } from './AmountOfUnseenMessages'\r\nimport { LastSentMessage } from './LastSentMessage'\r\n\r\nexport const ChatItem = ({ chatData }) => {\r\n\tconst { currentUser } = useAuth()\r\n\tconst { chatName, chatImage, participants, messages } = chatData\r\n\tconst [otherPerson, setOtherPerson] = useState({})\r\n\tconst [amountOfUnseen, setAmountOfUnseen] = useState(0)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetAmountOfUnseen(findAmountOfUnseenMessages(messages, currentUser))\r\n\t}, [])\r\n\tasync function fetchOtherPerson() {\r\n\t\tconst otherPersonId = participants.find(personId => personId !== currentUser.uid)\r\n\t\tconst person = (await firestore.collection('users').doc(otherPersonId).get()).data()\r\n\t\tsetOtherPerson(person)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (chatName === '') {\r\n\t\t\tfetchOtherPerson()\r\n\t\t}\r\n\t}, [])\r\n\treturn chatData?(\r\n\t\t<Link to={`/chat/${chatData.id}`}>\r\n\t\t\t<div className={\"ChatItem \" + (amountOfUnseen > 0?\"unseen\":\"\")} >\r\n\t\t\t\t<div className=\"chatItemImage\">\r\n\t\t\t\t\t<img src={chatImage || otherPerson.photoURL} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<IsUserOnlineCircle userUID = {otherPerson.uid}/>\r\n\t\t\t\t<div style={{ width: '100%' }}>\r\n\t\t\t\t\t<h4 style={{ display: 'flex', justifyContent: 'space-between', width: '100%' }}>\r\n\t\t\t\t\t\t<span>{chatName || otherPerson.displayName}</span>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{messages.length?<span style={{ opacity: '.6', fontWeight: '500', fontSize: '.8em' }}>{displayDate(messages[messages.length - 1].sentTime, chatData && ( Date.now() - new Date(messages[messages.length - 1].sentTime).getTime()) > 86000000 ? 0 : 2)}</span>:null}\r\n\t\t\t\t\t\t\t<AmountOfUnseenMessages amountOfUnseen = {amountOfUnseen}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t\t{messages.length?<p style={messages[messages.length - 1].sender !== currentUser.uid ? { color: '#fff' } : {}}>{<LastSentMessage messages={messages} />}</p>:null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t):null\r\n}\r\n","export function findAmountOfUnseenMessages(messages, currentUser) {\r\n\treturn messages.reduce((accum, message)=>{\r\n\t\tif(message.sender !== currentUser.uid){\r\n\t\t\tif(message.seenBy !== undefined){\r\n\t\t\t\tif(!message.seenBy.includes(currentUser.uid)){\r\n\t\t\t\t\tconsole.log(\"i'm here\")\r\n\t\t\t\t\treturn ++accum\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn accum\r\n\t}, 0)\r\n}","import React, { useState } from 'react'\r\nimport { useRef } from 'react'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport { useOutsideClick } from '../../hooks/useOutsideClick'\r\n\r\nexport const ModalWindow = ({...restProps}) => {\r\n\tconst {openModal, setOpenModal, content} = useModal()\r\n\tconst modalRef = useRef(null)\r\n\tuseOutsideClick(modalRef, setOpenModal)\r\n\treturn (\r\n\t\t<div className = \"modal_darkBg\" style = {!openModal?{opacity:0, visibility:'hidden', transform:'scale(.95)'}:{}} >\r\n\t\t\t<div className = \"ModalWindow\" {...restProps} ref = {modalRef}>\r\n\t\t\t\t{content}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { createChat } from '../../functions/createChat'\r\nimport getUID from '../../functions/getUID'\r\nimport { DownloadPhotoButton } from '../Basic/DownloadPhotoButton'\r\nimport { ErrorPlate } from '../Basic/ErrorPlate'\r\nimport { PersonTiny } from '../Basic/PersonTiny'\r\nimport { SearchBar } from '../Basic/SearchBar'\r\nimport {findChatURL} from '../../functions/findChatURL'\r\nexport const CreateChat = () => {\r\n\tconst {currentUser} = useAuth()\r\n\tconst { yourFriends } = useSong()\r\n\tconst [searchValue, setSearchValue] = useState(\"\")\r\n\tconst [foundFriends, setFoundFriends] = useState(yourFriends)\r\n\tconst [chosenFriends, setChosenFriends] = useState([])\r\n\tconst [chatCover, setChatCover] = useState(\"\")\r\n\tconst [chatName, setChatName] = useState(\"\")\r\n\tconst [errorMessage, setRrrorMessage] = useState(\"\")\r\n\tconst chatId = getUID()\r\n\tconst history = useHistory()\r\n\tconst [shouldCreate, setShouldCreate] = useState(false)\r\n\tconst [friendChatId, setFriendChatId] = useState(0)\r\n\tuseEffect(() => {\r\n\t\tif(chosenFriends.length >= 1){\r\n\t\t\tfindChatURL(chosenFriends, currentUser, setShouldCreate, setFriendChatId)\r\n\t\t}\r\n\t}, [chosenFriends])\r\n\treturn (\r\n\t\t<div className=\"CreateChat\">\r\n\t\t\t<SearchBar value={searchValue} setValue={setSearchValue} setResultAuthorList={setFoundFriends} focus inputText={\"Search for friends\"} defaultSearchMode={\"authors\"} />\r\n\t\t\t{foundFriends.map(friend => {\r\n\t\t\t\treturn <PersonTiny data={friend} chosenArray={chosenFriends} setChosenArray={setChosenFriends} />\r\n\t\t\t})}\r\n\t\t\t{chosenFriends.length > 1 && shouldCreate ?\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"text\" style={{ marginBottom: '10px' }} className=\"standartInput\" placeholder={\"Enter chat name\"} value={chatName} onChange={e => setChatName(e.target.value)} />\r\n\t\t\t\t\t<DownloadPhotoButton setErrorMessage={setRrrorMessage} setImageLocalPath={() => { return null }} downloadedPhoto={chatCover} setDownloadedPhoto={setChatCover} place={'chatCovers/'} btnText = {\"Download chat image\"}/>\r\n\t\t\t\t</div> : null\r\n\t\t\t}\r\n\t\t\t<ErrorPlate errorMessage={errorMessage} />\r\n\t\t\t{chosenFriends.length >= 1?<button className=\"addSongBtn\" onClick = {()=>{if(shouldCreate) {createChat([currentUser.uid, ...chosenFriends], chatId, chatName, chatCover, [currentUser.uid]); history.push(`/chat/${chatId}`)} else history.push(`/chat/${friendChatId}`)}}>{shouldCreate?\"Create Chat\":\"Go to chat\"}</button>:null}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const SwitchToggle = ({boolValue, setBoolValue}) => {\r\n\treturn (\r\n\t\t<div className = \"SwitchToggle\" onClick = {()=>setBoolValue(!boolValue)}>\r\n\t\t\t<div className=\"switchInnerCircle\" style = {boolValue?{transform:'translateX(100%)', background:'var(--green)'}:{}}></div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { CHAT_ROUTE, HOME_ROUTE, LIBRARY_ROUTE, LOGIN_ROUTE, SEARCH_ROUTE, SIGNUP_ROUTE } from \"./utils/consts\";\r\nimport {LogInPage} from './pages/LogInPage'\r\nimport {SignUpPage} from './pages/SignUpPage'\r\nimport { Home } from \"./pages/Home\";\r\nimport { SearchPage } from \"./pages/SearchPage\";\r\nimport { LibraryPage } from \"./pages/LibraryPage\";\r\nimport { ChatPage } from \"./pages/ChatPage\";\r\nexport const publicRoutes = [\r\n\t{\r\n\t\tpath:LOGIN_ROUTE,\r\n\t\tComponent:LogInPage,\r\n\t},\r\n\t{\r\n\t\tpath:SIGNUP_ROUTE,\r\n\t\tComponent:SignUpPage,\r\n\t}\r\n]\r\n\r\nexport const privateRoutes = [\r\n\t{\r\n\t\tpath:HOME_ROUTE,\r\n\t\tComponent:Home,\r\n\t},\r\n\t{\r\n\t\tpath:LIBRARY_ROUTE,\r\n\t\tComponent:LibraryPage,\r\n\t},\r\n\t{\r\n\t\tpath:SEARCH_ROUTE,\r\n\t\tComponent:SearchPage,\r\n\t},\r\n\t{\r\n\t\tpath:CHAT_ROUTE,\r\n\t\tComponent:ChatPage,\r\n\t}\r\n]","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { ErrorPlate } from '../components/Basic/ErrorPlate'\r\nimport { FullScreenLoading } from '../components/Basic/FullScreenLoading'\r\nimport { BlurredBg } from '../components/SignIn-Up/BlurredBg'\r\nimport { TitleAndLogo } from '../components/SignIn-Up/TitleAndLogo'\r\nimport { useAuth } from '../functionality/AuthContext'\r\nimport { HOME_ROUTE, LOGIN_ROUTE, SIGNUP_ROUTE } from '../utils/consts'\r\n\r\nexport const LogInPage = () => {\r\n\tconst {login} = useAuth()\r\n\tconst [email, setEmail] = useState(\"\")\r\n\tconst [password, setPassword] = useState(\"\")\r\n\tconst [errorMessage, setErrorMessage] = useState(\"\")\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst isValid = email.length !== 0 && password.length !== 0\r\n\tasync function handleSubmit(e){\r\n\t\te.preventDefault()\r\n\t\tif(!isValid){\r\n\t\t\treturn setErrorMessage(\"One of your fields is totaly empty\")\r\n\t\t}\r\n\t\tawait login(email, password, setErrorMessage, setLoading)\r\n\t}\r\n\treturn (\r\n\t\t<div className = \"In-Up-Container\">\r\n\t\t\t<div className=\"CentralPlate\">\r\n\t\t\t\t<FullScreenLoading loading = {loading}/>\r\n\t\t\t\t<TitleAndLogo title=\"Log In\"/>\r\n\t\t\t\t<ErrorPlate errorMessage = {errorMessage}/>\r\n\t\t\t\t<form onSubmit = {handleSubmit}>\r\n\t\t\t\t\t<input type=\"email\" placeholder=\"Enter your Email\" className=\"emailInput\" onChange = {(e)=>setEmail(e.target.value)}/>\r\n\t\t\t\t\t<input type=\"password\" name=\"\" id=\"\" placeholder=\"Enter your password\" onChange = {(e)=>setPassword(e.target.value)}/>\r\n\t\t\t\t\t<div className=\"inAndUpBtns\">\r\n\t\t\t\t\t\t<button className=\"upBtn\" disabled = {loading}>\r\n\t\t\t\t\t\t\tLog In\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<Link to = {SIGNUP_ROUTE}>\r\n\t\t\t\t\t\t\t<button className=\"inBtn\" >\r\n\t\t\t\t\t\t\t\tCreate new account\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<BlurredBg/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useState } from 'react'\r\nimport '../styles/SignIn-Up.css'\r\nimport { Link } from 'react-router-dom'\r\nimport {HOME_ROUTE, LOGIN_ROUTE} from '../utils/consts'\r\nimport { BlurredBg } from '../components/SignIn-Up/BlurredBg'\r\nimport { TitleAndLogo } from '../components/SignIn-Up/TitleAndLogo'\r\nimport { RadioBtn } from '../components/SignIn-Up/RadioBtn'\r\nimport { useAuth } from '../functionality/AuthContext'\r\nimport {AiOutlineCloudDownload} from 'react-icons/ai'\r\nimport { storage } from '../firebase'\r\nimport { ColorExtractor } from 'react-color-extractor'\r\nimport { FullScreenLoading } from '../components/Basic/FullScreenLoading'\r\nexport const SignUpPage = () => {\r\n\tconst [currentRoleChoice, setCurrentRoleChoice] = useState(1)\r\n\tconst [email, setEmail] = useState(\"\")\r\n\tconst [password, setPassword] = useState(\"\")\r\n\tconst [name, setName] = useState(\"\")\r\n\tconst [errorMessage, setErrorMessage] = useState(\"\")\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst {signup} = useAuth()\r\n\tconst [photoURL, setPhotoURL] = useState(\"\")\r\n\tconst isValid = email.length !== 0 && password.length !== 0 && name.length !== 0\r\n\tconst [imageLocalPath, setImageLocalPath] = useState('')\r\n\tconst [imageColors, setImageColors] = useState([])\r\n\tasync function onFileChange(e){\r\n\t\tconst file = e.target.files[0]\r\n\t\tsetImageLocalPath(URL.createObjectURL(file))\r\n\t\tconst storageRef = storage.ref()\r\n\t\tconst fileRef = storageRef.child(`usersImages/${file.name}`)\r\n\t\tawait fileRef.put(file)\r\n\t\tsetPhotoURL(await fileRef.getDownloadURL())\r\n\t}\r\n\r\n\tasync function handleSubmit(e){\r\n\t\te.preventDefault()\r\n\t\tif(!isValid){\r\n\t\t\treturn setErrorMessage(\"One of your fields is totaly empty\")\r\n\t\t}\r\n\r\n\t\tawait signup(email, name, password, currentRoleChoice, photoURL, imageColors, setErrorMessage, setLoading)\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"In-Up-Container\">\r\n\t\t\t<ColorExtractor src = {imageLocalPath} getColors = {(colors)=>setImageColors(colors)}/>\r\n\t\t\t<div className=\"CentralPlate\">\r\n\t\t\t\t<FullScreenLoading loading = {loading}/>\r\n\t\t\t\t<TitleAndLogo title = \"Sign Up\"/>\r\n\t\t\t\t\r\n\t\t\t\t{errorMessage &&\r\n\t\t\t\t\t<div className = \"Alert\">\r\n\t\t\t\t\t\t{errorMessage}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t<form onSubmit = {handleSubmit}>\r\n\t\t\t\t\t<input type=\"email\" placeholder=\"Enter your Email\" className=\"emailInput\" onChange = {(e)=>setEmail(e.target.value)}/>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter your name\" onChange = {(e)=>setName(e.target.value)}/>\r\n\t\t\t\t\t<input type=\"password\" name=\"\" id=\"\" placeholder=\"Create a password\" onChange = {(e)=>setPassword(e.target.value)}/>\r\n\t\t\t\t\t<div style = {{display:'flex', width:'100%', justifyContent:'center', margin:'5px 0 15px 0'}}>\r\n\t\t\t\t\t\t<RadioBtn label = \"User\" onClick = {()=>setCurrentRoleChoice(0)} currentActive = {currentRoleChoice} id = {0}/>\r\n\t\t\t\t\t\t<RadioBtn label = \"Author\" onClick = {()=>setCurrentRoleChoice(1)} currentActive = {currentRoleChoice} id = {1}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<label className = \"downloadFile\">\r\n\t\t\t\t\t\t<div className = \"downloadPhoto\">\r\n\t\t\t\t\t\t\t{photoURL === ''?<span className = \"downloadBtnText\">\r\n\t\t\t\t\t\t\t\t<AiOutlineCloudDownload/>\r\n\t\t\t\t\t\t\t\tDownload photo\r\n\t\t\t\t\t\t\t</span>:<span className = \"downloadBtnText\">Done</span>}\r\n\t\t\t\t\t\t\t<span className=\"photoLoadLine\" style = {photoURL !== ''?{width:'100%'}:{}}></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input type=\"file\" name=\"\" id=\"\" onChange = {onFileChange}/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div className=\"inAndUpBtns\">\r\n\t\t\t\t\t\t<button className=\"upBtn\" type = \"submit\" disabled = {loading}>\r\n\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<Link to = {LOGIN_ROUTE}>\r\n\t\t\t\t\t\t\t<button className=\"inBtn\" >\r\n\t\t\t\t\t\t\t\tAlready have the account\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<BlurredBg/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import '../styles/HomePage.css'\r\nimport { MainBanner } from '../components/HomePage/MainBanner'\r\nimport { RecentSongs } from '../components/HomePage/RecentSongs'\r\nimport { RecommendedAuthors } from '../components/HomePage/RecommendedAuthors'\r\nimport { RecommendedSongs } from '../components/HomePage/RecommendedSongs'\r\nimport { SongItemLoading } from '../components/Basic/SongItemLoading'\r\nimport { Top15Songs } from '../components/HomePage/Top15Songs'\r\nexport const Home = () => {\r\n\r\nreturn (\r\n\t<div style={{ animation: 'zoomIn .2s forwards' }} className=\"HomePage\">\r\n\t\t<MainBanner />\r\n\t\t<RecentSongs/>\r\n\t\t<RecommendedSongs/>\r\n\t\t<RecommendedAuthors/>\r\n\t\t{/* <DefaultPlaylists/> */}\r\n\t\t<Top15Songs/>\r\n\t</div>\r\n)\r\n}\r\n","import React, { useState } from 'react'\r\nimport \"../styles/LibraryPage.css\"\r\nimport { Slider } from '../components/Tools/Slider'\r\nimport { SongsPage } from '../components/LibraryPage/SongsPage'\r\nimport { PlaylistsPage } from '../components/LibraryPage/PlaylistsPage'\r\nimport { AuthorsPage } from '../components/LibraryPage/AuthorsPage'\r\n\r\nexport const LibraryPage = () => {\r\n\tconst [currentPage, setCurrentPage] = useState(0)\r\n\tconst libraryPages = [<SongsPage/>, <PlaylistsPage/>, <AuthorsPage/>]\r\n\treturn (\r\n\t\t<div className=\"LibraryPage\" style = {{animation:'zoomIn .2s forwards'}}>\r\n\t\t\t<Slider pages = {['Songs', \"Playlists\", \"Authors\"]} currentPage = {currentPage} setCurrentPage = {setCurrentPage}/>\r\n\t\t\t{libraryPages[currentPage]}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport \"../styles/SearchPage.css\"\r\nimport { PlaylistItem } from '../components/AuthorPage/PlaylistItem'\r\nimport { useSong } from '../functionality/SongPlay/SongContext'\r\nimport { BackBtn } from '../components/Basic/BackBtn'\r\nimport { FiSearch, FiX } from 'react-icons/fi'\r\nimport { TitleWithMoreBtn } from '../components/Basic/TitleWithMoreBtn'\r\nimport { firestore } from '../firebase'\r\nimport { LoadingCircle } from '../components/Basic/LoadingCircle'\r\nimport { SearchBar } from '../components/Basic/SearchBar'\r\nimport {AuthorItemBig} from '../components/AuthorPage/AuthorItemBig'\r\nimport { useAuth } from '../functionality/AuthContext'\r\nimport { SongList } from '../components/Basic/SongList'\r\nimport { AuthorsList } from '../components/Basic/AuthorsList'\r\nimport { AlbumList } from '../components/Basic/AlbumList'\r\nexport const SearchPage = () => {\r\n\tconst [searchValue, setSearchValue] = useState(\"\")\r\n\tconst [resultSongList, setResultSongList] = useState([])\r\n\tconst [resultAuthorList, setResultAuthorList] = useState([])\r\n\tconst [resultAlbumList, setResultAlbumList] = useState([])\r\n\tconst [shadowColor, setShadowColor] = useState(\"\")\r\n\tuseEffect(() => {\r\n\t\tsetResultSongList([])\r\n\t\tsetResultAuthorList([])\r\n\t\tsetResultAlbumList([])\r\n\t}, [searchValue])\r\n\r\n\tuseEffect(() => {\r\n\t\tif(resultSongList.length !== 0){\r\n\t\t\tsetShadowColor(resultSongList[0].imageColors[0] + 'a6')\r\n\t\t}\r\n\t\telse if(resultAuthorList.length !== 0){\r\n\t\t\tsetShadowColor(resultAuthorList[0].imageColors[0] + 'a6')\r\n\t\t}\r\n\t\telse if(resultAlbumList.length !== 0){\r\n\t\t\tsetShadowColor(resultAlbumList[0].imageColors[0] + 'a6')\r\n\t\t}\r\n\t\telse setShadowColor(\"\")\r\n\t}, [resultSongList, resultAuthorList, resultAlbumList])\r\n\treturn (\r\n\t\t<div className=\"SearchPage\" style={{ animation: 'zoomIn .2s forwards' }}>\r\n\t\t\t<SearchBar\r\n\t\t\t\tvalue={searchValue}\r\n\t\t\t\tsetValue = {setSearchValue}\r\n\t\t\t\tallFoundSongs = {resultSongList}\r\n\t\t\t\tsetAllFoundSongs = {setResultSongList}\r\n\t\t\t\tsetResultPlaylists = {setResultAlbumList}\r\n\t\t\t\tsetResultAuthorList = {setResultAuthorList}\r\n\t\t\t\tfocus\r\n\t\t\t/>\r\n\r\n\t\t\t<SongList listOfSongs = {resultSongList} source = {{ source: '/search', name: \"Search\", image: \"https://lh3.googleusercontent.com/proxy/PJSN5iZPJhIuQKV-efbS0KD_HoL9nu4cyDmwOfWatZdeOyLBsEtosSWHTw4aK9ZKhrTEW2LGZCGxmH9vYFYx_PT16PIrETeNqijSxA\", songsList:resultSongList }} title = {\"Songs\"} showListens displayIfEmpty = {\"\"}/>\r\n\t\t\t<AuthorsList listOfAuthors = {resultAuthorList} title = {\"Authors\"}/>\r\n\t\t\t<AlbumList listOfAlbums = {resultAlbumList} title = {\"Albums and Playlists\"} loading = {false}/>\r\n\t\t\t<div className=\"colorfullShadow\" style={{ background: shadowColor }}></div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useState } from 'react'\r\nimport { ChatItem } from '../components/ChatPage/ChatItem'\r\nimport { useAuth } from '../functionality/AuthContext'\r\nimport { LoadingCircle } from '../components/Basic/LoadingCircle'\r\nimport '../styles/ChatPage.css'\r\nimport { ModalWindow } from '../components/Basic/ModalWindow'\r\nimport { useFetchFirebaseData } from '../hooks/fetchFirebaseData'\r\nimport {FiPlus} from 'react-icons/fi'\r\nimport { useModal } from '../functionality/ModalClass'\r\nimport {CreateChat} from '../components/ChatPage/CreateChat'\r\nimport { SwitchToggle } from '../components/Basic/SwitchToggle'\r\nexport const ChatPage = () => {\r\n\tconst [yourChats, setYourChats] = useState([])\r\n\tconst {toggleModal, setContent} = useModal()\r\n\tconst { currentUser } = useAuth()\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst [switchValue, setSwitchValue] = useState(false)\r\n\tconst [searchValue, setSearchValue] = useState(\"\")\r\n\tuseFetchFirebaseData(setLoading, 'chats', currentUser.chats, setYourChats, (a, b)=>{if(b.messages.length && a.messages.length) return new Date(b.messages[b.messages.length - 1].sentTime).getTime() - new Date(a.messages[a.messages.length - 1].sentTime).getTime()})\r\n\r\n\treturn (\r\n\t\t<div style={{ animation: 'zoomIn .2s forwards', minHeight: \"100%\" }}>\r\n\t\t\t<div style = {{marginBottom:'10px', display:'flex', alignItems:'start', width:'100%'}}>\r\n\r\n\t\t\t\t<button className = \"standartButton\" onClick = {()=>{toggleModal();setContent(<CreateChat/>)}}>\r\n\t\t\t\t\t<FiPlus/>\r\n\t\t\t\t\tCreate chat\r\n\t\t\t\t</button>\r\n\t\t\t\t<div style = {{display:'flex', alignItems:'center'}}>\r\n\t\t\t\t\t<span style = {{margin:'0px 10px'}}>No sound</span> \r\n\t\t\t\t\t<SwitchToggle boolValue = {switchValue} setBoolValue = {setSwitchValue}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{loading ?\r\n\t\t\t\t<LoadingCircle />\r\n\t\t\t\t:\r\n\t\t\t\t<div className=\"chatsWrapper\">\r\n\t\t\t\t\t{yourChats.map((chat, index) => {\r\n\t\t\t\t\t\treturn <ChatItem chatData={chat} key={index} />\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport {Route, Switch, Redirect} from 'react-router-dom'\r\nimport { AlbumPage } from '../pages/AlbumPage'\r\nimport { AuthorPage } from '../pages/AuthorPage'\r\nimport { DialoguePage } from '../pages/DialoguePage'\r\nimport { privateRoutes, publicRoutes } from '../routes'\r\nimport { HOME_ROUTE, LOGIN_ROUTE} from '../utils/consts'\r\nexport const ContentRouter = () => {\r\n\tconst user = false\r\n\t\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={'/authors/:authorId'} component={AuthorPage} exact/>\r\n\t\t\t<Route path={'/albums/:albumId'} component={AlbumPage} exact/>\r\n\t\t\t<Route path={'/chat/:chatId'} component={DialoguePage} exact/>\r\n\t\t\t{privateRoutes.map(({path, Component}, i)=>{\r\n\t\t\t\treturn <Route path={path} component={Component} exact = {true} key = {i}/>\r\n\t\t\t})}\r\n\t\t\t<Redirect to={HOME_ROUTE} />\r\n\t\t</Switch>\r\n\t)\r\n}\r\n","function amountOfZeros(number) {\r\n\treturn number % 10 === number ? \"0\" + number : number\r\n}\r\n\r\nexport default function correctTimeDisplay(seconds) {\r\n\treturn amountOfZeros(Math.floor(seconds / 60)) + \":\" + amountOfZeros(Math.floor(seconds % 60))\r\n}","import React from 'react'\r\nimport { FaBackward, FaForward, FaPause, FaPlay } from 'react-icons/fa'\r\nimport { TiArrowRepeat, TiArrowShuffle } from 'react-icons/ti'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport checkNumber from '../../functions/checkNumber'\r\nimport correctTimeDisplay from '../../functions/correctTimeDisplay'\r\nimport { displayAuthorsStr } from '../../functions/displayAuthorsStr'\r\nimport { ColorCircles } from './colorCircles'\r\n\r\nexport const Player = ({inputRef, textLimit = 18, linkToAuthors = true}) => {\r\n\tconst { \r\n\t\tfindLen,  \r\n\t\tcurrentTime, \r\n\t\tchangeCurrentTime, \r\n\t\tsongDuration, \r\n\t\tsetRepeatMode, \r\n\t\trepeatMode, \r\n\t\tplay, \r\n\t\tprevSong, \r\n\t\tplaySong, \r\n\t\tnextSong, \r\n\t\tsetShuffleMode, \r\n\t\tshuffleMode, \r\n\t\tdisplayAuthors,\r\n\t\tname, \r\n\t\tauthors, \r\n\t\tcover} = useSong()\r\n\treturn (\r\n\t\t<div className=\"player\">\r\n\t\t\t<div className=\"playerUpperSide\">\r\n\t\t\t\t<div className=\"songCover\">\r\n\t\t\t\t\t<img src={cover} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className = \"nameAndAuthors\">\r\n\t\t\t\t\t<h2 title={name.length > textLimit ? name : null} style={{ overflow: 'hidden' }}>\r\n\t\t\t\t\t\t<div style={name.length > textLimit ? { animation: 'outSideText 17s infinite', whiteSpace: 'nowrap' } : {}}>{name}</div>\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<h3 title={authors.map((el) => ' ' + el.displayName)} style={{ overflow: 'hidden' }}>\r\n\t\t\t\t\t\t{linkToAuthors?<div style={findLen() > textLimit ? { animation: 'outSideText 17s infinite', whiteSpace: 'nowrap' } : {}}>{displayAuthors()}</div>:<div>{displayAuthorsStr(authors, ' & ', 33)}</div>}\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"controlPanel\">\r\n\t\t\t\t<input type=\"range\" min=\"0\" ref={inputRef} step=\"1\" value={currentTime} onChange={(event)=>{changeCurrentTime(event)}} />\r\n\t\t\t\t<div className=\"startAndEndTime\">\r\n\t\t\t\t\t<span>{correctTimeDisplay(currentTime)}</span>\r\n\t\t\t\t\t<span>{correctTimeDisplay(songDuration)}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"btns\">\r\n\t\t\t\t\t<button className=\"shuffleBtn\" onClick={() => setShuffleMode(checkNumber(shuffleMode + 1, 1))} style={shuffleMode ? { background: 'var(--transparentWhite)' } : {}}>\r\n\t\t\t\t\t\t<TiArrowShuffle style={shuffleMode ? { color: 'var(--themeColor)' } : {}} />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button onClick={prevSong}><FaBackward /></button>\r\n\t\t\t\t\t<button onClick={playSong}>{play ? <FaPause /> : <FaPlay />}</button>\r\n\t\t\t\t\t<button onClick={nextSong}><FaForward /></button>\r\n\t\t\t\t\t<button className=\"repeatBtn\" onClick={() => setRepeatMode(checkNumber(repeatMode + 1, 2))} style={repeatMode ? { background: 'var(--transparentWhite)' } : {}}>\r\n\t\t\t\t\t\t<TiArrowRepeat style={repeatMode ? { color: 'var(--themeColor)' } : {}} />\r\n\t\t\t\t\t\t<span style={repeatMode === 2 ? { opacity: 1 } : {}}></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<ColorCircles play={play} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { BiMusic, BiSearch } from \"react-icons/bi\";\r\nimport { FiHome, FiMessageCircle } from \"react-icons/fi\";\r\nimport { CHAT_ROUTE, HOME_ROUTE, LIBRARY_ROUTE, SEARCH_ROUTE } from \"../utils/consts\";\r\n\r\nexport const leftSideBar = [\r\n\t{\r\n\t\tid:0, \r\n\t\ticon:<FiHome/>,\r\n\t\ttitle:'Home',\r\n\t\tlink:HOME_ROUTE\r\n\t},\r\n\t{\r\n\t\tid:1, \r\n\t\ticon:<BiMusic/>,\r\n\t\ttitle:'Library',\r\n\t\tlink:LIBRARY_ROUTE\r\n\t},\r\n\t{\r\n\t\tid:2, \r\n\t\ticon:<BiSearch/>,\r\n\t\ttitle:'Search',\r\n\t\tlink:SEARCH_ROUTE\r\n\t},\r\n\t{\r\n\t\tid:3, \r\n\t\ticon:<FiMessageCircle/>,\r\n\t\ttitle:'Chat',\r\n\t\tlink:CHAT_ROUTE\r\n\t},\r\n\r\n]","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const MobileControlBarItem = ({element, currentPage, setCurrentPage}) => {\r\n\treturn (\r\n\t\t<Link to = {element.link} className = 'MobileControlBarItem' onClick = {()=>setCurrentPage(element.id)} style = {element.id === currentPage?{color:'var(--blue)'}:{}}>\t\r\n\t\t\t{element.icon}\r\n\t\t</Link>\r\n\t)\r\n}\r\n","import React, { useState } from 'react'\r\nimport '../../styles/BottomControlBar.css'\r\nimport {leftSideBar} from '../../data/leftSideBar'\r\nimport { MobileControlBarItem } from '../BottomControlBar/MobileControlBarItem'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { BiUserCircle } from 'react-icons/bi'\r\nimport normalizeString from '../../functions/normalizeString'\r\nexport const BottomControlBar = () => {\r\n\tconst {currentUser} = useAuth()\r\n\tconst userElement = {\r\n\t\ticon:<BiUserCircle/>,\r\n\t\tlink:`/authors/${currentUser.uid}`,\r\n\t}\r\n\tconst [currentPage, setCurrentPage] = useState(\r\n\t\t() => {\r\n\t\t\tlet page = leftSideBar.find((el, i) => {\r\n\t\t\t\tconsole.log(window.location.hash)\r\n\t\t\t\tif (window.location.hash.includes(normalizeString(el.title))) {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false\r\n\t\t\t})\r\n\t\t\treturn page === undefined ? 0 : page.id\r\n\t\t}\r\n\t)\r\n\t\r\n\treturn (\r\n\t\t<div className = \"BottomControlBar\">\r\n\t\t\t{leftSideBar.map((el, i)=>{\r\n\t\t\t\treturn <MobileControlBarItem element = {el} key = {i} currentPage = {currentPage} setCurrentPage = {setCurrentPage}/>\r\n\t\t\t})}\r\n\t\t\t<MobileControlBarItem element = {userElement} currentPage = {currentPage} setCurrentPage = {setCurrentPage}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { Player } from '../FullScreenPlayer/Player'\r\nimport { BottomControlBar } from './BottomControlBar'\r\n\r\nexport const FullBottomSide = () => {\r\n\tconst {setOpenFullScreenPlayer} = useSong()\r\n\treturn (\r\n\t\t<div className = \"FullBottomSide\">\r\n\t\t\t<span onClick = {()=>setOpenFullScreenPlayer(true)}>\r\n\t\t\t\t<Player textLimit = {25} linkToAuthors = {false}/>\r\n\t\t\t</span>\r\n\t\t\t<BottomControlBar/>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const Loading = ({currentTime, timeSpan, id}) => {\r\n\treturn (\r\n\t\t<div className = \"Loading\" id = {id}>\r\n\t\t\t<div className=\"outer\" style = {{pointerEvents:'none'}}>\r\n\t\t\t\t<div className=\"inner\" style = {currentTime/timeSpan < 1?{width:(currentTime/timeSpan)*100 + \"%\"}:{width:0 + \"%\", opacity:'0'}}></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useRef } from 'react'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { Loading } from './Loading'\r\nimport {BiCheckCircle, BiDownArrow, BiUpArrow} from 'react-icons/bi'\r\nimport { FiXCircle } from 'react-icons/fi'\r\nimport useOnScreen from '../../hooks/useOnScreen'\r\nexport const LyricsParagraph = ({ el, index, lyricsModeratorMode, karaokeModeratorTimes,  setKaraokeModeratorTimes, setInputKaraokeTime, inputKaraokeTime }) => {\r\n\tconst { currentSongData, currentParagraph, displayAuthors, changeCurrentTime, play, currentTime, currentParagraphRef, lyrics} = useSong()\r\n\tconst paragraphRef = useRef()\r\n\tconst isVisible = useOnScreen(currentParagraph === index ? currentParagraphRef : paragraphRef)\r\n\tconst paragraphStyle = currentParagraph === index ?\r\n\t{} : window.innerWidth > 1000 ?\r\n\t\tMath.abs(currentParagraph - index) < 2 ?\r\n\t\t\t{ transform: 'scale(.8) translateX(-58px)' } : { transform: 'scale(.75) translateX(-78px)' } :\r\n\t\tMath.abs(currentParagraph - index) < 2 ?\r\n\t\t\t{ transform: 'scale(.8) translateX(-11.5%)' } : { transform: 'scale(.75) translateX(-15.6%)' }\r\n\r\n\tfunction addLyricsBlock(indexOfRelativeElement, direction){\t\t\r\n\t\tconst tempTimes = karaokeModeratorTimes\r\n\t\tif(direction === 'down'){\r\n\t\t\ttempTimes.splice(indexOfRelativeElement + 1, 0, undefined)\r\n\t\t\tsetKaraokeModeratorTimes(tempTimes)\r\n\t\t\treturn currentSongData.lyrics.splice(indexOfRelativeElement + 1, 0, {startTime:\"undefined\", text:\"@loading\"})\r\n\t\t}\r\n\t\t\r\n\t\ttempTimes.splice(indexOfRelativeElement, 0, undefined)\r\n\t\tsetKaraokeModeratorTimes(tempTimes)\r\n\t\tcurrentSongData.lyrics.splice(indexOfRelativeElement, 0, {startTime:\"undefined\", text:\"@loading\"})\r\n\t}\r\n\r\n\tfunction inputKaraoke(e, index) {\r\n\t\t// console.log(\"ewqewqewq\")\r\n\t\tlet tempArray = karaokeModeratorTimes\r\n\t\tlet convertedToNumber = e.target.value\r\n\t\ttempArray[index] = convertedToNumber\r\n\t\tsetInputKaraokeTime(e.target.value)\r\n\t\tsetKaraokeModeratorTimes(tempArray)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"lyricsBlock\" key={index} id={index} onClick={(e) => changeCurrentTime(e, el.startTime)} style={play ? currentParagraph === index || !isVisible ? {} : Math.abs(currentParagraph - index) < 2? { opacity: .5, filter: 'blur(1px)' } : { opacity: .2, filter: 'blur(2px)' } : {}} ref={currentParagraph === index ? currentParagraphRef : paragraphRef} >\r\n\t\t\t{\r\n\t\t\t\tlyricsModeratorMode === 1 ?\r\n\t\t\t\t\t<div className=\"lyricsBlockInput\">\r\n\t\t\t\t\t\t<span onClick={e => e.stopPropagation()}>{karaokeModeratorTimes[index] !== undefined && karaokeModeratorTimes[index].length !== 0 ? <BiCheckCircle style={{ background: 'var(--themeColor3)', color: 'var(--themeColor)' }} /> : <FiXCircle />} </span>\r\n\t\t\t\t\t\t<input type=\"number\" value={karaokeModeratorTimes[index] || inputKaraokeTime} onChange={(e) => inputKaraoke(e, index)} onClick={e => e.stopPropagation()} />\r\n\t\t\t\t\t\t<div className=\"addLyricsElementBtns\" onClick={e => e.stopPropagation()}>\r\n\t\t\t\t\t\t\t<button onClick={() => { addLyricsBlock(index, 'up') }}><BiUpArrow /></button>\r\n\t\t\t\t\t\t\t<button onClick={() => { addLyricsBlock(index, 'down') }}><BiDownArrow /></button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div> :\r\n\t\t\t\t\tnull\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\tel.text === \"@loading\" ?\r\n\t\t\t\t\t<Loading currentTime={currentTime - lyrics[index].startTime} timeSpan={lyrics[index + 1].startTime - lyrics[index].startTime} id={index} />\r\n\t\t\t\t\t:\r\n\t\t\t\t\tel.text === \"@end\" ? <></>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<p key={index} id={index} style={paragraphStyle}>{el.text}</p>\r\n\t\t\t}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { Share } from '../components/FullScreenPlayer/Share';\r\nimport { Options } from '../components/FullScreenPlayer/Options';\r\nimport { Lyrics } from '../components/FullScreenPlayer/Lyrics';\r\nimport { Queue } from '../components/FullScreenPlayer/Queue';\r\nimport { BiDotsVerticalRounded, BiShare } from 'react-icons/bi';\r\nimport {RiPlayListFill} from 'react-icons/ri'\r\nimport {FiAlignLeft} from 'react-icons/fi'\r\nimport { TiDocumentText } from 'react-icons/ti';\r\nimport { AuthorsList } from '../components/FullScreenPlayer/AuthorsList';\r\nimport { SongInfo } from '../components/Basic/SongInfo';\r\nimport { AddToPlaylists } from '../components/FullScreenPlayer/AddToPlaylists';\r\nexport const rightSide = [\r\n\t{\r\n\t\tid:0, \r\n\t\ticon:<BiShare/>,\r\n\t\ttitle:'Share',\r\n\t\tcomponent:Share\r\n\t},\r\n\t{\r\n\t\tid:1, \r\n\t\ticon:<BiDotsVerticalRounded/>,\r\n\t\ttitle:'More',\r\n\t\tcomponent:Options\r\n\t},\r\n\t{\r\n\t\tid:2, \r\n\t\ticon:<TiDocumentText/>,\r\n\t\ttitle:'Lyrics',\r\n\t\tcomponent:Lyrics\r\n\t},\r\n\t{\r\n\t\tid:3, \r\n\t\ticon:<RiPlayListFill/>,\r\n\t\ttitle:'Queue',\r\n\t\tcomponent:Queue\r\n\t},\r\n\t{\r\n\t\tid:4, \r\n\t\ticon:null,\r\n\t\ttitle:'Go To Authors',\r\n\t\tcomponent:AuthorsList\r\n\t},\r\n\t{\r\n\t\tid:5, \r\n\t\ticon:null,\r\n\t\ttitle:'Add to playlist',\r\n\t\tcomponent:AddToPlaylists\r\n\t},\r\n\t{\r\n\t\tid:6, \r\n\t\ticon:null,\r\n\t\ttitle:'Info',\r\n\t\tcomponent:SongInfo\r\n\t},\r\n]","import React, { useState } from 'react'\r\nimport { FaFacebookF, FaTelegramPlane, FaVk } from 'react-icons/fa'\r\nimport { FiCopy } from 'react-icons/fi'\r\nimport { AiFillInstagram } from 'react-icons/ai'\r\nimport { ImWhatsapp } from 'react-icons/im'\r\nimport { friends } from '../../data/friends'\r\nimport { HiSearch } from 'react-icons/hi'\r\nimport { BiCheckCircle } from 'react-icons/bi'\r\nimport { chat } from '../../data/chat'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { authors } from '../../data/authors'\r\nimport {FriendsListToShareWith} from '../Basic/FriendsListToShareWith'\r\nexport const Share = () => {\r\n\tconst {currentSongData} = useSong()\r\n\tconst socialMedia = [\r\n\t\t<ImWhatsapp />,\r\n\t\t<FaFacebookF />,\r\n\t\t<FaTelegramPlane />,\r\n\t\t<FaVk />,\r\n\t\t<AiFillInstagram />\r\n\t]\r\n\treturn (\r\n\t\t<div className=\"Share\">\r\n\t\t\t<button className=\"shareCopyLink\">\r\n\t\t\t\t<FiCopy />\r\n\t\t\t\tCopy link\r\n\t\t\t</button>\r\n\t\t\t<div className=\"shareOnSocial\">\r\n\t\t\t\t{socialMedia.map((social, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className=\"shareSocialIcon\" key={index}>\r\n\t\t\t\t\t\t\t{social}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"sharePeopleShort\">\r\n\t\t\t\t<FriendsListToShareWith item = {currentSongData} whatToShare = {'song'}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport {MdPlaylistAdd} from 'react-icons/md'\r\nimport { BiAlbum, BiHeart, BiInfoCircle, BiPlusCircle, BiUserCircle } from \"react-icons/bi\";\r\nimport {FiTrash2, FiPlusCircle, FiInfo} from 'react-icons/fi'\r\nimport { useAuth } from '../../functionality/AuthContext';\r\nimport { useSong } from '../../functionality/SongPlay/SongContext';\r\nimport AddOrDeleteButtonFull from './AddOrDeleteSongButton';\r\nexport const Options = () => {\r\n\tconst {currentUser} = useAuth()\r\n\tconst {currentSongData, setRightSideCurrentPage} = useSong()\r\n\treturn (\r\n\t\t<div className='Options'>\r\n\t\t\t<div className='OptionItem' >\r\n\t\t\t\t<AddOrDeleteButtonFull song = {currentSongData}/>\r\n\t\t\t</div>\r\n\t\t\t<div className='OptionItem' onClick = {()=>setRightSideCurrentPage(4)}>\r\n\t\t\t\t<BiUserCircle />\r\n\t\t\t\tGo to author\r\n\t\t\t</div>\r\n\t\t\t<div className='OptionItem' onClick = {()=>setRightSideCurrentPage(5)}>\r\n\t\t\t\t<MdPlaylistAdd />\r\n\t\t\t\tAdd to playlist\r\n\t\t\t</div>\r\n\t\t\t<div className='OptionItem' onClick = {()=>setRightSideCurrentPage(6)}>\r\n\t\t\t\t<FiInfo/>\r\n\t\t\t\tInfo\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { firestore } from '../../firebase'\r\nimport { Slider } from '../Tools/Slider'\r\nimport {BiCheckCircle, BiDownArrow, BiUpArrow} from 'react-icons/bi'\r\nimport { FiXCircle } from 'react-icons/fi'\r\nimport { LyricsParagraph } from './LyricsParagraph'\r\nexport const Lyrics = () => {\r\n\tconst { setIsThereKaraoke, currentSongData, setCurrentSongData, isThereKaraoke, currentParagraph, displayAuthors, changeCurrentTime, play, currentTime, currentParagraphRef, currentSong, lyrics, rightSideCurrentPage, openFullScreenPlayer } = useSong()\r\n\tconst { currentUser } = useAuth()\r\n\tconst [inputKaraokeTime, setInputKaraokeTime] = useState(0)\r\n\tconst [karaokeModeratorTimes, setKaraokeModeratorTimes] = useState([])\r\n\tconst [lyricsModeratorMode, setLyricsModeratorMode] = useState(0)\r\n\tconst [canUpdateLyrics, setCanUpdateLyrics] = useState(false)\r\n\tuseEffect(() => {\r\n\t\tif (isThereKaraoke && rightSideCurrentPage === 2 && openFullScreenPlayer) currentParagraphRef.current.scrollIntoView()\r\n\t}, [currentParagraph])\r\n\tfunction inputKaraoke(e, index) {\r\n\t\t// console.log(\"ewqewqewq\")\r\n\t\tlet tempArray = karaokeModeratorTimes\r\n\t\tlet convertedToNumber = e.target.value\r\n\t\ttempArray[index] = convertedToNumber\r\n\t\tsetInputKaraokeTime(e.target.value)\r\n\t\tsetKaraokeModeratorTimes(tempArray)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif(lyrics[0] && lyrics[0].startTime !== 'undefined'){\r\n\t\t\tlyrics.forEach(paragraph => {\r\n\t\t\t\tkaraokeModeratorTimes.push(paragraph.startTime)\r\n\t\t\t});\r\n\t\t\tsetCanUpdateLyrics(true)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tlet tempSongData = currentSongData\r\n\t\t// console.log(tempSongData)\r\n\t\tif (tempSongData !== undefined && inputKaraokeTime !== 0) {\r\n\t\t\ttempSongData.lyrics.forEach((paragraph, index) => {\r\n\t\t\t\tparagraph.startTime = karaokeModeratorTimes[index] || 'undefined'\r\n\t\t\t})\r\n\t\t\tsetCurrentSongData(tempSongData)\r\n\t\t\tsetIsThereKaraoke(true)\r\n\t\t}\r\n\r\n\t\tif(!currentSongData.lyrics.some(paragraph=>paragraph.startTime === 'undefined')) setCanUpdateLyrics(true)\r\n\t\telse setCanUpdateLyrics(false)\r\n\t}, [inputKaraokeTime])\r\n\tfunction updateLyrics() {\r\n\t\t//TODO: add if statement to prevent adding lyrics time spans to not everysingle paragraph block\r\n\t\tfirestore.collection('songs').doc(currentSongData.id).update({\r\n\t\t\tlyrics: currentSongData.lyrics\r\n\t\t})\r\n\t}\r\n\r\n\t// console.log(currentSongData)\r\n\r\n\tfunction addLyricsBlock(indexOfRelativeElement, direction){\t\t\r\n\t\tconst tempTimes = karaokeModeratorTimes\r\n\t\tif(direction === 'down'){\r\n\t\t\ttempTimes.splice(indexOfRelativeElement + 1, 0, undefined)\r\n\t\t\tsetKaraokeModeratorTimes(tempTimes)\r\n\t\t\treturn currentSongData.lyrics.splice(indexOfRelativeElement + 1, 0, {startTime:\"undefined\", text:\"@loading\"})\r\n\t\t}\r\n\t\t\r\n\t\ttempTimes.splice(indexOfRelativeElement, 0, undefined)\r\n\t\tsetKaraokeModeratorTimes(tempTimes)\r\n\t\tcurrentSongData.lyrics.splice(indexOfRelativeElement, 0, {startTime:\"undefined\", text:\"@loading\"})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"Lyrics\">\r\n\t\t\t{\r\n\t\t\t\tcurrentUser.isAdmin ?\r\n\t\t\t\t\t<Slider pages={['Listen mode', 'Edit Mode']} currentPage={lyricsModeratorMode} setCurrentPage={setLyricsModeratorMode} /> :\r\n\t\t\t\t\tnull\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\tisThereKaraoke ?\r\n\t\t\t\t\tlyrics.map((el, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<LyricsParagraph el = {el} index = {i} lyricsModeratorMode = {lyricsModeratorMode} karaokeModeratorTimes = {karaokeModeratorTimes} setKaraokeModeratorTimes = {setKaraokeModeratorTimes} setInputKaraokeTime = {setInputKaraokeTime} inputKaraokeTime = {inputKaraoke}/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}) :\r\n\t\t\t\t\tlyrics.map((el, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"lyricsBlock\" key={i}>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlyricsModeratorMode === 1 ?\r\n\t\t\t\t\t\t\t\t\t<div className=\"lyricsBlockInput\">\r\n\t\t\t\t\t\t\t\t\t\t{karaokeModeratorTimes[i] !== undefined && karaokeModeratorTimes[i].length !== 0?<BiCheckCircle style = {{background:'var(--themeColor3)', color:'var(--themeColor)'}}/>:<FiXCircle/>} \r\n\t\t\t\t\t\t\t\t\t\t<input type=\"number\"  value={karaokeModeratorTimes[i] || inputKaraokeTime} onChange={(e) => inputKaraoke(e, i)} onClick={e => e.stopPropagation()} /> \r\n\t\t\t\t\t\t\t\t\t\t<div className=\"addLyricsElementBtns\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button onClick = {()=>addLyricsBlock(i, 'up')}><BiUpArrow/></button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button onClick = {()=>addLyricsBlock(i, 'down')}><BiDownArrow/></button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>:\r\n\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<p>{el.text}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t<h6 className={\"lyricsAuthors \" + (currentParagraph === lyrics.length - 1 ? \"active\" : \"\")}>Authors:  {displayAuthors()}</h6>\r\n\t\t\t{\r\n\t\t\t\tlyricsModeratorMode === 1 ?\r\n\t\t\t\t\t<button onClick={canUpdateLyrics?updateLyrics:null} className=\"updateLyricsBtn\" style = {!canUpdateLyrics?{opacity:0.3}:{}}>Update Lyrics</button> :\r\n\t\t\t\t\tnull\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport shortWord from '../../functions/shortWord'\r\nimport { SongItem } from './SongItem'\r\n\r\nexport const Queue = () => {\r\n\tconst { currentSongQueue, currentSongPlaylistSource, setOpenFullScreenPlayer } = useSong()\r\n\treturn (\r\n\t\t<div className=\"Queue\">\r\n\t\t\t<div className=\"queueNowIsPlaying\">\r\n\t\t\t\t<h5 style={{ marginTop: 2 }}>\r\n\t\t\t\t\tNow is playing:\r\n\t\t\t\t\t<Link onClick={() => setOpenFullScreenPlayer(false)} to={currentSongPlaylistSource.source} className=\"queueAlbumName\">\r\n\t\t\t\t\t\t<div className=\"queueImage\">\r\n\t\t\t\t\t\t\t<img src={currentSongPlaylistSource.image} alt=\"\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span>{shortWord(currentSongPlaylistSource.name, 25)}</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\t\t\t{currentSongQueue.map((song, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<SongItem song={song} localIndex={index} key={index} />\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\n\r\nexport const AuthorsList = () => {\r\n\tconst { displayAuthorsFull } = useSong()\r\n\treturn (\r\n\t\t<div className=\"rightSideAuthorsList\" >\r\n\t\t\t<div className=\"rightSideAuthorsListCentralBlock\">\r\n\t\t\t\t{displayAuthorsFull()}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import '../../App.css';\r\nimport React, { useState, useRef, useEffect } from 'react'\r\nimport { BiChevronLeft } from 'react-icons/bi'\r\nimport { rightSide } from '../../data/playerRightSide'\r\nimport { Player } from '../FullScreenPlayer/Player';\r\nimport { HiChevronDown } from 'react-icons/hi';\r\nimport { useSong } from '../../functionality/SongPlay/SongContext';\r\nimport { FiMinus } from 'react-icons/fi';\r\nimport {useSwipeable} from 'react-swipeable'\r\nimport checkNumber from '../../functions/checkNumber';\r\nimport { useOutsideClick } from '../../hooks/useOutsideClick';\r\nimport { useScreen } from '../../functionality/ScreenContext';\r\n\r\nexport default function FullScreenPlayer() {\r\n  const {\r\n    imgColors,\r\n    inputRef,\r\n    rightSideCurrentPage,\r\n    setRightSideCurrentPage,\r\n    openFullScreenPlayer,\r\n    setOpenFullScreenPlayer,\r\n    lyrics,\r\n    openMenu,\r\n    setOpenMenu\r\n  } = useSong()\r\n  const {isMobile} = useScreen()\r\n  const lyricsRef = useRef(null)\r\n  const [transformTransition, setTransformTransition] = useState(0.05)\r\n  const [mobileMenuTransition, setMobileMenuTransition] = useState(0)\r\n  // const [swipeDown, setSwipeDown] = useState(false)\r\n  const [deltaY, setDeltaY] = useState(0)\r\n  const [deltaYMobileMenu, setDeltaYMobileMenu] = useState(0)\r\n  const mobileContentScroll = useRef()\r\n  // setup ref for your usage\r\n  const mobileMenuRef = React.useRef();\r\n  useOutsideClick(mobileMenuRef, setOpenMenu)\r\n  const handlers = useSwipeable({\r\n    // onSwiped: (eventData) => {setSwipeDown(eventData.dir === 'Down')},\r\n    onSwiping: (event) => { if (event.deltaY > 0) setDeltaY(event.deltaY); }\r\n  })\r\n\r\n  // setup ref for your usage\r\n  const bgRef = React.useRef();\r\n\r\n  const handlersForMobileMenu = useSwipeable({\r\n    onSwiping: (event) => {event.event.stopPropagation();if (openMenu && mobileContentScroll.current.scrollTop === 0 &&  event.deltaY > 0) setDeltaYMobileMenu(event.deltaY); else if (!openMenu && event.deltaY < 0) setDeltaYMobileMenu(event.deltaY) },\r\n    onSwipedLeft:()=> {setRightSideCurrentPage(checkNumber(rightSideCurrentPage+1, 3))},\r\n    onSwipedRight:()=> {setRightSideCurrentPage(checkNumber(rightSideCurrentPage-1, 3))}\r\n  })\r\n  \r\n\r\n  function returnToInitialMobileMenu() {\r\n    let dropDelta\r\n    clearTimeout(dropDelta)\r\n    setMobileMenuTransition(0)\r\n    dropDelta = setTimeout(() => {\r\n      setMobileMenuTransition(0.2)\r\n      setDeltaYMobileMenu(0)\r\n    }, 300)\r\n    \r\n  }\r\n\r\n  useEffect(() => {\r\n    if (deltaY > 150) {\r\n      setOpenFullScreenPlayer(false)\r\n    }\r\n  }, [deltaY])\r\n\r\n  useEffect(() => {\r\n    if (!openMenu && deltaYMobileMenu < -100) {\r\n      setOpenMenu(true)\r\n      setDeltaYMobileMenu(0)\r\n      setMobileMenuTransition(0.2)\r\n    }\r\n    else if (openMenu && deltaYMobileMenu > 150) {\r\n      setOpenMenu(false)\r\n      setDeltaYMobileMenu(0)\r\n      setMobileMenuTransition(0.2)\r\n    }\r\n    else {\r\n      returnToInitialMobileMenu()\r\n    }\r\n  }, [deltaYMobileMenu])\r\n\r\n  \r\n\r\n  function returnToInitial() {\r\n    let dropDelta\r\n    clearTimeout(dropDelta)\r\n    setTransformTransition(0.2)\r\n    dropDelta = setTimeout(() => {\r\n      setDeltaY(0)\r\n      setTransformTransition(0)\r\n    }, 100)\r\n  }\r\n\r\n  const refPassthroughBg = (el) => {\r\n    handlers.ref(el);\r\n    bgRef.current = el;\r\n  }\r\n\r\n  const refPassthroughMobileMenu = (el) => {\r\n    handlersForMobileMenu.ref(el);\r\n    mobileMenuRef.current = el;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (imgColors.length !== 0) {\r\n      document.documentElement.style.setProperty('--themeColor', imgColors[1]);\r\n      document.documentElement.style.setProperty('--themeColor2', imgColors[0]);\r\n      document.documentElement.style.setProperty('--themeColor3', imgColors[2]);\r\n      document.documentElement.style.setProperty('--themeColor4', imgColors[5]);\r\n      document.documentElement.style.setProperty('--themeColorTransparent', imgColors[0] + '6e');\r\n    }\r\n  }, [imgColors])\r\n\r\n\r\n  function rightSideContent(currentPage) {\r\n    let RightSidePage = rightSide[currentPage].component\r\n    return (<RightSidePage />)\r\n  }\r\n\r\n  function noLyrics() {\r\n    return lyrics.length === 0\r\n  }\r\n\r\n  function changeRightSidePage(el) {\r\n    if (el.id === 2 && noLyrics()) return null\r\n    setMobileMenuTransition(0.2)\r\n    setRightSideCurrentPage(el.id);\r\n    setOpenMenu(true)\r\n  }\r\n  return (\r\n    <div className=\"bg\"\r\n      style={\r\n        openFullScreenPlayer ?\r\n          {\r\n            top: 0,\r\n            opacity: 1,\r\n            visibility: 'visible',\r\n            zIndex: 10,\r\n            transform: `translateY(${deltaY}px)`,\r\n            borderRadius: `${deltaY < 20 ? deltaY : 20}px ${deltaY < 20 ? deltaY : 20}px 0 0`,\r\n            transition: `.4s opacity, ${transformTransition}s transform, .4s top, .4s visibility`\r\n          } :\r\n          {\r\n            transform: `translateY(${deltaY}px)`,\r\n            transition: `.4s opacity, ${transformTransition}s transform, .4s top, .4s visibility`\r\n          }\r\n      }\r\n      ref={refPassthroughBg}\r\n      {...handlers}\r\n      onTouchEnd={returnToInitial}\r\n    >\r\n\r\n      <div className=\"auroraWrapper\">\r\n        <div className=\"auroraCircle\"></div>\r\n        <div className=\"auroraCircle\"></div>\r\n        <div className=\"auroraCircle\"></div>\r\n      </div>\r\n      \r\n      <div className=\"closeFullScreen\" onClick={() => { setOpenFullScreenPlayer(false) }}>\r\n        {window.innerWidth > 1000 ? <HiChevronDown /> : <FiMinus style={{ opacity: .6 }} />}\r\n      </div>\r\n      <div className=\"FullScreenPlayer\" >\r\n        <div className=\"leftSide\" style={!openMenu ? { width: '100%' } : isMobile?{\r\n            opacity: 0.6,\r\n            visibility: 'visible',\r\n            transform: `translateY(20px)`,\r\n            borderRadius: `10px`,\r\n            transition: `.4s`}:null}>\r\n          <Player inputRef={inputRef} />\r\n        </div>\r\n        {window.innerWidth > 1000 ?\r\n          <div className=\"rightSideWrapper\" style={!openMenu ? { transform: 'translateX(calc(100% - 90px))', width: 0 } : {}}>\r\n            <button className=\"menuBtn\" style={openMenu ? { transform: 'rotate(180deg)' } : { opacity: 0, visibility: 'hidden' }} onClick={() => setOpenMenu(!openMenu)}><BiChevronLeft /></button>\r\n            <div className=\"rightSideControl\">\r\n              {rightSide.map((el, i) => {\r\n                return (\r\n                  <div className=\"controlIcon\" key={el.id} style={el.id === rightSideCurrentPage && openMenu ? { background: \"var(--themeColor)\" } : el.id === 2 && noLyrics() ? { opacity: .4 } : {}} onClick={() => changeRightSidePage(el)}>\r\n                    {el.icon}\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n            <div className=\"rightSide\" ref={lyricsRef} style={!openMenu ? { display: 'none' } : {}}>\r\n              {rightSideContent(rightSideCurrentPage)}\r\n            </div>\r\n          </div> :\r\n          <div className=\"mobilePlayerMenu\" {...handlersForMobileMenu} ref={refPassthroughMobileMenu} style={\r\n            openMenu ?\r\n              {\r\n                top: `calc(100% - calc(70vh + 55px) + ${deltaYMobileMenu}px)`,\r\n                transition: `${mobileMenuTransition}s`\r\n\r\n              } :\r\n              {\r\n                top: `calc(100% - 55px + ${deltaYMobileMenu}px)`,\r\n                transition: `${mobileMenuTransition}s`\r\n              }\r\n\r\n          }\r\n          // onTouchStart = {returnToInitialMobileMenu}\r\n          >\r\n            <div className=\"mobilePlayerMenuClose\">\r\n              <FiMinus style={{ opacity: .6, width: '50px' }} onClick={() => setOpenMenu(!openMenu)} />\r\n            </div>\r\n            <div className=\"controlIconsWrapper\">\r\n              {rightSide.map((el, i) => {\r\n                if(i <= 3){\r\n                  return (\r\n                    <div className=\"controlIcon\" key={el.id} style={el.id === rightSideCurrentPage && openMenu ? { background: \"var(--transparentWhite)\" } : el.id === 2 && noLyrics() ? { opacity: .4 } : {}} onClick={(e) => changeRightSidePage(el)}>\r\n                      {el.title}\r\n                    </div>\r\n                  )\r\n                }\r\n              })}\r\n            </div>\r\n            <div className=\"mobilePlayerMenuContent\" ref = {mobileContentScroll} style = {!openMenu?{opacity:0}:{}}>\r\n              {rightSideContent(rightSideCurrentPage)}\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function NavigationItem({id, title, icon, link, currentPage, setCurrentPage}) {\r\n\treturn (\r\n\t\t<Link to = {link}>\r\n\t\t\t<div className={\"NavigationItem \" + (id === currentPage?\"active\":\"\")} onClick={() => setCurrentPage(id)}>\r\n\t\t\t\t<div className=\"icon\">{icon}</div>\r\n\t\t\t\t<b>{title}</b>\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { BiShare } from 'react-icons/bi'\r\nimport { FiMessageCircle, FiUser } from 'react-icons/fi'\r\nimport { Link } from 'react-router-dom'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { createChat } from '../../functions/createChat'\r\nimport { findChatURL } from '../../functions/findChatURL'\r\nimport getUID from '../../functions/getUID'\r\nimport shareWithOneFriend from '../../functions/shareWithOneFriend'\r\nimport { Hint } from '../Basic/Hint'\r\nimport { IsUserOnlineCircle } from '../Basic/IsUserOnlineCircle'\r\n\r\nexport const Person = ({ index, friend }) => {\r\n\tconst { currentUser } = useAuth()\r\n\tconst [friendChatId, setFriendChatId] = useState(0)\r\n\tconst [shouldCreate, setShouldCreate] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tfindChatURL([friend.uid], currentUser, setShouldCreate, setFriendChatId)\r\n\t}, [])\r\n\tconst { currentSong } = useSong()\r\n\treturn (\r\n\t\t<div className=\"person\" key={index} id={friend.uid} >\r\n\t\t\t<div className=\"personBtns\">\r\n\t\t\t\t<Link to={`/chat/${friendChatId}`}>\r\n\t\t\t\t\t<button onClick={() => { if (shouldCreate) createChat([currentUser.uid, friend.uid], friendChatId) }}>\r\n\t\t\t\t\t\t<Hint text={'chat'} />\r\n\t\t\t\t\t\t<FiMessageCircle />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Link to={`/authors/${friend.uid}`}>\r\n\t\t\t\t\t<button>\r\n\t\t\t\t\t\t<Hint text={'profile'} />\r\n\t\t\t\t\t\t<FiUser />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<button onClick={(e) => shareWithOneFriend(e, currentSong)}>\r\n\t\t\t\t\t<Hint text={'share'} />\r\n\t\t\t\t\t<BiShare />\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"pesronImg\" style={{ pointerEvents: 'none' }}>\r\n\t\t\t\t<img src={friend.photoURL} alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t<IsUserOnlineCircle userUID={friend.uid} />\r\n\t\t\t<div className=\"personName\" style={{ pointerEvents: 'none' }}>\r\n\t\t\t\t{friend.displayName}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { BiAlbum } from 'react-icons/bi'\r\nimport { FiPlayCircle, FiPlusCircle, FiShare } from 'react-icons/fi'\r\nimport { Link } from 'react-router-dom'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport shortWord from '../../functions/shortWord'\r\nimport { FriendsListToShareWith } from '../Basic/FriendsListToShareWith'\r\nimport { Hint } from '../Basic/Hint'\r\n\r\nexport const TinyPlaylist = ({playlist}) => {\r\n\tconst {toggleModal, setContent} = useModal()\r\n\treturn (\r\n\t\t<div className=\"TinyPlaylist\">\r\n\t\t\t<div className=\"TinyPlaylistBtns\">\r\n\t\t\t\t<button>\r\n\t\t\t\t\t<Hint text={'add song'} />\r\n\t\t\t\t\t<FiPlusCircle/>\r\n\t\t\t\t</button>\r\n\t\t\t\t<Link to={`/albums/${playlist.id}`}>\r\n\t\t\t\t\t<button>\r\n\t\t\t\t\t\t<Hint text={'album'} /><BiAlbum />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<button>\r\n\t\t\t\t\t<Hint text={'play'} />\r\n\t\t\t\t\t<FiPlayCircle/>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"TinyPlaylistImg\">\r\n\t\t\t\t<img src={playlist.image} alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t<div style = {{display:'flex', flexDirection:'column'}}>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{shortWord(playlist.name, 13) }\r\n\t\t\t\t</span>\r\n\t\t\t\t<span style = {{fontSize:'0.8em', color:'grey', fontWeight:'500'}}>\r\n\t\t\t\t\t{playlist.isAlbum?\"album\":\"playlist\"}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport const NotificationCircle = () => {\r\n\treturn (\r\n\t\t<div className = \"NotificationCircle\"></div>\r\n\t)\r\n}\r\n","import React, { useState } from 'react'\r\nimport { leftSideBar } from '../../data/leftSideBar'\r\nimport NavigationItem from '../LeftsideBar/NavigationItem'\r\nimport Logo from \"../../images/Logo3.svg\"\r\nimport '../../styles/LeftsideBar.css'\r\nimport { Player } from '../FullScreenPlayer/Player'\r\nimport { BiFolderPlus, BiFullscreen} from 'react-icons/bi'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport normalizeString from '../../functions/normalizeString'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { FiChevronDown, FiChevronUp } from 'react-icons/fi'\r\nimport { useModal } from '../../functionality/ModalClass'\r\nimport { FriendsListToShareWith } from './FriendsListToShareWith'\r\nimport { Person } from '../LeftsideBar/Person'\r\nimport { CreatePlaylistPage } from '../LibraryPage/CreatePlaylistPage'\r\nimport { TinyPlaylist } from '../LeftsideBar/TinyPlaylist'\r\nimport { NotificationCircle } from './NotificationCircle'\r\nexport const LeftsideBar = () => {\r\n\tconst { currentUser } = useAuth()\r\n\tconst {\r\n\t\tleftSideBarInputRef,\r\n\t\tsetOpenFullScreenPlayer,\r\n\t\tcurrentSongData,\r\n\t\tyourFriends,\r\n\t\tyourPlaylists\r\n\t} = useSong()\r\n\tconst { toggleModal, setContent } = useModal()\r\n\tconst [currentFriendToPlaylistPage, setCurrentFriendToPlaylistPage] = useState(0)\r\n\tconst [currentPage, setCurrentPage] = useState(\r\n\t\t() => {\r\n\t\t\tlet page = leftSideBar.find((el, i) => {\r\n\t\t\t\tconsole.log(window.location.hash)\r\n\t\t\t\tif (window.location.hash.includes(normalizeString(el.title))) {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false\r\n\t\t\t})\r\n\t\t\treturn page === undefined ? 0 : page.id\r\n\t\t}\r\n\t)\r\n\treturn (\r\n\t\t<div className=\"LeftsideBar\">\r\n\t\t\t<div className=\"logo\">\r\n\t\t\t\t<img src={Logo} alt=\"\" />\r\n\t\t\t\t<h3>Soundbubble</h3>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"leftSideBarContainer\">\r\n\t\t\t\t<Link to={`/authors/${currentUser.uid}`}>\r\n\t\t\t\t\t<div className=\"person\">\r\n\t\t\t\t\t\t{currentUser.friends.some(friend=>friend.status === 'requested')?<NotificationCircle/>:null}\r\n\t\t\t\t\t\t<div className=\"pesronImg\">\r\n\t\t\t\t\t\t\t<img src={currentUser.photoURL} alt=\"\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"personName\">\r\n\t\t\t\t\t\t\t{currentUser.displayName}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"NavigationPanel\">\r\n\t\t\t\t{leftSideBar.map(({ id, title, icon, link }, index) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<NavigationItem key={index} id={id} title={title} icon={icon} link={link} currentPage={currentPage} setCurrentPage={setCurrentPage} />\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"leftSideBarContainer friendsAndPlaylists\">\r\n\t\t\t\t<span style={{display: !currentFriendToPlaylistPage ? \"block\" : \"none\", animation: 'scrollFromBottom .2s forwards' }}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tyourFriends.length > 0?\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t{yourFriends.map((friend, index) => {\r\n\t\t\t\t\t\t\tif (index <= 2) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Person index={friend.uid} friend={friend}/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn null\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t<h4 className=\"seeMoreBtn\" onClick={() => { toggleModal(); setContent(<FriendsListToShareWith item={currentSongData} whatToShare = {\"song\"}/>) }}>See more</h4>\r\n\t\t\t\t\t\t</>:\r\n\t\t\t\t\t\t<h4 style = {{alignSelf:'center',width:'100%', display:'flex', alignItems:'center', justifyContent:'center'}}>No friends added</h4>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t</span>\r\n\t\t\t\t<span style={{display: currentFriendToPlaylistPage ? \"block\" : \"none\", animation: 'scrollFromTop .2s forwards' }}>\r\n\t\t\t\t\t{yourPlaylists.map((playlist, index) => {\r\n\t\t\t\t\t\tif (index <= 2) {\r\n\t\t\t\t\t\t\treturn <TinyPlaylist playlist = {playlist} key = {playlist.id}/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<button className=\"createPlaylistBtn\" onClick={() => { toggleModal(); setContent(<CreatePlaylistPage />) }} style = {{margin:'5px 0'}}>\r\n\t\t\t\t\t\t<BiFolderPlus />\r\n\t\t\t\t\t\tCreate Playlist\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</span>\r\n\t\t\t\t<div className=\"upAndDownBtns\">\r\n\t\t\t\t\t<button onClick={() => setCurrentFriendToPlaylistPage(0)} style={!currentFriendToPlaylistPage ? { opacity: '0.3' } : {}}><FiChevronUp /></button>\r\n\t\t\t\t\t<button onClick={() => setCurrentFriendToPlaylistPage(1)} style={currentFriendToPlaylistPage ? { opacity: '0.3' } : {}}><FiChevronDown /></button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"leftSideBarContainer\">\r\n\t\t\t\t{\r\n\t\t\t\t\t(Object.keys(currentSongData).length === 0 && currentSongData.constructor === Object) || currentSongData.id === -1?\r\n\t\t\t\t\tnull:<div className=\"littlePlayer\">\r\n\t\t\t\t\t\t<Player textLimit={15} inputRef={leftSideBarInputRef} />\r\n\t\t\t\t\t\t<div className=\"fullScreenBtn\" onClick={() => setOpenFullScreenPlayer(true)}>\r\n\t\t\t\t\t\t\t<BiFullscreen />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSong } from '../../functionality/SongPlay/SongContext'\r\nimport { ContentRouter } from '../../routers/ContentRouter'\r\nimport { FullBottomSide } from '../Mobile/FullBottomSide'\r\nimport FullScreenPlayer from './FullScreenPlayer'\r\nimport { LeftsideBar } from './LeftsideBar'\r\nimport { ModalWindow } from './ModalWindow'\r\nimport '../../styles/FullScreenPlayer.css'\r\nimport { firestore } from '../../firebase'\r\nimport { useAuth } from '../../functionality/AuthContext'\r\nimport { useScreen } from '../../functionality/ScreenContext'\r\n\r\nexport const ContentWrapper = () => {\r\n\tconst { songRef, loadSongData, playing, songSrc, openFullScreenPlayer } = useSong()\r\n\tconst {isMobile, screenHeight} = useScreen()\r\n\tconst {currentUser} = useAuth()\r\n\tconst fiveMinutes = 300000 // ten minutes, or whatever makes sense for your app\r\n\tconst [intervalExciter, setIntervalExciter] = useState(true)\r\n\t// \"maintain connection\"\r\n\tuseEffect(() => {\r\n\t\tconst interval = setInterval(() => {\r\n\t\t\tfirestore.collection('users').doc(currentUser.uid).update({ online: new Date().getTime() })\r\n\t\t\tsetIntervalExciter(!intervalExciter)\r\n\t\t}, fiveMinutes)\r\n\t\treturn () => clearInterval(interval);\r\n\t}, [intervalExciter]);\r\n\t\r\n\tuseEffect(() => {\r\n\t\tfirestore.collection('users').doc(currentUser.uid).update({ online: new Date().getTime() })\r\n\t}, [])\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<audio src={songSrc} ref={songRef} onLoadedData={loadSongData} onTimeUpdate={playing} ></audio>\r\n\t\t\t<div className={\"Wrapper \" + (openFullScreenPlayer?\"turnedOff\":\"\")} style = {isMobile?{height:screenHeight}:{height:\"100vh\"}}>\r\n\t\t\t\t{!isMobile ? <LeftsideBar /> : window.location.hash.substr(2, 4) === 'chat' && window.location.hash.length > 6?null:<FullBottomSide />}\r\n\t\t\t\t<div className=\"Content\">\r\n\t\t\t\t\t<ContentRouter />\r\n\t\t\t\t</div>\r\n\t\t\t\t<ModalWindow />\r\n\t\t\t</div>\r\n\t\t\t<FullScreenPlayer />\r\n\t\t</>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport {Route, Switch, Redirect} from 'react-router-dom'\r\nimport { ContentWrapper } from '../components/Basic/ContentWrapper'\r\nimport { useAuth } from '../functionality/AuthContext'\r\nimport { publicRoutes } from '../routes'\r\nimport { LOGIN_ROUTE} from '../utils/consts'\r\nexport const AppRouter = () => {\r\n\tconst {currentUser} = useAuth()\r\n\treturn currentUser ?\r\n\t(\r\n\t\t<Switch>\r\n\t\t\t<Route path='/' component = {ContentWrapper} />\r\n\t\t</Switch>\r\n\t):\r\n\t(\r\n\t\t<Switch>\r\n\t\t\t{publicRoutes.map(({path, Component}, i)=>{\r\n\t\t\t\treturn <Route path={path} component={Component} exact = {true} key = {i}/>\r\n\t\t\t})}\r\n\t\t\t<Redirect to={LOGIN_ROUTE} />\r\n\t\t</Switch>\r\n\t)\r\n}\r\n","import './App.css';\r\nimport React from 'react'\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { AppRouter } from './routers/AppRouter';\r\nexport default function App() {\r\n  \r\n\r\n  return (\r\n    <HashRouter basename = \"/\">\r\n      <AppRouter/>\r\n    </HashRouter>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { AuthProvider } from './functionality/AuthContext';\r\nimport { ModalClassProvider } from './functionality/ModalClass';\r\nimport { ScreenProvider } from './functionality/ScreenContext';\r\nimport { SongProvider } from './functionality/SongPlay/SongContext';\r\nReactDOM.render(\r\n  \r\n  <React.StrictMode>\r\n    <ScreenProvider>\r\n      <AuthProvider>\r\n        <SongProvider>\r\n          <ModalClassProvider>\r\n            <App />\r\n          </ModalClassProvider>\r\n        </SongProvider>\r\n      </AuthProvider>\r\n    </ScreenProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}